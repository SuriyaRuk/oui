(window["dataExplorer_bundle_jsonpfunction"]=window["dataExplorer_bundle_jsonpfunction"]||[]).push([[1],{77:function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(78);case"v7light":return __webpack_require__(80);case"v8dark":return __webpack_require__(82);case"v8light":return __webpack_require__(84)}},78:function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(79);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},79:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.deSidebar {\n  max-width: 462px;\n  min-width: 400px; }\n  @media only screen and (max-width: 574px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n.deLayout {\n  height: calc(100vh - 49px); }\n  .deLayout__canvas {\n    height: 100%; }\n\n.headerIsExpanded .deLayout {\n  height: calc(100vh - 98px); }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},80:function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(81);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},81:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.deSidebar {\n  max-width: 462px;\n  min-width: 400px; }\n  @media only screen and (max-width: 574px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n.deLayout {\n  height: calc(100vh - 49px); }\n  .deLayout__canvas {\n    height: 100%; }\n\n.headerIsExpanded .deLayout {\n  height: calc(100vh - 98px); }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},82:function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(83);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},83:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.deSidebar {\n  max-width: 462px;\n  min-width: 400px; }\n  @media only screen and (max-width: 574px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n.deLayout {\n  height: calc(100vh - 49px); }\n  .deLayout__canvas {\n    height: 100%; }\n\n.headerIsExpanded .deLayout {\n  height: calc(100vh - 98px); }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},84:function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(85);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},85:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.deSidebar {\n  max-width: 462px;\n  min-width: 400px; }\n  @media only screen and (max-width: 574px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\n    .deSidebar {\n      max-width: initial;\n      width: 100%; } }\n.deLayout {\n  height: calc(100vh - 49px); }\n  .deLayout__canvas {\n    height: 100%; }\n\n.headerIsExpanded .deLayout {\n  height: calc(100vh - 98px); }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},86:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderApp",(function(){return renderApp}));var external_osdSharedDeps_React_=__webpack_require__(4);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var external_osdSharedDeps_ReactDom_=__webpack_require__(31);var external_osdSharedDeps_ReactDom_default=__webpack_require__.n(external_osdSharedDeps_ReactDom_);var lib=__webpack_require__(15);var external_osdSharedDeps_ReactRouterDom_=__webpack_require__(73);var public_=__webpack_require__(72);var state_management=__webpack_require__(1);var metadata_slice=__webpack_require__(3);const useView=()=>{const viewId=Object(state_management["f"])(state=>state.metadata.view);const{services:{viewRegistry:viewRegistry}}=Object(public_["useOpenSearchDashboards"])();const dispatch=Object(state_management["e"])();const{appId:appId}=Object(external_osdSharedDeps_ReactRouterDom_["useParams"])();const view=Object(external_osdSharedDeps_React_["useMemo"])(()=>{if(!viewId)return undefined;return viewRegistry.get(viewId)},[viewId,viewRegistry]);Object(external_osdSharedDeps_React_["useEffect"])(()=>{const currentView=viewRegistry.get(appId);if(!currentView)return;dispatch(Object(metadata_slice["d"])(currentView===null||currentView===void 0?void 0:currentView.id))},[appId,dispatch,viewRegistry]);return{view:view,viewRegistry:viewRegistry}};var external_osdSharedDeps_ElasticEui_=__webpack_require__(74);var external_osdSharedDeps_OsdI18n_=__webpack_require__(75);var data_public_=__webpack_require__(18);const Sidebar=_ref=>{let{children:children}=_ref;const{indexPattern:indexPatternId}=Object(state_management["f"])(state=>state.metadata);const dispatch=Object(state_management["e"])();const[selectedSources,setSelectedSources]=Object(external_osdSharedDeps_React_["useState"])([]);const[dataSourceOptionList,setDataSourceOptionList]=Object(external_osdSharedDeps_React_["useState"])([]);const[activeDataSources,setActiveDataSources]=Object(external_osdSharedDeps_React_["useState"])([]);const{services:{data:{indexPatterns:indexPatterns,dataSources:dataSources},notifications:{toasts:toasts},application:application}}=Object(public_["useOpenSearchDashboards"])();Object(external_osdSharedDeps_React_["useEffect"])(()=>{let isMounted=true;const subscription=dataSources.dataSourceService.dataSources$.subscribe(currentDataSources=>{if(isMounted){setActiveDataSources(Object.values(currentDataSources))}});return()=>{subscription.unsubscribe();isMounted=false}},[indexPatterns,dataSources]);const getMatchedOption=(dataSourceList,ipId)=>{for(const dsGroup of dataSourceList){const matchedOption=dsGroup.options.find(item=>item.value===ipId);if(matchedOption!==undefined)return matchedOption}return undefined};Object(external_osdSharedDeps_React_["useEffect"])(()=>{if(indexPatternId){const option=getMatchedOption(dataSourceOptionList,indexPatternId);setSelectedSources(option?[option]:[])}},[indexPatternId,activeDataSources,dataSourceOptionList]);const handleSourceSelection=Object(external_osdSharedDeps_React_["useCallback"])(selectedDataSources=>{var _selectedDataSources$,_selectedDataSources$2;if(selectedDataSources.length===0){setSelectedSources(selectedDataSources);return}if(((_selectedDataSources$=selectedDataSources[0])===null||_selectedDataSources$===void 0?void 0:(_selectedDataSources$2=_selectedDataSources$.ds)===null||_selectedDataSources$2===void 0?void 0:_selectedDataSources$2.getType())!=="DEFAULT_INDEX_PATTERNS"){return application.navigateToUrl("../observability-logs#/explorer?datasourceName=".concat(selectedDataSources[0].label,"&datasourceType=").concat(selectedDataSources[0].type))}setSelectedSources(selectedDataSources);dispatch(Object(state_management["d"])(selectedDataSources[0].value))},[application,dispatch]);const handleGetDataSetError=Object(external_osdSharedDeps_React_["useCallback"])(()=>error=>{toasts.addError(error,{title:external_osdSharedDeps_OsdI18n_["i18n"].translate("dataExplorer.sidebar.failedToGetDataSetErrorDescription",{defaultMessage:"Failed to get data set: "})+(error.message||error.name)})},[toasts]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageSideBar"],{className:"deSidebar",sticky:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSplitPanel"].Outer,{className:"eui-yScroll",hasBorder:true,borderRadius:"none"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSplitPanel"].Inner,{paddingSize:"s",color:"subdued",grow:false},external_osdSharedDeps_React_default.a.createElement(data_public_["DataSourceSelectable"],{dataSources:activeDataSources,dataSourceOptionList:dataSourceOptionList,setDataSourceOptionList:setDataSourceOptionList,onDataSourceSelect:handleSourceSelection,selectedSources:selectedSources,onGetDataSetError:handleGetDataSetError})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSplitPanel"].Inner,{paddingSize:"none",color:"subdued",className:"eui-yScroll"},children)))};var external_osdSharedDeps_OsdI18nReact_=__webpack_require__(76);const NoView=()=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageTemplate"],{template:"centeredContent",className:"dePageTemplate",pageContentProps:{role:"alertdialog",color:"plain",hasBorder:false}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",iconColor:"danger",title:external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"dataExplorer.noView.title",defaultMessage:"View not found"})),body:external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"dataExplorer.noView.body",defaultMessage:"The view you are trying to access does not exist. Please check the URL and try again."}))}));var app_container=__webpack_require__(77);const AppContainer=_ref=>{let{view:view,params:params}=_ref;if(!view){return external_osdSharedDeps_React_default.a.createElement(NoView,null)}const{Canvas:Canvas,Panel:Panel,Context:Context}=view;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPage"],{className:"deLayout",paddingSize:"none"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Suspense"],{fallback:external_osdSharedDeps_React_default.a.createElement("div",null,"Loading...")},external_osdSharedDeps_React_default.a.createElement(Context,params,external_osdSharedDeps_React_default.a.createElement(Sidebar,null,external_osdSharedDeps_React_default.a.createElement(Panel,params)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageBody"],{className:"deLayout__canvas"},external_osdSharedDeps_React_default.a.createElement(Canvas,params)))))};const DataExplorerApp=_ref=>{let{params:params}=_ref;const{view:view}=useView();const{services:{data:{query:query},osdUrlStateStorage:osdUrlStateStorage}}=Object(public_["useOpenSearchDashboards"])();const{pathname:pathname}=Object(external_osdSharedDeps_ReactRouterDom_["useLocation"])();Object(external_osdSharedDeps_React_["useEffect"])(()=>{const{stop:stop}=Object(data_public_["syncQueryStateWithUrl"])(query,osdUrlStateStorage);return()=>stop()},[query,osdUrlStateStorage,pathname]);return external_osdSharedDeps_React_default.a.createElement(AppContainer,{view:view,params:params})};const renderApp=(core,services,params,store)=>{const{history:history,element:element}=params;external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Router"],{history:history},external_osdSharedDeps_React_default.a.createElement(public_["OpenSearchDashboardsContextProvider"],{services:services},external_osdSharedDeps_React_default.a.createElement(lib["Provider"],{store:store},external_osdSharedDeps_React_default.a.createElement(services.i18n.Context,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Switch"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Route"],{path:["/:appId","/"],exact:false},external_osdSharedDeps_React_default.a.createElement(DataExplorerApp,{params:params}))))))),element);return()=>external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(element)}}}]);