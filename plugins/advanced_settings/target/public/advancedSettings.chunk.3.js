(window["advancedSettings_bundle_jsonpfunction"]=window["advancedSettings_bundle_jsonpfunction"]||[]).push([[3],[,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&typeof btoa!=="undefined"){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(cssWithMappingToString){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list}},,,,,,,,,,,function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(25);case"v7light":return __webpack_require__(27);case"v8dark":return __webpack_require__(29);case"v8light":return __webpack_require__(31)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(26);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mgtAdvancedSettings__field + * {\n  margin-top: 16px; }\n\n.mgtAdvancedSettings__field .mgtAdvancedSettings__fieldTitle {\n  padding-left: 8px;\n  margin-left: -8px; }\n\n.mgtAdvancedSettings__field--unsaved .mgtAdvancedSettings__fieldTitle {\n  box-shadow: -4px 0 #FFCE7A; }\n\n.mgtAdvancedSettings__field--invalid .mgtAdvancedSettings__fieldTitle {\n  box-shadow: -4px 0 #F66; }\n\n@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {\n  .mgtAdvancedSettings__field {\n    min-height: 1px; }\n    .mgtAdvancedSettings__fieldRow {\n      min-height: 1px; } }\n\n.mgtAdvancedSettings__fieldTitleUnsavedIcon {\n  margin-left: 8px; }\n\n@media only screen and (max-width: 574px) {\n  .mgtAdvancedSettingsForm__unsavedCount {\n    display: none; } }\n\n.mgtAdvancedSettingsForm__unsavedCountMessage {\n  box-shadow: -4px 0 #FFCE7A;\n  padding-left: 8px; }\n\n.mgtAdvancedSettingsForm__button {\n  width: 100%; }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(28);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mgtAdvancedSettings__field + * {\n  margin-top: 16px; }\n\n.mgtAdvancedSettings__field .mgtAdvancedSettings__fieldTitle {\n  padding-left: 8px;\n  margin-left: -8px; }\n\n.mgtAdvancedSettings__field--unsaved .mgtAdvancedSettings__fieldTitle {\n  box-shadow: -4px 0 #F5A700; }\n\n.mgtAdvancedSettings__field--invalid .mgtAdvancedSettings__fieldTitle {\n  box-shadow: -4px 0 #BD271E; }\n\n@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {\n  .mgtAdvancedSettings__field {\n    min-height: 1px; }\n    .mgtAdvancedSettings__fieldRow {\n      min-height: 1px; } }\n\n.mgtAdvancedSettings__fieldTitleUnsavedIcon {\n  margin-left: 8px; }\n\n@media only screen and (max-width: 574px) {\n  .mgtAdvancedSettingsForm__unsavedCount {\n    display: none; } }\n\n.mgtAdvancedSettingsForm__unsavedCountMessage {\n  box-shadow: -4px 0 #F5A700;\n  padding-left: 8px; }\n\n.mgtAdvancedSettingsForm__button {\n  width: 100%; }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(30);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mgtAdvancedSettings__field + * {\n  margin-top: 16px; }\n\n.mgtAdvancedSettings__field .mgtAdvancedSettings__fieldTitle {\n  padding-left: 8px;\n  margin-left: -8px; }\n\n.mgtAdvancedSettings__field--unsaved .mgtAdvancedSettings__fieldTitle {\n  box-shadow: -4px 0 #FFCE7A; }\n\n.mgtAdvancedSettings__field--invalid .mgtAdvancedSettings__fieldTitle {\n  box-shadow: -4px 0 #F66; }\n\n@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {\n  .mgtAdvancedSettings__field {\n    min-height: 1px; }\n    .mgtAdvancedSettings__fieldRow {\n      min-height: 1px; } }\n\n.mgtAdvancedSettings__fieldTitleUnsavedIcon {\n  margin-left: 8px; }\n\n@media only screen and (max-width: 574px) {\n  .mgtAdvancedSettingsForm__unsavedCount {\n    display: none; } }\n\n.mgtAdvancedSettingsForm__unsavedCountMessage {\n  box-shadow: -4px 0 #FFCE7A;\n  padding-left: 8px; }\n\n.mgtAdvancedSettingsForm__button {\n  width: 100%; }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(32);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mgtAdvancedSettings__field + * {\n  margin-top: 16px; }\n\n.mgtAdvancedSettings__field .mgtAdvancedSettings__fieldTitle {\n  padding-left: 8px;\n  margin-left: -8px; }\n\n.mgtAdvancedSettings__field--unsaved .mgtAdvancedSettings__fieldTitle {\n  box-shadow: -4px 0 #F5A700; }\n\n.mgtAdvancedSettings__field--invalid .mgtAdvancedSettings__fieldTitle {\n  box-shadow: -4px 0 #BD271E; }\n\n@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {\n  .mgtAdvancedSettings__field {\n    min-height: 1px; }\n    .mgtAdvancedSettings__fieldRow {\n      min-height: 1px; } }\n\n.mgtAdvancedSettings__fieldTitleUnsavedIcon {\n  margin-left: 8px; }\n\n@media only screen and (max-width: 574px) {\n  .mgtAdvancedSettingsForm__unsavedCount {\n    display: none; } }\n\n.mgtAdvancedSettingsForm__unsavedCountMessage {\n  box-shadow: -4px 0 #F5A700;\n  padding-left: 8px; }\n\n.mgtAdvancedSettingsForm__button {\n  width: 100%; }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"mountManagementSection",(function(){return mountManagementSection}));var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var external_osdSharedDeps_ReactDom_=__webpack_require__(9);var external_osdSharedDeps_ReactDom_default=__webpack_require__.n(external_osdSharedDeps_ReactDom_);var external_osdSharedDeps_ReactRouterDom_=__webpack_require__(10);var external_osdSharedDeps_OsdI18n_=__webpack_require__(1);var external_osdSharedDeps_OsdI18nReact_=__webpack_require__(3);var external_osdSharedDeps_ElasticEui_=__webpack_require__(2);const CallOuts=()=>external_osdSharedDeps_React_default.a.createElement("div",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"advancedSettings.callOutCautionTitle",defaultMessage:"Caution: You can break stuff here"}),color:"warning",iconType:"bolt"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"advancedSettings.callOutCautionDescription",defaultMessage:"Be careful in here, these settings are for very advanced users only. Tweaks you make here can break large portions of OpenSearch Dashboards. Some of these settings may be undocumented, unsupported or experimental. If a field has a default value, blanking the field will reset it to its default which may be unacceptable given other configuration directives. Deleting a custom setting will permanently remove it from OpenSearch Dashboards's config."}))));var lib=__webpack_require__(14);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class search_Search extends external_osdSharedDeps_React_["PureComponent"]{constructor(props){super(props);_defineProperty(this,"categories",[]);_defineProperty(this,"state",{isSearchTextValid:true,parseErrorMessage:null});_defineProperty(this,"onChange",_ref=>{let{query:query,error:error}=_ref;if(error){this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}this.setState({isSearchTextValid:true,parseErrorMessage:null});this.props.onQueryChange({query:query})});const{categories:categories}=props;this.categories=categories.map(category=>({value:category,name:Object(lib["c"])(category)}))}render(){const{query:query}=this.props;const box={incremental:true,"data-test-subj":"settingsSearchBar","aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.searchBarAriaLabel",{defaultMessage:"Search advanced settings"})};const filters=[{type:"field_value_selection",field:"category",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.categorySearchLabel",{defaultMessage:"Category"}),multiSelect:"or",options:this.categories}];let queryParseError;if(!this.state.isSearchTextValid){const parseErrorMsg=external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.searchBar.unableToParseQueryErrorMessage",{defaultMessage:"Unable to parse query"});queryParseError=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormErrorText"],null,"".concat(parseErrorMsg,". ").concat(this.state.parseErrorMessage))}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSearchBar"],{box:box,filters:filters,onChange:this.onChange,query:query}),queryParseError)}}var external_osdSharedDeps_Lodash_=__webpack_require__(8);var public_=__webpack_require__(11);var field=__webpack_require__(33);function form_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class form_Form extends external_osdSharedDeps_React_["PureComponent"]{constructor(){super(...arguments);form_defineProperty(this,"state",{unsavedChanges:{},loading:false});form_defineProperty(this,"getSettingByKey",key=>Object.values(this.props.settings).flat().find(el=>el.name===key));form_defineProperty(this,"getCountOfUnsavedChanges",()=>Object.keys(this.state.unsavedChanges).length);form_defineProperty(this,"getCountOfHiddenUnsavedChanges",()=>{const shownSettings=Object.values(this.props.visibleSettings).flat().map(setting=>setting.name);return Object.keys(this.state.unsavedChanges).filter(key=>!shownSettings.includes(key)).length});form_defineProperty(this,"areChangesInvalid",()=>{const{unsavedChanges:unsavedChanges}=this.state;return Object.values(unsavedChanges).some(_ref=>{let{isInvalid:isInvalid}=_ref;return isInvalid})});form_defineProperty(this,"handleChange",(key,change)=>{const setting=this.getSettingByKey(key);if(!setting){return}const{type:type,defVal:defVal,value:value}=setting;const savedValue=Object(field["getEditableValue"])(type,value,defVal);if(change.value===savedValue){return this.clearChange(key)}this.setState({unsavedChanges:{...this.state.unsavedChanges,[key]:change}})});form_defineProperty(this,"clearChange",key=>{if(!this.state.unsavedChanges[key]){return}const unsavedChanges={...this.state.unsavedChanges};delete unsavedChanges[key];this.setState({unsavedChanges:unsavedChanges})});form_defineProperty(this,"clearAllUnsaved",()=>{this.setState({unsavedChanges:{}})});form_defineProperty(this,"saveAll",async()=>{this.setLoading(true);const{unsavedChanges:unsavedChanges}=this.state;if(Object(external_osdSharedDeps_Lodash_["isEmpty"])(unsavedChanges)){return}const configToSave={};let requiresReload=false;Object.entries(unsavedChanges).forEach(_ref2=>{let[name,{value:value}]=_ref2;const setting=this.getSettingByKey(name);if(!setting){return}const{defVal:defVal,type:type,requiresPageReload:requiresPageReload}=setting;let valueToSave=value;let equalsToDefault=false;switch(type){case"array":valueToSave=valueToSave.trim();valueToSave=valueToSave===""?[]:valueToSave.split(",").map(val=>val.trim());equalsToDefault=valueToSave.join(",")===defVal.join(",");break;case"json":const isArray=Array.isArray(JSON.parse(defVal||"{}"));valueToSave=valueToSave.trim();valueToSave=valueToSave||(isArray?"[]":"{}");default:equalsToDefault=valueToSave===defVal}if(requiresPageReload){requiresReload=true}configToSave[name]=equalsToDefault?null:valueToSave});try{await this.props.save(configToSave);this.clearAllUnsaved();if(requiresReload){this.renderPageReloadToast()}}catch(e){this.props.toasts.addDanger(external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.form.saveErrorMessage",{defaultMessage:"Unable to save"}))}this.setLoading(false)});form_defineProperty(this,"renderPageReloadToast",()=>{this.props.toasts.add({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.form.requiresPageReloadToastDescription",{defaultMessage:"One or more settings require you to reload the page to take effect."}),text:Object(public_["toMountPoint"])(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd",gutterSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{size:"s",onClick:()=>window.location.reload()},external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.form.requiresPageReloadToastButtonLabel",{defaultMessage:"Reload page"})))))),color:"success"})});form_defineProperty(this,"renderCountOfUnsaved",()=>{const unsavedCount=this.getCountOfUnsavedChanges();const hiddenUnsavedCount=this.getCountOfHiddenUnsavedChanges();return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTextColor"],{className:"mgtAdvancedSettingsForm__unsavedCountMessage",color:"ghost"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"advancedSettings.form.countOfSettingsChanged",defaultMessage:"{unsavedCount} unsaved {unsavedCount, plural, one {setting} other {settings} }{hiddenCount, plural, =0 {} other {, # hidden} }",values:{unsavedCount:unsavedCount,hiddenCount:hiddenUnsavedCount}}))});form_defineProperty(this,"renderBottomBar",()=>{try{const areChangesInvalid=this.areChangesInvalid();const bottomBar=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBottomBar"],{"data-test-subj":"advancedSetting-bottomBar",position:"sticky"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center",responsive:false,gutterSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"mgtAdvancedSettingsForm__unsavedCount"},external_osdSharedDeps_React_default.a.createElement("p",{id:"aria-describedby.countOfUnsavedSettings"},this.renderCountOfUnsaved())),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{color:"ghost",size:"s",iconType:"cross",onClick:this.clearAllUnsaved,"aria-describedby":"aria-describedby.countOfUnsavedSettings","data-test-subj":"advancedSetting-cancelButton"},external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.form.cancelButtonLabel",{defaultMessage:"Cancel changes"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:areChangesInvalid&&external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.form.saveButtonTooltipWithInvalidChanges",{defaultMessage:"Fix invalid settings before saving."})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{className:"mgtAdvancedSettingsForm__button",disabled:areChangesInvalid,color:"secondary",fill:true,size:"s",iconType:"check",onClick:this.saveAll,"aria-describedby":"aria-describedby.countOfUnsavedSettings",isLoading:this.state.loading,"data-test-subj":"advancedSetting-saveButton"},external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.form.saveButtonLabel",{defaultMessage:"Save changes"}))))));return Object(external_osdSharedDeps_ReactDom_["createPortal"])(bottomBar,document.getElementById("app-wrapper"))}catch(e){return null}})}setLoading(loading){this.setState({loading:loading})}renderClearQueryLink(totalSettings,currentSettings){const{clearQuery:clearQuery}=this.props;if(totalSettings!==currentSettings){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement("em",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"advancedSettings.form.searchResultText",defaultMessage:"Search terms are hiding {settingsCount} settings {clearSearch}",values:{settingsCount:totalSettings-currentSettings,clearSearch:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{onClick:clearQuery},external_osdSharedDeps_React_default.a.createElement("em",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"advancedSettings.form.clearSearchResultText",defaultMessage:"(clear search)"})))}})))}return null}renderCategory(category,settings,totalSettings){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],{key:category},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"l",id:category},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiForm"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"baseline"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement("h2",null,Object(lib["c"])(category))),this.renderClearQueryLink(totalSettings,settings.length))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),settings.map(setting=>external_osdSharedDeps_React_default.a.createElement(field["Field"],{key:setting.name,setting:setting,handleChange:this.handleChange,unsavedChanges:this.state.unsavedChanges[setting.name],clearChange:this.clearChange,enableSaving:this.props.enableSaving,dockLinks:this.props.dockLinks,toasts:this.props.toasts})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}))}maybeRenderNoSettings(clearQuery){if(this.props.showNoResultsMessage){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"l"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"advancedSettings.form.noSearchResultText",defaultMessage:"No settings found {clearSearch}",values:{clearSearch:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{onClick:clearQuery},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"advancedSettings.form.clearNoSearchResultText",defaultMessage:"(clear search)"}))}}))}return null}render(){const{unsavedChanges:unsavedChanges}=this.state;const{visibleSettings:visibleSettings,categories:categories,categoryCounts:categoryCounts,clearQuery:clearQuery}=this.props;const currentCategories=[];const hasUnsavedChanges=!Object(external_osdSharedDeps_Lodash_["isEmpty"])(unsavedChanges);categories.forEach(category=>{if(visibleSettings[category]&&visibleSettings[category].length){currentCategories.push(category)}});return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement("div",null,currentCategories.length?currentCategories.map(category=>this.renderCategory(category,visibleSettings[category],categoryCounts[category])):this.maybeRenderNoSettings(clearQuery)),hasUnsavedChanges&&this.renderBottomBar())}}function advanced_settings_voice_announcement_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class advanced_settings_voice_announcement_AdvancedSettingsVoiceAnnouncement extends external_osdSharedDeps_React_["Component"]{constructor(){super(...arguments);advanced_settings_voice_announcement_defineProperty(this,"shouldComponentUpdate",nextProps=>nextProps.queryText!==this.props.queryText)}render(){const filteredSections=Object.values(this.props.settings).map(setting=>setting.map(option=>option.ariaName));const filteredOptions=[...filteredSections];return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_osdSharedDeps_React_default.a.createElement("div",{role:"region","aria-live":"polite","aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.voiceAnnouncement.ariaLabel",{defaultMessage:"Advanced Settings results info"})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiDelayRender"],null,this.props.queryText?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"advancedSettings.voiceAnnouncement.searchResultScreenReaderMessage",defaultMessage:"You searched for {query}. There {optionLenght, plural, one {is # option} other {are # options}} in {sectionLenght, plural, one {# section} other {# sections}}",values:{query:this.props.queryText,sectionLenght:filteredSections.length,optionLenght:filteredOptions.length}}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"advancedSettings.voiceAnnouncement.noSearchResultScreenReaderMessage",defaultMessage:"There {optionLenght, plural, one {is # option} other {are # options}} in {sectionLenght, plural, one {# section} other {# sections}}",values:{sectionLenght:filteredSections.length,optionLenght:filteredOptions.length}}))))}}function advanced_settings_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class advanced_settings_AdvancedSettingsComponent extends external_osdSharedDeps_React_["Component"]{constructor(props){super(props);advanced_settings_defineProperty(this,"settings",void 0);advanced_settings_defineProperty(this,"groupedSettings",void 0);advanced_settings_defineProperty(this,"categoryCounts",void 0);advanced_settings_defineProperty(this,"categories",[]);advanced_settings_defineProperty(this,"uiSettingsSubscription",void 0);advanced_settings_defineProperty(this,"initSettings",this.mapConfig);advanced_settings_defineProperty(this,"initGroupedSettings",this.mapSettings);advanced_settings_defineProperty(this,"onQueryChange",_ref=>{let{query:query}=_ref;this.setState({query:query,filteredSettings:this.mapSettings(external_osdSharedDeps_ElasticEui_["Query"].execute(query,this.settings))})});advanced_settings_defineProperty(this,"clearQuery",()=>{this.setState({query:external_osdSharedDeps_ElasticEui_["Query"].parse(""),footerQueryMatched:false,filteredSettings:this.groupedSettings})});advanced_settings_defineProperty(this,"onFooterQueryMatchChange",matched=>{this.setState({footerQueryMatched:matched})});advanced_settings_defineProperty(this,"saveConfig",async changes=>{const arr=Object.entries(changes).map(_ref2=>{let[key,value]=_ref2;return this.props.uiSettings.set(key,value)});return Promise.all(arr)});this.settings=this.initSettings(this.props.uiSettings);this.groupedSettings=this.initGroupedSettings(this.settings);this.categories=this.initCategories(this.groupedSettings);this.categoryCounts=this.initCategoryCounts(this.groupedSettings);const parsedQuery=external_osdSharedDeps_ElasticEui_["Query"].parse(this.props.queryText?Object(lib["b"])(this.props.queryText):"");this.state={query:parsedQuery,footerQueryMatched:false,filteredSettings:this.mapSettings(external_osdSharedDeps_ElasticEui_["Query"].execute(parsedQuery,this.settings))}}init(config){this.settings=this.initSettings(config);this.groupedSettings=this.initGroupedSettings(this.settings);this.categories=this.initCategories(this.groupedSettings);this.categoryCounts=this.initCategoryCounts(this.groupedSettings)}initCategories(groupedSettings){return Object.keys(groupedSettings).sort((a,b)=>{if(a===lib["a"])return-1;if(b===lib["a"])return 1;if(a>b)return 1;return a===b?0:-1})}initCategoryCounts(groupedSettings){return Object.keys(groupedSettings).reduce((counts,category)=>{counts[category]=groupedSettings[category].length;return counts},{})}componentDidMount(){this.uiSettingsSubscription=this.props.uiSettings.getUpdate$().subscribe(()=>{const{query:query}=this.state;this.init(this.props.uiSettings);this.setState({filteredSettings:this.mapSettings(external_osdSharedDeps_ElasticEui_["Query"].execute(query,this.settings))})});const{hash:hash}=window.location;if(hash!==""){setTimeout(()=>{var _document$getElementB;const id=hash.replace("#","");const element=document.getElementById(id);let globalNavOffset=0;const globalNavBars=(_document$getElementB=document.getElementById("globalHeaderBars"))===null||_document$getElementB===void 0?void 0:_document$getElementB.getElementsByClassName("euiHeader");if(globalNavBars){Array.from(globalNavBars).forEach(navBar=>{globalNavOffset+=navBar.offsetHeight})}if(element){element.scrollIntoView();window.scrollBy(0,-globalNavOffset)}},0)}}componentWillUnmount(){if(this.uiSettingsSubscription){this.uiSettingsSubscription.unsubscribe()}}mapConfig(config){const all=config.getAll();return Object.entries(all).map(setting=>Object(lib["e"])({def:setting[1],name:setting[0],value:setting[1].userValue,isCustom:config.isCustom(setting[0]),isOverridden:config.isOverridden(setting[0])})).filter(c=>!c.readonly).sort(external_osdSharedDeps_ElasticEui_["Comparators"].property("name",external_osdSharedDeps_ElasticEui_["Comparators"].default("asc")))}mapSettings(settings){return settings.reduce((groupedSettings,setting)=>{const category=setting.category[0];(groupedSettings[category]=groupedSettings[category]||[]).push(setting);return groupedSettings},{})}render(){const{filteredSettings:filteredSettings,query:query,footerQueryMatched:footerQueryMatched}=this.state;const componentRegistry=this.props.componentRegistry;const PageTitle=componentRegistry.get(componentRegistry.componentType.PAGE_TITLE_COMPONENT);const PageSubtitle=componentRegistry.get(componentRegistry.componentType.PAGE_SUBTITLE_COMPONENT);const PageFooter=componentRegistry.get(componentRegistry.componentType.PAGE_FOOTER_COMPONENT);return external_osdSharedDeps_React_default.a.createElement("div",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"none"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(PageTitle,null)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(search_Search,{query:query,categories:this.categories,onQueryChange:this.onQueryChange}))),external_osdSharedDeps_React_default.a.createElement(PageSubtitle,null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(CallOuts,null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(advanced_settings_voice_announcement_AdvancedSettingsVoiceAnnouncement,{queryText:query.text,settings:filteredSettings}),external_osdSharedDeps_React_default.a.createElement(form_Form,{settings:this.groupedSettings,visibleSettings:filteredSettings,categories:this.categories,categoryCounts:this.categoryCounts,clearQuery:this.clearQuery,save:this.saveConfig,showNoResultsMessage:!footerQueryMatched,enableSaving:this.props.enableSaving,dockLinks:this.props.dockLinks,toasts:this.props.toasts}),external_osdSharedDeps_React_default.a.createElement(PageFooter,{toasts:this.props.toasts,query:query,onQueryMatchChange:this.onFooterQueryMatchChange,enableSaving:this.props.enableSaving}))}}const AdvancedSettings=props=>{const{query:query}=Object(external_osdSharedDeps_ReactRouterDom_["useParams"])();return external_osdSharedDeps_React_default.a.createElement(advanced_settings_AdvancedSettingsComponent,{queryText:query||"",enableSaving:props.enableSaving,uiSettings:props.uiSettings,dockLinks:props.dockLinks,toasts:props.toasts,componentRegistry:props.componentRegistry})};var management_app=__webpack_require__(24);const title=external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.advancedSettingsLabel",{defaultMessage:"Advanced settings"});const crumb=[{text:title}];const readOnlyBadge={text:external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:external_osdSharedDeps_OsdI18n_["i18n"].translate("advancedSettings.badge.readOnly.tooltip",{defaultMessage:"Unable to save advanced settings"}),iconType:"glasses"};async function mountManagementSection(getStartServices,params,componentRegistry){params.setBreadcrumbs(crumb);const[{uiSettings:uiSettings,notifications:notifications,docLinks:docLinks,application:application,chrome:chrome}]=await getStartServices();const canSave=application.capabilities.advancedSettings.save;if(!canSave){chrome.setBadge(readOnlyBadge)}external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["I18nProvider"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Router"],{history:params.history},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Switch"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Route"],{path:["/:query","/"]},external_osdSharedDeps_React_default.a.createElement(AdvancedSettings,{enableSaving:canSave,toasts:notifications.toasts,dockLinks:docLinks.links,uiSettings:uiSettings,componentRegistry:componentRegistry}))))),params.element);return()=>{external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(params.element)}}}]]);