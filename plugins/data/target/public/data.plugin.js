(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={1:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"data.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["data_bundle_jsonpfunction"]=window["data_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=93)})([function(module,exports){module.exports=__osdSharedDeps__.OsdI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"DEFAULT_QUERY_LANGUAGE",(function(){return constants["a"]}));__webpack_require__.d(__webpack_exports__,"UI_SETTINGS",(function(){return constants["b"]}));__webpack_require__.d(__webpack_exports__,"buildOpenSearchQuery",(function(){return opensearch_query["b"]}));__webpack_require__.d(__webpack_exports__,"OpenSearchQueryConfig",(function(){return opensearch_query["a"]}));__webpack_require__.d(__webpack_exports__,"buildQueryFromFilters",(function(){return opensearch_query["c"]}));__webpack_require__.d(__webpack_exports__,"luceneStringToDsl",(function(){return opensearch_query["f"]}));__webpack_require__.d(__webpack_exports__,"decorateQuery",(function(){return opensearch_query["d"]}));__webpack_require__.d(__webpack_exports__,"getOpenSearchQueryConfig",(function(){return opensearch_query["e"]}));__webpack_require__.d(__webpack_exports__,"buildFilter",(function(){return opensearch_query_filters["f"]}));__webpack_require__.d(__webpack_exports__,"buildCustomFilter",(function(){return opensearch_query_filters["c"]}));__webpack_require__.d(__webpack_exports__,"isExistsFilter",(function(){return opensearch_query_filters["E"]}));__webpack_require__.d(__webpack_exports__,"getExistsFilterField",(function(){return opensearch_query_filters["q"]}));__webpack_require__.d(__webpack_exports__,"buildExistsFilter",(function(){return opensearch_query_filters["e"]}));__webpack_require__.d(__webpack_exports__,"isGeoBoundingBoxFilter",(function(){return opensearch_query_filters["J"]}));__webpack_require__.d(__webpack_exports__,"getGeoBoundingBoxFilterField",(function(){return opensearch_query_filters["t"]}));__webpack_require__.d(__webpack_exports__,"isGeoShapeFilter",(function(){return opensearch_query_filters["L"]}));__webpack_require__.d(__webpack_exports__,"getGeoShapeFilterField",(function(){return opensearch_query_filters["v"]}));__webpack_require__.d(__webpack_exports__,"isGeoPolygonFilter",(function(){return opensearch_query_filters["K"]}));__webpack_require__.d(__webpack_exports__,"getGeoPolygonFilterField",(function(){return opensearch_query_filters["u"]}));__webpack_require__.d(__webpack_exports__,"getDisplayValueFromFilter",(function(){return opensearch_query_filters["p"]}));__webpack_require__.d(__webpack_exports__,"getFilterField",(function(){return opensearch_query_filters["r"]}));__webpack_require__.d(__webpack_exports__,"getFilterParams",(function(){return opensearch_query_filters["s"]}));__webpack_require__.d(__webpack_exports__,"getIndexPatternFromFilter",(function(){return opensearch_query_filters["w"]}));__webpack_require__.d(__webpack_exports__,"isMatchAllFilter",(function(){return opensearch_query_filters["M"]}));__webpack_require__.d(__webpack_exports__,"FilterStateStore",(function(){return opensearch_query_filters["b"]}));__webpack_require__.d(__webpack_exports__,"buildEmptyFilter",(function(){return opensearch_query_filters["d"]}));__webpack_require__.d(__webpack_exports__,"isFilterPinned",(function(){return opensearch_query_filters["H"]}));__webpack_require__.d(__webpack_exports__,"toggleFilterDisabled",(function(){return opensearch_query_filters["V"]}));__webpack_require__.d(__webpack_exports__,"toggleFilterNegated",(function(){return opensearch_query_filters["W"]}));__webpack_require__.d(__webpack_exports__,"toggleFilterPinned",(function(){return opensearch_query_filters["X"]}));__webpack_require__.d(__webpack_exports__,"enableFilter",(function(){return opensearch_query_filters["n"]}));__webpack_require__.d(__webpack_exports__,"disableFilter",(function(){return opensearch_query_filters["m"]}));__webpack_require__.d(__webpack_exports__,"pinFilter",(function(){return opensearch_query_filters["U"]}));__webpack_require__.d(__webpack_exports__,"unpinFilter",(function(){return opensearch_query_filters["Y"]}));__webpack_require__.d(__webpack_exports__,"isFilter",(function(){return opensearch_query_filters["F"]}));__webpack_require__.d(__webpack_exports__,"isFilters",(function(){return opensearch_query_filters["I"]}));__webpack_require__.d(__webpack_exports__,"isMissingFilter",(function(){return opensearch_query_filters["N"]}));__webpack_require__.d(__webpack_exports__,"getMissingFilterField",(function(){return opensearch_query_filters["x"]}));__webpack_require__.d(__webpack_exports__,"isPhraseFilter",(function(){return opensearch_query_filters["O"]}));__webpack_require__.d(__webpack_exports__,"isScriptedPhraseFilter",(function(){return opensearch_query_filters["S"]}));__webpack_require__.d(__webpack_exports__,"getPhraseFilterField",(function(){return opensearch_query_filters["y"]}));__webpack_require__.d(__webpack_exports__,"getPhraseFilterValue",(function(){return opensearch_query_filters["z"]}));__webpack_require__.d(__webpack_exports__,"buildPhraseFilter",(function(){return opensearch_query_filters["h"]}));__webpack_require__.d(__webpack_exports__,"getPhraseScript",(function(){return opensearch_query_filters["A"]}));__webpack_require__.d(__webpack_exports__,"getConvertedValueForField",(function(){return opensearch_query_filters["o"]}));__webpack_require__.d(__webpack_exports__,"buildInlineScriptForPhraseFilter",(function(){return opensearch_query_filters["g"]}));__webpack_require__.d(__webpack_exports__,"isPhrasesFilter",(function(){return opensearch_query_filters["P"]}));__webpack_require__.d(__webpack_exports__,"getPhrasesFilterField",(function(){return opensearch_query_filters["B"]}));__webpack_require__.d(__webpack_exports__,"buildPhrasesFilter",(function(){return opensearch_query_filters["i"]}));__webpack_require__.d(__webpack_exports__,"isQueryStringFilter",(function(){return opensearch_query_filters["Q"]}));__webpack_require__.d(__webpack_exports__,"buildQueryFilter",(function(){return opensearch_query_filters["j"]}));__webpack_require__.d(__webpack_exports__,"isRangeFilter",(function(){return opensearch_query_filters["R"]}));__webpack_require__.d(__webpack_exports__,"isScriptedRangeFilter",(function(){return opensearch_query_filters["T"]}));__webpack_require__.d(__webpack_exports__,"getRangeFilterField",(function(){return opensearch_query_filters["C"]}));__webpack_require__.d(__webpack_exports__,"buildRangeFilter",(function(){return opensearch_query_filters["k"]}));__webpack_require__.d(__webpack_exports__,"getRangeScript",(function(){return opensearch_query_filters["D"]}));__webpack_require__.d(__webpack_exports__,"FILTERS",(function(){return opensearch_query_filters["a"]}));__webpack_require__.d(__webpack_exports__,"cleanFilter",(function(){return opensearch_query_filters["l"]}));__webpack_require__.d(__webpack_exports__,"isFilterDisabled",(function(){return opensearch_query_filters["G"]}));__webpack_require__.d(__webpack_exports__,"DQLSyntaxError",(function(){return kuery["a"]}));__webpack_require__.d(__webpack_exports__,"nodeTypes",(function(){return kuery["e"]}));__webpack_require__.d(__webpack_exports__,"fromLiteralExpression",(function(){return kuery["d"]}));__webpack_require__.d(__webpack_exports__,"fromKueryExpression",(function(){return kuery["c"]}));__webpack_require__.d(__webpack_exports__,"doesKueryExpressionHaveLuceneSyntaxError",(function(){return kuery["b"]}));__webpack_require__.d(__webpack_exports__,"toOpenSearchQuery",(function(){return kuery["f"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatsRegistry",(function(){return field_formats["n"]}));__webpack_require__.d(__webpack_exports__,"FieldFormat",(function(){return field_formats["g"]}));__webpack_require__.d(__webpack_exports__,"baseFormatters",(function(){return field_formats["B"]}));__webpack_require__.d(__webpack_exports__,"BoolFormat",(function(){return field_formats["a"]}));__webpack_require__.d(__webpack_exports__,"BytesFormat",(function(){return field_formats["b"]}));__webpack_require__.d(__webpack_exports__,"ColorFormat",(function(){return field_formats["c"]}));__webpack_require__.d(__webpack_exports__,"DurationFormat",(function(){return field_formats["e"]}));__webpack_require__.d(__webpack_exports__,"IpFormat",(function(){return field_formats["r"]}));__webpack_require__.d(__webpack_exports__,"NumberFormat",(function(){return field_formats["s"]}));__webpack_require__.d(__webpack_exports__,"PercentFormat",(function(){return field_formats["t"]}));__webpack_require__.d(__webpack_exports__,"RelativeDateFormat",(function(){return field_formats["u"]}));__webpack_require__.d(__webpack_exports__,"SourceFormat",(function(){return field_formats["v"]}));__webpack_require__.d(__webpack_exports__,"StaticLookupFormat",(function(){return field_formats["w"]}));__webpack_require__.d(__webpack_exports__,"UrlFormat",(function(){return field_formats["A"]}));__webpack_require__.d(__webpack_exports__,"StringFormat",(function(){return field_formats["x"]}));__webpack_require__.d(__webpack_exports__,"TruncateFormat",(function(){return field_formats["z"]}));__webpack_require__.d(__webpack_exports__,"getHighlightRequest",(function(){return field_formats["C"]}));__webpack_require__.d(__webpack_exports__,"DEFAULT_CONVERTER_COLOR",(function(){return field_formats["d"]}));__webpack_require__.d(__webpack_exports__,"FIELD_FORMAT_IDS",(function(){return field_formats["f"]}));__webpack_require__.d(__webpack_exports__,"HTML_CONTEXT_TYPE",(function(){return field_formats["p"]}));__webpack_require__.d(__webpack_exports__,"TEXT_CONTEXT_TYPE",(function(){return field_formats["y"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatsGetConfigFn",(function(){return field_formats["m"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatsContentType",(function(){return field_formats["l"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatConfig",(function(){return field_formats["h"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatId",(function(){return field_formats["i"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatInstanceType",(function(){return field_formats["j"]}));__webpack_require__.d(__webpack_exports__,"IFieldFormat",(function(){return field_formats["q"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatsStartCommon",(function(){return field_formats["o"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatNotFoundError",(function(){return field_formats["k"]}));__webpack_require__.d(__webpack_exports__,"FieldMappingSpec",(function(){return field_mapping["a"]}));__webpack_require__.d(__webpack_exports__,"MappingObject",(function(){return field_mapping["b"]}));__webpack_require__.d(__webpack_exports__,"expandShorthand",(function(){return field_mapping["c"]}));__webpack_require__.d(__webpack_exports__,"isFilterable",(function(){return index_patterns["g"]}));__webpack_require__.d(__webpack_exports__,"isNestedField",(function(){return index_patterns["h"]}));__webpack_require__.d(__webpack_exports__,"fieldList",(function(){return index_patterns["e"]}));__webpack_require__.d(__webpack_exports__,"IndexPatternField",(function(){return index_patterns["c"]}));__webpack_require__.d(__webpack_exports__,"IndexPatternsService",(function(){return index_patterns["d"]}));__webpack_require__.d(__webpack_exports__,"DuplicateIndexPatternError",(function(){return index_patterns["a"]}));__webpack_require__.d(__webpack_exports__,"validateDataSourceReference",(function(){return index_patterns["i"]}));__webpack_require__.d(__webpack_exports__,"getIndexPatternTitle",(function(){return index_patterns["f"]}));__webpack_require__.d(__webpack_exports__,"OsdFieldType",(function(){return osd_field_types["a"]}));__webpack_require__.d(__webpack_exports__,"castOpenSearchToOsdFieldTypeName",(function(){return osd_field_types["b"]}));__webpack_require__.d(__webpack_exports__,"getOsdFieldType",(function(){return osd_field_types["d"]}));__webpack_require__.d(__webpack_exports__,"getOsdTypeNames",(function(){return osd_field_types["e"]}));__webpack_require__.d(__webpack_exports__,"getFilterableOsdTypeNames",(function(){return osd_field_types["c"]}));__webpack_require__.d(__webpack_exports__,"dedupFilters",(function(){return dedupFilters}));__webpack_require__.d(__webpack_exports__,"uniqFilters",(function(){return uniqFilters}));__webpack_require__.d(__webpack_exports__,"compareFilters",(function(){return compareFilters}));__webpack_require__.d(__webpack_exports__,"COMPARE_ALL_OPTIONS",(function(){return COMPARE_ALL_OPTIONS}));__webpack_require__.d(__webpack_exports__,"FilterCompareOptions",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"calculateBounds",(function(){return calculateBounds}));__webpack_require__.d(__webpack_exports__,"getTime",(function(){return getTime}));__webpack_require__.d(__webpack_exports__,"isTimeRange",(function(){return isTimeRange}));__webpack_require__.d(__webpack_exports__,"isQuery",(function(){return isQuery}));__webpack_require__.d(__webpack_exports__,"AggConfig",(function(){return search["a"]}));__webpack_require__.d(__webpack_exports__,"AggConfigs",(function(){return search["c"]}));__webpack_require__.d(__webpack_exports__,"AggGroupNames",(function(){return search["e"]}));__webpack_require__.d(__webpack_exports__,"AggGroupLabels",(function(){return search["d"]}));__webpack_require__.d(__webpack_exports__,"AggType",(function(){return search["C"]}));__webpack_require__.d(__webpack_exports__,"getAggTypes",(function(){return search["Eb"]}));__webpack_require__.d(__webpack_exports__,"getAggTypesFunctions",(function(){return search["Fb"]}));__webpack_require__.d(__webpack_exports__,"AggTypesRegistry",(function(){return search["D"]}));__webpack_require__.d(__webpack_exports__,"aggsRequiredUiSettings",(function(){return search["wb"]}));__webpack_require__.d(__webpack_exports__,"AggsCommonService",(function(){return search["E"]}));__webpack_require__.d(__webpack_exports__,"autoInterval",(function(){return search["xb"]}));__webpack_require__.d(__webpack_exports__,"isAutoInterval",(function(){return search["ac"]}));__webpack_require__.d(__webpack_exports__,"intervalOptions",(function(){return search["Zb"]}));__webpack_require__.d(__webpack_exports__,"BucketAggType",(function(){return search["H"]}));__webpack_require__.d(__webpack_exports__,"isBucketAggType",(function(){return search["bc"]}));__webpack_require__.d(__webpack_exports__,"BUCKET_TYPES",(function(){return search["F"]}));__webpack_require__.d(__webpack_exports__,"getHistogramBucketAgg",(function(){return search["Ob"]}));__webpack_require__.d(__webpack_exports__,"isDateHistogramBucketAggConfig",(function(){return search["dc"]}));__webpack_require__.d(__webpack_exports__,"getDateHistogramBucketAgg",(function(){return search["Hb"]}));__webpack_require__.d(__webpack_exports__,"getDateRangeBucketAgg",(function(){return search["Ib"]}));__webpack_require__.d(__webpack_exports__,"getRangeBucketAgg",(function(){return search["Rb"]}));__webpack_require__.d(__webpack_exports__,"getFilterBucketAgg",(function(){return search["Jb"]}));__webpack_require__.d(__webpack_exports__,"getFiltersBucketAgg",(function(){return search["Kb"]}));__webpack_require__.d(__webpack_exports__,"getGeoTitleBucketAgg",(function(){return search["Nb"]}));__webpack_require__.d(__webpack_exports__,"getGeoHashBucketAgg",(function(){return search["Mb"]}));__webpack_require__.d(__webpack_exports__,"IP_RANGE_TYPES",(function(){return search["V"]}));__webpack_require__.d(__webpack_exports__,"getIpRangeBucketAgg",(function(){return search["Pb"]}));__webpack_require__.d(__webpack_exports__,"CidrMask",(function(){return search["I"]}));__webpack_require__.d(__webpack_exports__,"convertDateRangeToString",(function(){return search["yb"]}));__webpack_require__.d(__webpack_exports__,"convertIPRangeToString",(function(){return search["zb"]}));__webpack_require__.d(__webpack_exports__,"isType",(function(){return search["kc"]}));__webpack_require__.d(__webpack_exports__,"isNumberType",(function(){return search["gc"]}));__webpack_require__.d(__webpack_exports__,"isStringType",(function(){return search["jc"]}));__webpack_require__.d(__webpack_exports__,"isStringOrNumberType",(function(){return search["ic"]}));__webpack_require__.d(__webpack_exports__,"migrateIncludeExcludeFormat",(function(){return search["nc"]}));__webpack_require__.d(__webpack_exports__,"getSignificantTermsBucketAgg",(function(){return search["Wb"]}));__webpack_require__.d(__webpack_exports__,"termsAggFilter",(function(){return search["zc"]}));__webpack_require__.d(__webpack_exports__,"getTermsBucketAgg",(function(){return search["Xb"]}));__webpack_require__.d(__webpack_exports__,"MetricAggType",(function(){return search["gb"]}));__webpack_require__.d(__webpack_exports__,"isMetricAggType",(function(){return search["fc"]}));__webpack_require__.d(__webpack_exports__,"METRIC_TYPES",(function(){return search["fb"]}));__webpack_require__.d(__webpack_exports__,"parentPipelineType",(function(){return search["pc"]}));__webpack_require__.d(__webpack_exports__,"parentPipelineAggHelper",(function(){return search["oc"]}));__webpack_require__.d(__webpack_exports__,"siblingPipelineType",(function(){return search["wc"]}));__webpack_require__.d(__webpack_exports__,"siblingPipelineAggHelper",(function(){return search["vc"]}));__webpack_require__.d(__webpack_exports__,"AggParamsAvg",(function(){return search["i"]}));__webpack_require__.d(__webpack_exports__,"AggParamsCardinality",(function(){return search["n"]}));__webpack_require__.d(__webpack_exports__,"AggParamsGeoBounds",(function(){return search["q"]}));__webpack_require__.d(__webpack_exports__,"AggParamsGeoCentroid",(function(){return search["r"]}));__webpack_require__.d(__webpack_exports__,"AggParamsMax",(function(){return search["s"]}));__webpack_require__.d(__webpack_exports__,"AggParamsMedian",(function(){return search["t"]}));__webpack_require__.d(__webpack_exports__,"AggParamsMin",(function(){return search["u"]}));__webpack_require__.d(__webpack_exports__,"AggParamsStdDeviation",(function(){return search["z"]}));__webpack_require__.d(__webpack_exports__,"AggParamsSum",(function(){return search["A"]}));__webpack_require__.d(__webpack_exports__,"AggParamsBucketAvg",(function(){return search["j"]}));__webpack_require__.d(__webpack_exports__,"AggParamsBucketMax",(function(){return search["k"]}));__webpack_require__.d(__webpack_exports__,"AggParamsBucketMin",(function(){return search["l"]}));__webpack_require__.d(__webpack_exports__,"AggParamsBucketSum",(function(){return search["m"]}));__webpack_require__.d(__webpack_exports__,"AggParamsCumulativeSum",(function(){return search["o"]}));__webpack_require__.d(__webpack_exports__,"AggParamsDerivative",(function(){return search["p"]}));__webpack_require__.d(__webpack_exports__,"AggParamsMovingAvg",(function(){return search["v"]}));__webpack_require__.d(__webpack_exports__,"AggParamsPercentileRanks",(function(){return search["w"]}));__webpack_require__.d(__webpack_exports__,"AggParamsPercentiles",(function(){return search["x"]}));__webpack_require__.d(__webpack_exports__,"AggParamsSerialDiff",(function(){return search["y"]}));__webpack_require__.d(__webpack_exports__,"AggParamsTopHit",(function(){return search["B"]}));__webpack_require__.d(__webpack_exports__,"AggParamType",(function(){return search["h"]}));__webpack_require__.d(__webpack_exports__,"BaseParamType",(function(){return search["G"]}));__webpack_require__.d(__webpack_exports__,"FieldParamType",(function(){return search["L"]}));__webpack_require__.d(__webpack_exports__,"JsonParamType",(function(){return search["eb"]}));__webpack_require__.d(__webpack_exports__,"OptionedParamType",(function(){return search["jb"]}));__webpack_require__.d(__webpack_exports__,"StringParamType",(function(){return search["sb"]}));__webpack_require__.d(__webpack_exports__,"IAggConfig",(function(){return search["M"]}));__webpack_require__.d(__webpack_exports__,"AggConfigSerialized",(function(){return search["b"]}));__webpack_require__.d(__webpack_exports__,"CreateAggConfigParams",(function(){return search["J"]}));__webpack_require__.d(__webpack_exports__,"IAggConfigs",(function(){return search["N"]}));__webpack_require__.d(__webpack_exports__,"IAggType",(function(){return search["O"]}));__webpack_require__.d(__webpack_exports__,"AggParam",(function(){return search["f"]}));__webpack_require__.d(__webpack_exports__,"AggParamOption",(function(){return search["g"]}));__webpack_require__.d(__webpack_exports__,"IFieldParamType",(function(){return search["P"]}));__webpack_require__.d(__webpack_exports__,"IMetricAggType",(function(){return search["Q"]}));__webpack_require__.d(__webpack_exports__,"DateRangeKey",(function(){return search["K"]}));__webpack_require__.d(__webpack_exports__,"IpRangeKey",(function(){return search["cb"]}));__webpack_require__.d(__webpack_exports__,"OptionedValueProp",(function(){return search["kb"]}));__webpack_require__.d(__webpack_exports__,"getCalculateAutoTimeExpression",(function(){return search["Gb"]}));__webpack_require__.d(__webpack_exports__,"dateHistogramInterval",(function(){return search["Bb"]}));__webpack_require__.d(__webpack_exports__,"InvalidOpenSearchCalendarIntervalError",(function(){return search["ab"]}));__webpack_require__.d(__webpack_exports__,"InvalidOpenSearchIntervalFormatError",(function(){return search["bb"]}));__webpack_require__.d(__webpack_exports__,"isValidOpenSearchInterval",(function(){return search["mc"]}));__webpack_require__.d(__webpack_exports__,"isValidInterval",(function(){return search["lc"]}));__webpack_require__.d(__webpack_exports__,"parseInterval",(function(){return search["qc"]}));__webpack_require__.d(__webpack_exports__,"parseOpenSearchInterval",(function(){return search["rc"]}));__webpack_require__.d(__webpack_exports__,"toAbsoluteDates",(function(){return search["Ac"]}));__webpack_require__.d(__webpack_exports__,"getFormatWithAggs",(function(){return search["Lb"]}));__webpack_require__.d(__webpack_exports__,"Ipv4Address",(function(){return search["db"]}));__webpack_require__.d(__webpack_exports__,"propFilter",(function(){return search["tc"]}));__webpack_require__.d(__webpack_exports__,"toAngularJSON",(function(){return search["Bc"]}));__webpack_require__.d(__webpack_exports__,"OPENSEARCH_SEARCH_STRATEGY",(function(){return search["hb"]}));__webpack_require__.d(__webpack_exports__,"isErrorResponse",(function(){return search["ec"]}));__webpack_require__.d(__webpack_exports__,"isCompleteResponse",(function(){return search["cc"]}));__webpack_require__.d(__webpack_exports__,"isPartialResponse",(function(){return search["hc"]}));__webpack_require__.d(__webpack_exports__,"getRequestInspectorStats",(function(){return search["Sb"]}));__webpack_require__.d(__webpack_exports__,"getResponseInspectorStats",(function(){return search["Tb"]}));__webpack_require__.d(__webpack_exports__,"createSearchSource",(function(){return search["Ab"]}));__webpack_require__.d(__webpack_exports__,"injectReferences",(function(){return search["Yb"]}));__webpack_require__.d(__webpack_exports__,"extractReferences",(function(){return search["Cb"]}));__webpack_require__.d(__webpack_exports__,"parseSearchSourceJSON",(function(){return search["sc"]}));__webpack_require__.d(__webpack_exports__,"getSearchParams",(function(){return search["Ub"]}));__webpack_require__.d(__webpack_exports__,"getSearchParamsFromRequest",(function(){return search["Vb"]}));__webpack_require__.d(__webpack_exports__,"getPreference",(function(){return search["Qb"]}));__webpack_require__.d(__webpack_exports__,"RequestFailure",(function(){return search["lb"]}));__webpack_require__.d(__webpack_exports__,"fetchSoon",(function(){return search["Db"]}));__webpack_require__.d(__webpack_exports__,"searchSourceRequiredUiSettings",(function(){return search["uc"]}));__webpack_require__.d(__webpack_exports__,"SearchSource",(function(){return search["ob"]}));__webpack_require__.d(__webpack_exports__,"SearchSourceService",(function(){return search["qb"]}));__webpack_require__.d(__webpack_exports__,"SortDirection",(function(){return search["rb"]}));__webpack_require__.d(__webpack_exports__,"tabifyAggResponse",(function(){return search["xc"]}));__webpack_require__.d(__webpack_exports__,"tabifyGetColumns",(function(){return search["yc"]}));__webpack_require__.d(__webpack_exports__,"TabbedTable",(function(){return search["vb"]}));__webpack_require__.d(__webpack_exports__,"TabbedAggRow",(function(){return search["ub"]}));__webpack_require__.d(__webpack_exports__,"TabbedAggColumn",(function(){return search["tb"]}));__webpack_require__.d(__webpack_exports__,"OPENSEARCH_FIELD_TYPES",(function(){return common_types["b"]}));__webpack_require__.d(__webpack_exports__,"OSD_FIELD_TYPES",(function(){return common_types["c"]}));__webpack_require__.d(__webpack_exports__,"shortenDottedString",(function(){return utils["c"]}));__webpack_require__.d(__webpack_exports__,"AbortError",(function(){return utils["a"]}));__webpack_require__.d(__webpack_exports__,"toPromise",(function(){return utils["d"]}));__webpack_require__.d(__webpack_exports__,"getCombinedSignal",(function(){return utils["b"]}));__webpack_require__.d(__webpack_exports__,"IndexPatternAttributes",(function(){return common_types["IndexPatternAttributes"]}));var constants=__webpack_require__(18);var opensearch_query=__webpack_require__(54);var opensearch_query_filters=__webpack_require__(22);var kuery=__webpack_require__(50);var field_formats=__webpack_require__(10);var field_mapping=__webpack_require__(64);var index_patterns=__webpack_require__(53);var osd_field_types=__webpack_require__(48);var external_osdSharedDeps_Lodash_=__webpack_require__(2);const COMPARE_ALL_OPTIONS={index:true,disabled:true,negate:true,state:true,alias:true};const mapFilter=(filter,comparators,excludedAttributes)=>{var _filter$meta,_filter$meta2;const cleaned=Object(external_osdSharedDeps_Lodash_["omit"])(filter,excludedAttributes);if(comparators.index)cleaned.index=(_filter$meta=filter.meta)===null||_filter$meta===void 0?void 0:_filter$meta.index;if(comparators.negate)cleaned.negate=filter.meta&&Boolean(filter.meta.negate);if(comparators.disabled)cleaned.disabled=filter.meta&&Boolean(filter.meta.disabled);if(comparators.alias)cleaned.alias=(_filter$meta2=filter.meta)===null||_filter$meta2===void 0?void 0:_filter$meta2.alias;return cleaned};const mapFilterArray=(filters,comparators,excludedAttributes)=>Object(external_osdSharedDeps_Lodash_["map"])(filters,filter=>mapFilter(filter,comparators,excludedAttributes));const compareFilters=function(first,second){let comparatorOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!first||!second)return false;let comparators={};const excludedAttributes=["$$hashKey","meta"];comparators=Object(external_osdSharedDeps_Lodash_["defaults"])(comparatorOptions||{},{index:false,state:false,negate:false,disabled:false,alias:false});if(!comparators.state)excludedAttributes.push("$state");if(Array.isArray(first)&&Array.isArray(second)){return Object(external_osdSharedDeps_Lodash_["isEqual"])(mapFilterArray(first,comparators,excludedAttributes),mapFilterArray(second,comparators,excludedAttributes))}else if(!Array.isArray(first)&&!Array.isArray(second)){return Object(external_osdSharedDeps_Lodash_["isEqual"])(mapFilter(first,comparators,excludedAttributes),mapFilter(second,comparators,excludedAttributes))}else{return false}};const dedupFilters=function(existingFilters,filters){let comparatorOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!Array.isArray(filters)){filters=[filters]}return Object(external_osdSharedDeps_Lodash_["filter"])(filters,f=>!Object(external_osdSharedDeps_Lodash_["find"])(existingFilters,existingFilter=>compareFilters(existingFilter,f,comparatorOptions)))};const uniqFilters=function(filters){let comparatorOptions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let results=[];Object(external_osdSharedDeps_Lodash_["each"])(filters,filter=>{results=Object(external_osdSharedDeps_Lodash_["union"])(results,dedupFilters(results,[filter]),comparatorOptions)});return results};var target=__webpack_require__(15);var target_default=__webpack_require__.n(target);function calculateBounds(timeRange){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return{min:target_default.a.parse(timeRange.from,{forceNow:options.forceNow}),max:target_default.a.parse(timeRange.to,{roundUp:true,forceNow:options.forceNow})}}function getTime(indexPattern,timeRange,options){return createTimeRangeFilter(indexPattern,timeRange,(options===null||options===void 0?void 0:options.fieldName)||(indexPattern===null||indexPattern===void 0?void 0:indexPattern.timeFieldName),options===null||options===void 0?void 0:options.forceNow)}function createTimeRangeFilter(indexPattern,timeRange,fieldName,forceNow){if(!indexPattern){return}const field=indexPattern.fields.find(f=>f.name===(fieldName||indexPattern.timeFieldName));if(!field){return}const bounds=calculateBounds(timeRange,{forceNow:forceNow});if(!bounds){return}return Object(opensearch_query_filters["k"])(field,{...bounds.min&&{gte:bounds.min.toISOString()},...bounds.max&&{lte:bounds.max.toISOString()},format:"strict_date_optional_time"},indexPattern)}const isTimeRange=x=>!!x&&typeof x==="object"&&typeof x.from==="string"&&typeof x.to==="string";var types=__webpack_require__(65);const isQuery=x=>!!x&&typeof x==="object"&&typeof x.language==="string"&&(typeof x.query==="string"||typeof x.query==="object"&&!!x.query);var search=__webpack_require__(12);var common_types=__webpack_require__(31);var utils=__webpack_require__(37)},function(module,exports){module.exports=__osdSharedDeps__.Lodash},function(module,exports){module.exports=__osdSharedDeps__.React},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OPENSEARCH_FIELD_TYPES}));__webpack_require__.d(__webpack_exports__,"b",(function(){return OSD_FIELD_TYPES}));let OPENSEARCH_FIELD_TYPES;(function(OPENSEARCH_FIELD_TYPES){OPENSEARCH_FIELD_TYPES["_ID"]="_id";OPENSEARCH_FIELD_TYPES["_INDEX"]="_index";OPENSEARCH_FIELD_TYPES["_SOURCE"]="_source";OPENSEARCH_FIELD_TYPES["_TYPE"]="_type";OPENSEARCH_FIELD_TYPES["STRING"]="string";OPENSEARCH_FIELD_TYPES["TEXT"]="text";OPENSEARCH_FIELD_TYPES["KEYWORD"]="keyword";OPENSEARCH_FIELD_TYPES["BOOLEAN"]="boolean";OPENSEARCH_FIELD_TYPES["OBJECT"]="object";OPENSEARCH_FIELD_TYPES["DATE"]="date";OPENSEARCH_FIELD_TYPES["DATE_NANOS"]="date_nanos";OPENSEARCH_FIELD_TYPES["GEO_POINT"]="geo_point";OPENSEARCH_FIELD_TYPES["GEO_SHAPE"]="geo_shape";OPENSEARCH_FIELD_TYPES["FLOAT"]="float";OPENSEARCH_FIELD_TYPES["HALF_FLOAT"]="half_float";OPENSEARCH_FIELD_TYPES["SCALED_FLOAT"]="scaled_float";OPENSEARCH_FIELD_TYPES["DOUBLE"]="double";OPENSEARCH_FIELD_TYPES["INTEGER"]="integer";OPENSEARCH_FIELD_TYPES["LONG"]="long";OPENSEARCH_FIELD_TYPES["SHORT"]="short";OPENSEARCH_FIELD_TYPES["UNSIGNED_LONG"]="unsigned_long";OPENSEARCH_FIELD_TYPES["NESTED"]="nested";OPENSEARCH_FIELD_TYPES["BYTE"]="byte";OPENSEARCH_FIELD_TYPES["IP"]="ip";OPENSEARCH_FIELD_TYPES["ATTACHMENT"]="attachment";OPENSEARCH_FIELD_TYPES["TOKEN_COUNT"]="token_count";OPENSEARCH_FIELD_TYPES["MURMUR3"]="murmur3";OPENSEARCH_FIELD_TYPES["HISTOGRAM"]="histogram"})(OPENSEARCH_FIELD_TYPES||(OPENSEARCH_FIELD_TYPES={}));let OSD_FIELD_TYPES;(function(OSD_FIELD_TYPES){OSD_FIELD_TYPES["_SOURCE"]="_source";OSD_FIELD_TYPES["ATTACHMENT"]="attachment";OSD_FIELD_TYPES["BOOLEAN"]="boolean";OSD_FIELD_TYPES["DATE"]="date";OSD_FIELD_TYPES["GEO_POINT"]="geo_point";OSD_FIELD_TYPES["GEO_SHAPE"]="geo_shape";OSD_FIELD_TYPES["IP"]="ip";OSD_FIELD_TYPES["MURMUR3"]="murmur3";OSD_FIELD_TYPES["NUMBER"]="number";OSD_FIELD_TYPES["STRING"]="string";OSD_FIELD_TYPES["UNKNOWN"]="unknown";OSD_FIELD_TYPES["CONFLICT"]="conflict";OSD_FIELD_TYPES["OBJECT"]="object";OSD_FIELD_TYPES["NESTED"]="nested";OSD_FIELD_TYPES["HISTOGRAM"]="histogram"})(OSD_FIELD_TYPES||(OSD_FIELD_TYPES={}))},function(module,exports){module.exports=__osdSharedDeps__.Moment},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getParsedValue}));const getParsedValue=(data,key)=>{try{return data[key]?JSON.parse(data[key]):undefined}catch(e){throw new Error("Unable to parse ".concat(key," argument string"))}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FIELD_FORMAT_IDS}));let FIELD_FORMAT_IDS;(function(FIELD_FORMAT_IDS){FIELD_FORMAT_IDS["_SOURCE"]="_source";FIELD_FORMAT_IDS["BOOLEAN"]="boolean";FIELD_FORMAT_IDS["BYTES"]="bytes";FIELD_FORMAT_IDS["COLOR"]="color";FIELD_FORMAT_IDS["CUSTOM"]="custom";FIELD_FORMAT_IDS["DATE"]="date";FIELD_FORMAT_IDS["DATE_NANOS"]="date_nanos";FIELD_FORMAT_IDS["DURATION"]="duration";FIELD_FORMAT_IDS["IP"]="ip";FIELD_FORMAT_IDS["NUMBER"]="number";FIELD_FORMAT_IDS["PERCENT"]="percent";FIELD_FORMAT_IDS["RELATIVE_DATE"]="relative_date";FIELD_FORMAT_IDS["STATIC_LOOKUP"]="static_lookup";FIELD_FORMAT_IDS["STRING"]="string";FIELD_FORMAT_IDS["TRUNCATE"]="truncate";FIELD_FORMAT_IDS["URL"]="url"})(FIELD_FORMAT_IDS||(FIELD_FORMAT_IDS={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getNotifications}));__webpack_require__.d(__webpack_exports__,"j",(function(){return setNotifications}));__webpack_require__.d(__webpack_exports__,"g",(function(){return getUiSettings}));__webpack_require__.d(__webpack_exports__,"n",(function(){return setUiSettings}));__webpack_require__.d(__webpack_exports__,"a",(function(){return getFieldFormats}));__webpack_require__.d(__webpack_exports__,"h",(function(){return setFieldFormats}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getOverlays}));__webpack_require__.d(__webpack_exports__,"k",(function(){return setOverlays}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getIndexPatterns}));__webpack_require__.d(__webpack_exports__,"i",(function(){return setIndexPatterns}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getQueryService}));__webpack_require__.d(__webpack_exports__,"l",(function(){return setQueryService}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getSearchService}));__webpack_require__.d(__webpack_exports__,"m",(function(){return setSearchService}));var _opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(26);var _opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0__);const[getNotifications,setNotifications]=Object(_opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("Notifications");const[getUiSettings,setUiSettings]=Object(_opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("UiSettings");const[getFieldFormats,setFieldFormats]=Object(_opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("FieldFormats");const[getOverlays,setOverlays]=Object(_opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("Overlays");const[getIndexPatterns,setIndexPatterns]=Object(_opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("IndexPatterns");const[getQueryService,setQueryService]=Object(_opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("Query");const[getSearchService,setSearchService]=Object(_opensearch_dashboards_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("Search")},function(module,exports){module.exports=__osdSharedDeps__.Rxjs},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"n",(function(){return field_formats_registry_FieldFormatsRegistry}));__webpack_require__.d(__webpack_exports__,"g",(function(){return field_format["a"]}));__webpack_require__.d(__webpack_exports__,"B",(function(){return baseFormatters}));__webpack_require__.d(__webpack_exports__,"a",(function(){return boolean_BoolFormat}));__webpack_require__.d(__webpack_exports__,"b",(function(){return bytes_BytesFormat}));__webpack_require__.d(__webpack_exports__,"c",(function(){return color_ColorFormat}));__webpack_require__.d(__webpack_exports__,"e",(function(){return duration_DurationFormat}));__webpack_require__.d(__webpack_exports__,"r",(function(){return ip_IpFormat}));__webpack_require__.d(__webpack_exports__,"s",(function(){return number_NumberFormat}));__webpack_require__.d(__webpack_exports__,"t",(function(){return percent_PercentFormat}));__webpack_require__.d(__webpack_exports__,"u",(function(){return relative_date_RelativeDateFormat}));__webpack_require__.d(__webpack_exports__,"v",(function(){return source_SourceFormat}));__webpack_require__.d(__webpack_exports__,"w",(function(){return static_lookup_StaticLookupFormat}));__webpack_require__.d(__webpack_exports__,"A",(function(){return url_UrlFormat}));__webpack_require__.d(__webpack_exports__,"x",(function(){return string["a"]}));__webpack_require__.d(__webpack_exports__,"z",(function(){return truncate_TruncateFormat}));__webpack_require__.d(__webpack_exports__,"C",(function(){return utils["c"]}));__webpack_require__.d(__webpack_exports__,"d",(function(){return DEFAULT_CONVERTER_COLOR}));__webpack_require__.d(__webpack_exports__,"f",(function(){return types["a"]}));__webpack_require__.d(__webpack_exports__,"p",(function(){return content_types["a"]}));__webpack_require__.d(__webpack_exports__,"y",(function(){return content_types["b"]}));__webpack_require__.d(__webpack_exports__,"m",(function(){return types["FieldFormatsGetConfigFn"]}));__webpack_require__.d(__webpack_exports__,"l",(function(){return types["FieldFormatsContentType"]}));__webpack_require__.d(__webpack_exports__,"h",(function(){return types["FieldFormatConfig"]}));__webpack_require__.d(__webpack_exports__,"i",(function(){return types["FieldFormatId"]}));__webpack_require__.d(__webpack_exports__,"j",(function(){return types["FieldFormatInstanceType"]}));__webpack_require__.d(__webpack_exports__,"q",(function(){return types["IFieldFormat"]}));__webpack_require__.d(__webpack_exports__,"o",(function(){return types["FieldFormatsStartCommon"]}));__webpack_require__.d(__webpack_exports__,"k",(function(){return FieldFormatNotFoundError}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var types=__webpack_require__(7);var external_osdSharedDeps_OsdI18n_=__webpack_require__(0);var utils=__webpack_require__(25);var osd_field_types_types=__webpack_require__(4);var field_format=__webpack_require__(14);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const templateMatchRE=/{{([\s\S]+?)}}/g;const allowedUrlSchemes=["http://","https://"];const URL_TYPES=[{kind:"a",text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.url.types.link",{defaultMessage:"Link"})},{kind:"img",text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.url.types.img",{defaultMessage:"Image"})},{kind:"audio",text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.url.types.audio",{defaultMessage:"Audio"})}];const DEFAULT_URL_TYPE="a";class url_UrlFormat extends field_format["a"]{constructor(params){var _this;super(params);_this=this;_defineProperty(this,"textConvert",value=>this.formatLabel(value));_defineProperty(this,"htmlConvert",(function(rawValue){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{field:field,hit:hit}=options;const{parsedUrl:parsedUrl}=_this._params;const{basePath:basePath,pathname:pathname,origin:origin}=parsedUrl||{};const url=Object(external_osdSharedDeps_Lodash_["escape"])(_this.formatUrl(rawValue));const label=Object(external_osdSharedDeps_Lodash_["escape"])(_this.formatLabel(rawValue,url));switch(_this.param("type")){case"audio":return'<audio controls preload="none" src="'.concat(url,'">');case"img":const imageLabel=label===url?"A dynamically-specified image located at ".concat(url):label;return _this.generateImgHtml(url,imageLabel);default:const allowed=allowedUrlSchemes.some(scheme=>url.indexOf(scheme)===0);if(!allowed&&!parsedUrl){return url}let prefix="";if(!allowed){if(url[0]==="#"){prefix="".concat(origin).concat(pathname)}else if(url.indexOf(basePath||"/")===0){prefix="".concat(origin)}else{const prefixEnd=url[0]==="/"?"":"/";prefix="".concat(origin).concat(basePath||"","/app").concat(prefixEnd)}}let linkLabel;if(hit&&hit.highlight&&hit.highlight[field.name]){linkLabel=Object(utils["b"])(label,hit.highlight[field.name])}else{linkLabel=label}const linkTarget=_this.param("openLinkInCurrentTab")?"_self":"_blank";return'<a href="'.concat(prefix).concat(url,'" target="').concat(linkTarget,'" rel="noopener noreferrer">').concat(linkLabel,"</a>")}}));this.compileTemplate=Object(external_osdSharedDeps_Lodash_["memoize"])(this.compileTemplate)}getParamDefaults(){return{type:DEFAULT_URL_TYPE,urlTemplate:null,labelTemplate:null,width:null,height:null}}formatLabel(value,url){const template=this.param("labelTemplate");if(url==null)url=this.formatUrl(value);if(!template)return url;return this.compileTemplate(template)({value:value,url:url})}formatUrl(value){const template=this.param("urlTemplate");if(!template)return value;return this.compileTemplate(template)({value:encodeURIComponent(value),rawValue:value})}compileTemplate(template){const parts=template.split(templateMatchRE).map((part,i)=>i%2?part.trim():part);return function(locals){let output="";let i=-1;while(++i<parts.length){if(i%2){if(locals.hasOwnProperty(parts[i])){const local=locals[parts[i]];output+=local==null?"":local}}else{output+=parts[i]}}return output}}generateImgHtml(url,imageLabel){const isValidWidth=!isNaN(parseInt(this.param("width"),10));const isValidHeight=!isNaN(parseInt(this.param("height"),10));const maxWidth=isValidWidth?"".concat(this.param("width"),"px"):"none";const maxHeight=isValidHeight?"".concat(this.param("height"),"px"):"none";return'<img src="'.concat(url,'" alt="').concat(imageLabel,'" style="width:auto; height:auto; max-width:').concat(maxWidth,"; max-height:").concat(maxHeight,';">')}}_defineProperty(url_UrlFormat,"id",types["a"].URL);_defineProperty(url_UrlFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.url.title",{defaultMessage:"Url"}));_defineProperty(url_UrlFormat,"fieldType",[osd_field_types_types["b"].NUMBER,osd_field_types_types["b"].BOOLEAN,osd_field_types_types["b"].DATE,osd_field_types_types["b"].IP,osd_field_types_types["b"].STRING,osd_field_types_types["b"].MURMUR3,osd_field_types_types["b"].UNKNOWN,osd_field_types_types["b"].CONFLICT]);_defineProperty(url_UrlFormat,"urlTypes",URL_TYPES);var external_osdSharedDeps_ElasticNumeral_=__webpack_require__(51);var external_osdSharedDeps_ElasticNumeral_default=__webpack_require__.n(external_osdSharedDeps_ElasticNumeral_);var languages=__webpack_require__(88);var languages_default=__webpack_require__.n(languages);var constants=__webpack_require__(18);function numeral_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const numeralInst=external_osdSharedDeps_ElasticNumeral_default()();languages_default.a.forEach(numeralLanguage=>{external_osdSharedDeps_ElasticNumeral_default.a.language(numeralLanguage.id,numeralLanguage.lang)});class numeral_NumeralFormat extends field_format["a"]{constructor(){super(...arguments);numeral_defineProperty(this,"id",void 0);numeral_defineProperty(this,"title",void 0);numeral_defineProperty(this,"getParamDefaults",()=>({pattern:this.getConfig("format:".concat(this.id,":defaultPattern"))}));numeral_defineProperty(this,"textConvert",val=>this.getConvertedValue(val))}getConvertedValue(val){if(val===-Infinity)return"-∞";if(val===+Infinity)return"+∞";if(typeof val!=="number"){val=parseFloat(val)}if(isNaN(val))return"";const previousLocale=external_osdSharedDeps_ElasticNumeral_default.a.language();const defaultLocale=this.getConfig&&this.getConfig(constants["b"].FORMAT_NUMBER_DEFAULT_LOCALE)||"en";external_osdSharedDeps_ElasticNumeral_default.a.language(defaultLocale);const formatted=numeralInst.set(val).format(this.param("pattern"));external_osdSharedDeps_ElasticNumeral_default.a.language(previousLocale);return formatted}}numeral_defineProperty(numeral_NumeralFormat,"fieldType",osd_field_types_types["b"].NUMBER);function bytes_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class bytes_BytesFormat extends numeral_NumeralFormat{constructor(){super(...arguments);bytes_defineProperty(this,"id",bytes_BytesFormat.id);bytes_defineProperty(this,"title",bytes_BytesFormat.title);bytes_defineProperty(this,"allowsNumericalAggregations",true)}}bytes_defineProperty(bytes_BytesFormat,"id",types["a"].BYTES);bytes_defineProperty(bytes_BytesFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.bytes.title",{defaultMessage:"Bytes"}));var external_osdSharedDeps_Moment_=__webpack_require__(5);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);function relative_date_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class relative_date_RelativeDateFormat extends field_format["a"]{constructor(){super(...arguments);relative_date_defineProperty(this,"textConvert",val=>{if(val===null||val===undefined){return"-"}const date=external_osdSharedDeps_Moment_default()(val);if(date.isValid()){return date.fromNow()}else{return val}})}}relative_date_defineProperty(relative_date_RelativeDateFormat,"id",types["a"].RELATIVE_DATE);relative_date_defineProperty(relative_date_RelativeDateFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.relative_date.title",{defaultMessage:"Relative date"}));relative_date_defineProperty(relative_date_RelativeDateFormat,"fieldType",osd_field_types_types["b"].DATE);function duration_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const ratioToSeconds={picoseconds:1e-12,nanoseconds:1e-9,microseconds:1e-6};const HUMAN_FRIENDLY="humanize";const DEFAULT_OUTPUT_PRECISION=2;const DEFAULT_INPUT_FORMAT={text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.seconds",{defaultMessage:"Seconds"}),kind:"seconds"};const inputFormats=[{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.picoseconds",{defaultMessage:"Picoseconds"}),kind:"picoseconds"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.nanoseconds",{defaultMessage:"Nanoseconds"}),kind:"nanoseconds"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.microseconds",{defaultMessage:"Microseconds"}),kind:"microseconds"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.milliseconds",{defaultMessage:"Milliseconds"}),kind:"milliseconds"},{...DEFAULT_INPUT_FORMAT},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.minutes",{defaultMessage:"Minutes"}),kind:"minutes"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.hours",{defaultMessage:"Hours"}),kind:"hours"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.days",{defaultMessage:"Days"}),kind:"days"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.weeks",{defaultMessage:"Weeks"}),kind:"weeks"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.months",{defaultMessage:"Months"}),kind:"months"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.inputFormats.years",{defaultMessage:"Years"}),kind:"years"}];const DEFAULT_OUTPUT_FORMAT={text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.outputFormats.humanize",{defaultMessage:"Human Readable"}),method:"humanize"};const outputFormats=[{...DEFAULT_OUTPUT_FORMAT},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.outputFormats.asMilliseconds",{defaultMessage:"Milliseconds"}),method:"asMilliseconds"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.outputFormats.asSeconds",{defaultMessage:"Seconds"}),method:"asSeconds"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.outputFormats.asMinutes",{defaultMessage:"Minutes"}),method:"asMinutes"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.outputFormats.asHours",{defaultMessage:"Hours"}),method:"asHours"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.outputFormats.asDays",{defaultMessage:"Days"}),method:"asDays"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.outputFormats.asWeeks",{defaultMessage:"Weeks"}),method:"asWeeks"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.outputFormats.asMonths",{defaultMessage:"Months"}),method:"asMonths"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.outputFormats.asYears",{defaultMessage:"Years"}),method:"asYears"}];function parseInputAsDuration(val,inputFormat){const ratio=ratioToSeconds[inputFormat]||1;const kind=inputFormat in ratioToSeconds?"seconds":inputFormat;return external_osdSharedDeps_Moment_default.a.duration(val*ratio,kind)}class duration_DurationFormat extends field_format["a"]{constructor(){super(...arguments);duration_defineProperty(this,"allowsNumericalAggregations",true);duration_defineProperty(this,"textConvert",val=>{const inputFormat=this.param("inputFormat");const outputFormat=this.param("outputFormat");const outputPrecision=this.param("outputPrecision");const showSuffix=Boolean(this.param("showSuffix"));const human=this.isHuman();const prefix=val<0&&human?external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.negativeLabel",{defaultMessage:"minus"})+" ":"";const duration=parseInputAsDuration(val,inputFormat);const formatted=duration[outputFormat]();const precise=human?formatted:formatted.toFixed(outputPrecision);const type=outputFormats.find(_ref=>{let{method:method}=_ref;return method===outputFormat});const suffix=showSuffix&&type?" ".concat(type.text):"";return prefix+precise+suffix})}isHuman(){return this.param("outputFormat")===HUMAN_FRIENDLY}getParamDefaults(){return{inputFormat:DEFAULT_INPUT_FORMAT.kind,outputFormat:DEFAULT_OUTPUT_FORMAT.method,outputPrecision:DEFAULT_OUTPUT_PRECISION}}}duration_defineProperty(duration_DurationFormat,"id",types["a"].DURATION);duration_defineProperty(duration_DurationFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.duration.title",{defaultMessage:"Duration"}));duration_defineProperty(duration_DurationFormat,"fieldType",osd_field_types_types["b"].NUMBER);duration_defineProperty(duration_DurationFormat,"inputFormats",inputFormats);duration_defineProperty(duration_DurationFormat,"outputFormats",outputFormats);function ip_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class ip_IpFormat extends field_format["a"]{constructor(){super(...arguments);ip_defineProperty(this,"textConvert",val=>{if(val===undefined||val===null)return"-";if(!isFinite(val))return val;return[val>>>24,val>>>16&255,val>>>8&255,val&255].join(".")})}}ip_defineProperty(ip_IpFormat,"id",types["a"].IP);ip_defineProperty(ip_IpFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.ip.title",{defaultMessage:"IP address"}));ip_defineProperty(ip_IpFormat,"fieldType",osd_field_types_types["b"].IP);function number_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class number_NumberFormat extends numeral_NumeralFormat{constructor(){super(...arguments);number_defineProperty(this,"id",number_NumberFormat.id);number_defineProperty(this,"title",number_NumberFormat.title);number_defineProperty(this,"allowsNumericalAggregations",true)}}number_defineProperty(number_NumberFormat,"id",types["a"].NUMBER);number_defineProperty(number_NumberFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.number.title",{defaultMessage:"Number"}));function percent_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class percent_PercentFormat extends numeral_NumeralFormat{constructor(){super(...arguments);percent_defineProperty(this,"id",percent_PercentFormat.id);percent_defineProperty(this,"title",percent_PercentFormat.title);percent_defineProperty(this,"allowsNumericalAggregations",true);percent_defineProperty(this,"getParamDefaults",()=>({pattern:this.getConfig(constants["b"].FORMAT_PERCENT_DEFAULT_PATTERN),fractional:true}));percent_defineProperty(this,"textConvert",val=>{const formatted=super.getConvertedValue(val);if(this.param("fractional")){return formatted}return String(Number(formatted)/100)})}}percent_defineProperty(percent_PercentFormat,"id",types["a"].PERCENT);percent_defineProperty(percent_PercentFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.percent.title",{defaultMessage:"Percentage"}));var string=__webpack_require__(83);var common_utils=__webpack_require__(37);function source_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function noWhiteSpace(html){const TAGS_WITH_WS=/>\s+</g;return html.replace(TAGS_WITH_WS,"><")}const templateHtml="\n  <dl class=\"source truncate-by-height\">\n    <% defPairs.forEach(function (def) { %>\n      <dt><%- def[0] %>:</dt>\n      <dd><%= def[1] %></dd>\n      <%= ' ' %>\n    <% }); %>\n  </dl>";const doTemplate=Object(external_osdSharedDeps_Lodash_["template"])(noWhiteSpace(templateHtml));class source_SourceFormat extends field_format["a"]{constructor(){var _this;super(...arguments);_this=this;source_defineProperty(this,"textConvert",value=>JSON.stringify(value));source_defineProperty(this,"htmlConvert",(function(value){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{field:field,hit:hit,indexPattern:indexPattern}=options;if(!field){const converter=_this.getConverterFor("text");return Object(external_osdSharedDeps_Lodash_["escape"])(converter(value))}const highlights=hit&&hit.highlight||{};const formatted=indexPattern.formatHit(hit);const highlightPairs=[];const sourcePairs=[];const isShortDots=_this.getConfig(constants["b"].SHORT_DOTS_ENABLE);Object(external_osdSharedDeps_Lodash_["keys"])(formatted).forEach(key=>{const pairs=highlights[key]?highlightPairs:sourcePairs;const newField=isShortDots?Object(common_utils["c"])(key):key;const val=formatted[key];pairs.push([newField,val])},[]);return doTemplate({defPairs:highlightPairs.concat(sourcePairs)})}))}}source_defineProperty(source_SourceFormat,"id",types["a"]._SOURCE);source_defineProperty(source_SourceFormat,"title","_source");source_defineProperty(source_SourceFormat,"fieldType",osd_field_types_types["b"]._SOURCE);const DEFAULT_CONVERTER_COLOR={range:"".concat(Number.NEGATIVE_INFINITY,":").concat(Number.POSITIVE_INFINITY),regex:"<insert regex>",text:"#000000",background:"#ffffff"};function color_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const convertTemplate=Object(external_osdSharedDeps_Lodash_["template"])('<span style="<%- style %>"><%- val %></span>');class color_ColorFormat extends field_format["a"]{constructor(){super(...arguments);color_defineProperty(this,"htmlConvert",val=>{const color=this.findColorRuleForVal(val);if(!color)return Object(external_osdSharedDeps_Lodash_["escape"])(Object(utils["a"])(val));let style="";if(color.text)style+="color: ".concat(color.text,";");if(color.background)style+="background-color: ".concat(color.background,";");return convertTemplate({val:val,style:style})})}getParamDefaults(){return{fieldType:null,colors:[Object(external_osdSharedDeps_Lodash_["cloneDeep"])(DEFAULT_CONVERTER_COLOR)]}}findColorRuleForVal(val){switch(this.param("fieldType")){case"string":return Object(external_osdSharedDeps_Lodash_["findLast"])(this.param("colors"),colorParam=>new RegExp(colorParam.regex).test(val));case"number":return Object(external_osdSharedDeps_Lodash_["findLast"])(this.param("colors"),_ref=>{let{range:range}=_ref;if(!range)return;const[start,end]=range.split(":");return val>=Number(start)&&val<=Number(end)});default:return null}}}color_defineProperty(color_ColorFormat,"id",types["a"].COLOR);color_defineProperty(color_ColorFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.color.title",{defaultMessage:"Color"}));color_defineProperty(color_ColorFormat,"fieldType",[osd_field_types_types["b"].NUMBER,osd_field_types_types["b"].STRING]);function truncate_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const omission="...";class truncate_TruncateFormat extends field_format["a"]{constructor(){super(...arguments);truncate_defineProperty(this,"textConvert",val=>{const length=this.param("fieldLength");if(length>0){return Object(external_osdSharedDeps_Lodash_["truncate"])(val,{length:length+omission.length,omission:omission})}return val})}}truncate_defineProperty(truncate_TruncateFormat,"id",types["a"].TRUNCATE);truncate_defineProperty(truncate_TruncateFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.truncated_string.title",{defaultMessage:"Truncated string"}));truncate_defineProperty(truncate_TruncateFormat,"fieldType",osd_field_types_types["b"].STRING);function boolean_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class boolean_BoolFormat extends field_format["a"]{constructor(){super(...arguments);boolean_defineProperty(this,"textConvert",value=>{if(typeof value==="string"){value=value.trim().toLowerCase()}switch(value){case false:case 0:case"false":case"no":return"false";case true:case 1:case"true":case"yes":return"true";default:return Object(utils["a"])(value)}})}}boolean_defineProperty(boolean_BoolFormat,"id",types["a"].BOOLEAN);boolean_defineProperty(boolean_BoolFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.boolean.title",{defaultMessage:"Boolean"}));boolean_defineProperty(boolean_BoolFormat,"fieldType",[osd_field_types_types["b"].BOOLEAN,osd_field_types_types["b"].NUMBER,osd_field_types_types["b"].STRING]);function static_lookup_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function convertLookupEntriesToMap(lookupEntries){return lookupEntries.reduce((lookupMap,lookupEntry)=>{lookupMap[lookupEntry.key]=lookupEntry.value;return lookupMap},{})}class static_lookup_StaticLookupFormat extends field_format["a"]{constructor(){super(...arguments);static_lookup_defineProperty(this,"textConvert",val=>{const lookupEntries=this.param("lookupEntries");const unknownKeyValue=this.param("unknownKeyValue");const lookupMap=convertLookupEntriesToMap(lookupEntries);return lookupMap[val]||unknownKeyValue||val})}getParamDefaults(){return{lookupEntries:[{}],unknownKeyValue:null}}}static_lookup_defineProperty(static_lookup_StaticLookupFormat,"id",types["a"].STATIC_LOOKUP);static_lookup_defineProperty(static_lookup_StaticLookupFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.static_lookup.title",{defaultMessage:"Static lookup"}));static_lookup_defineProperty(static_lookup_StaticLookupFormat,"fieldType",[osd_field_types_types["b"].STRING,osd_field_types_types["b"].NUMBER,osd_field_types_types["b"].IP,osd_field_types_types["b"].BOOLEAN]);const baseFormatters=[boolean_BoolFormat,bytes_BytesFormat,color_ColorFormat,duration_DurationFormat,ip_IpFormat,number_NumberFormat,percent_PercentFormat,relative_date_RelativeDateFormat,source_SourceFormat,static_lookup_StaticLookupFormat,string["a"],truncate_TruncateFormat,url_UrlFormat];function field_formats_registry_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class field_formats_registry_FieldFormatsRegistry{constructor(){var _this=this;field_formats_registry_defineProperty(this,"fieldFormats",new Map);field_formats_registry_defineProperty(this,"defaultMap",{});field_formats_registry_defineProperty(this,"metaParamsOptions",{});field_formats_registry_defineProperty(this,"getConfig",void 0);field_formats_registry_defineProperty(this,"deserialize",()=>new(field_format["a"].from(external_osdSharedDeps_Lodash_["identity"])));field_formats_registry_defineProperty(this,"getDefaultConfig",(fieldType,esTypes)=>{const type=this.getDefaultTypeName(fieldType,esTypes);return this.defaultMap&&this.defaultMap[type]||{id:types["a"].STRING,params:{}}});field_formats_registry_defineProperty(this,"getType",formatId=>{const fieldFormat=this.fieldFormats.get(formatId);if(fieldFormat){const decoratedFieldFormat=this.fieldFormatMetaParamsDecorator(fieldFormat);if(decoratedFieldFormat){return decoratedFieldFormat}}return undefined});field_formats_registry_defineProperty(this,"getTypeWithoutMetaParams",formatId=>this.fieldFormats.get(formatId));field_formats_registry_defineProperty(this,"getDefaultType",(fieldType,esTypes)=>{const config=this.getDefaultConfig(fieldType,esTypes);return this.getType(config.id)});field_formats_registry_defineProperty(this,"getTypeNameByOpenSearchTypes",esTypes=>{if(!Array.isArray(esTypes)){return undefined}return esTypes.find(type=>this.defaultMap[type]&&this.defaultMap[type].opensearch)});field_formats_registry_defineProperty(this,"getDefaultTypeName",(fieldType,esTypes)=>{const opensearchType=this.getTypeNameByOpenSearchTypes(esTypes);return opensearchType||fieldType});field_formats_registry_defineProperty(this,"getInstance",Object(external_osdSharedDeps_Lodash_["memoize"])((function(formatId){let params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const ConcreteFieldFormat=_this.getType(formatId);if(!ConcreteFieldFormat){throw new FieldFormatNotFoundError("Field Format '".concat(formatId,"' not found!"),formatId)}return new ConcreteFieldFormat(params,_this.getConfig)}),(function(formatId){let params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return JSON.stringify({formatId:formatId,...params})})));field_formats_registry_defineProperty(this,"getDefaultInstancePlain",(function(fieldType,esTypes){let params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const conf=_this.getDefaultConfig(fieldType,esTypes);const instanceParams={...conf.params,...params};return _this.getInstance(conf.id,instanceParams)}));field_formats_registry_defineProperty(this,"getDefaultInstance",Object(external_osdSharedDeps_Lodash_["memoize"])(this.getDefaultInstancePlain,this.getDefaultInstanceCacheResolver));field_formats_registry_defineProperty(this,"fieldFormatMetaParamsDecorator",fieldFormat=>{const getMetaParams=customParams=>this.buildMetaParams(customParams);if(fieldFormat){var _class;return _class=class DecoratedFieldFormat extends fieldFormat{constructor(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let getConfig=arguments.length>1?arguments[1]:undefined;super(getMetaParams(params),getConfig)}},field_formats_registry_defineProperty(_class,"id",fieldFormat.id),field_formats_registry_defineProperty(_class,"fieldType",fieldFormat.fieldType),_class}return undefined});field_formats_registry_defineProperty(this,"buildMetaParams",customParams=>({...this.metaParamsOptions,...customParams}))}init(getConfig){let metaParamsOptions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let defaultFieldConverters=arguments.length>2&&arguments[2]!==undefined?arguments[2]:baseFormatters;const defaultTypeMap=getConfig(constants["b"].FORMAT_DEFAULT_TYPE_MAP);this.register(defaultFieldConverters);this.parseDefaultTypeMap(defaultTypeMap);this.getConfig=getConfig;this.metaParamsOptions=metaParamsOptions}getDefaultInstanceCacheResolver(fieldType,esTypes){return Array.isArray(esTypes)&&esTypes.indexOf(fieldType)===-1?[fieldType,...esTypes].join("-"):fieldType}getByFieldType(fieldType){return[...this.fieldFormats.values()].filter(format=>format&&format.fieldType.indexOf(fieldType)!==-1).map(format=>this.fieldFormatMetaParamsDecorator(format))}parseDefaultTypeMap(value){this.defaultMap=value;Object(external_osdSharedDeps_Lodash_["forOwn"])(this,fn=>{if(Object(external_osdSharedDeps_Lodash_["isFunction"])(fn)&&fn.cache){fn.cache=new external_osdSharedDeps_Lodash_["memoize"].Cache}})}register(fieldFormats){fieldFormats.forEach(fieldFormat=>this.fieldFormats.set(fieldFormat.id,fieldFormat))}}var content_types=__webpack_require__(40);function errors_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class FieldFormatNotFoundError extends Error{constructor(message,formatId){super(message);errors_defineProperty(this,"formatId",void 0);this.name="FieldFormatNotFoundError";this.formatId=formatId}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"t",(function(){return fromUser}));__webpack_require__.d(__webpack_exports__,"v",(function(){return getDefaultQuery}));__webpack_require__.d(__webpack_exports__,"w",(function(){return getQueryLog}));__webpack_require__.d(__webpack_exports__,"y",(function(){return matchPairs}));__webpack_require__.d(__webpack_exports__,"B",(function(){return toUser}));__webpack_require__.d(__webpack_exports__,"c",(function(){return query_service_QueryService}));__webpack_require__.d(__webpack_exports__,"a",(function(){return filter_manager_FilterManager}));__webpack_require__.d(__webpack_exports__,"x",(function(){return mapAndFlattenFilters}));__webpack_require__.d(__webpack_exports__,"z",(function(){return onlyDisabledFiltersChanged}));__webpack_require__.d(__webpack_exports__,"u",(function(){return generateFilters}));__webpack_require__.d(__webpack_exports__,"l",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"j",(function(){return time_history_TimeHistory}));__webpack_require__.d(__webpack_exports__,"k",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"m",(function(){return changeTimeFilter}));__webpack_require__.d(__webpack_exports__,"p",(function(){return convertRangeFilterToTimeRangeString}));__webpack_require__.d(__webpack_exports__,"r",(function(){return extractTimeFilter}));__webpack_require__.d(__webpack_exports__,"s",(function(){return extractTimeRange}));__webpack_require__.d(__webpack_exports__,"g",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"h",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"i",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"q",(function(){return createSavedQueryService}));__webpack_require__.d(__webpack_exports__,"o",(function(){return connectToQueryState}));__webpack_require__.d(__webpack_exports__,"n",(function(){return connectStorageToQueryState}));__webpack_require__.d(__webpack_exports__,"A",(function(){return syncQueryStateWithUrl}));__webpack_require__.d(__webpack_exports__,"e",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"f",(function(){return undefined}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var external_osdSharedDeps_Lodash_default=__webpack_require__.n(external_osdSharedDeps_Lodash_);var external_osdSharedDeps_Rxjs_=__webpack_require__(9);var external_osdSharedDeps_RxjsOperators_=__webpack_require__(17);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const defaultIsDuplicate=(oldItem,newItem)=>external_osdSharedDeps_Lodash_default.a.isEqual(oldItem,newItem);class persisted_log_PersistedLog{constructor(name){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let storage=arguments.length>2?arguments[2]:undefined;_defineProperty(this,"name",void 0);_defineProperty(this,"maxLength",void 0);_defineProperty(this,"filterDuplicates",void 0);_defineProperty(this,"isDuplicate",void 0);_defineProperty(this,"storage",void 0);_defineProperty(this,"items",void 0);_defineProperty(this,"update$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));this.name=name;this.maxLength=typeof options.maxLength==="string"?this.maxLength=parseInt(options.maxLength,10):options.maxLength;this.filterDuplicates=options.filterDuplicates||false;this.isDuplicate=options.isDuplicate||defaultIsDuplicate;this.storage=storage;this.items=this.storage.get(this.name)||[];if(this.maxLength!==undefined&&!isNaN(this.maxLength)){this.items=external_osdSharedDeps_Lodash_default.a.take(this.items,this.maxLength)}}add(val){if(val==null){return this.items}if(this.filterDuplicates){external_osdSharedDeps_Lodash_default.a.remove(this.items,item=>this.isDuplicate(item,val))}this.items.unshift(val);if(this.maxLength&&!isNaN(this.maxLength)){this.items=external_osdSharedDeps_Lodash_default.a.take(this.items,this.maxLength)}this.storage.set(this.name,this.items);this.update$.next(undefined);return this.items}get(){return external_osdSharedDeps_Lodash_default.a.cloneDeep(this.items)}get$(){return this.update$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(()=>this.get()))}}var common=__webpack_require__(1);function getQueryLog(uiSettings,storage,appName,language){return new persisted_log_PersistedLog("typeahead:".concat(appName,"-").concat(language),{maxLength:uiSettings.get(common["UI_SETTINGS"].HISTORY_LIMIT),filterDuplicates:true},storage)}function createAddToQueryLog(_ref){let{storage:storage,uiSettings:uiSettings}=_ref;return function addToQueryLog(appName,_ref2){let{language:language,query:query}=_ref2;const persistedLog=getQueryLog(uiSettings,storage,appName,language);persistedLog.add(query)}}function fromUser(userInput){const matchAll="";if(external_osdSharedDeps_Lodash_default.a.isEmpty(userInput)){return""}if(external_osdSharedDeps_Lodash_default.a.isObject(userInput)){return userInput}userInput=userInput||"";if(typeof userInput==="string"){const trimmedUserInput=userInput.trim();if(trimmedUserInput.length===0){return matchAll}if(trimmedUserInput[0]==="{"){try{return JSON.parse(trimmedUserInput)}catch(e){return userInput}}else{return userInput}}}function getDefaultQuery(){let language=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"kuery";return{query:"",language:language}}const pairs=["()","[]","{}","''",'""'];const openers=pairs.map(pair=>pair[0]);const closers=pairs.map(pair=>pair[1]);function matchPairs(_ref){let{value:value,selectionStart:selectionStart,selectionEnd:selectionEnd,key:key,metaKey:metaKey,updateQuery:updateQuery,preventDefault:preventDefault}=_ref;if(shouldMoveCursorForward(key,value,selectionStart,selectionEnd)){preventDefault();updateQuery(value,selectionStart+1,selectionEnd+1)}else if(shouldInsertMatchingCloser(key,value,selectionStart,selectionEnd)){preventDefault();const newValue=value.substr(0,selectionStart)+key+value.substring(selectionStart,selectionEnd)+closers[openers.indexOf(key)]+value.substr(selectionEnd);updateQuery(newValue,selectionStart+1,selectionEnd+1)}else if(shouldRemovePair(key,metaKey,value,selectionStart,selectionEnd)){preventDefault();const newValue=value.substr(0,selectionEnd-1)+value.substr(selectionEnd+1);updateQuery(newValue,selectionStart-1,selectionEnd-1)}}function shouldMoveCursorForward(key,value,selectionStart,selectionEnd){if(!closers.includes(key)){return false}if(selectionStart!==selectionEnd){return false}return value.charAt(selectionEnd)===key}function shouldInsertMatchingCloser(key,value,selectionStart,selectionEnd){if(!openers.includes(key)){return false}if(selectionStart!==selectionEnd){return true}const precedingCharacter=value.charAt(selectionStart-1);const followingCharacter=value.charAt(selectionStart+1);if(precedingCharacter==="\\"){return false}return!(['"',"'"].includes(key)&&(isAlphanumeric(precedingCharacter)||isAlphanumeric(followingCharacter)))}function shouldRemovePair(key,metaKey,value,selectionStart,selectionEnd){if(key!=="Backspace"||metaKey){return false}if(selectionStart!==selectionEnd){return false}return pairs.includes(value.substr(selectionEnd-1,2))}function isAlphanumeric(){let value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return value.match(/[a-zA-Z0-9_]/)}function toUser(text){if(text==null){return""}if(typeof text==="object"){if(text.query_string){return toUser(text.query_string.query)}return JSON.stringify(text)}return""+text}const sortFilters=(_ref,_ref2)=>{let{$state:a}=_ref;let{$state:b}=_ref2;if(a.store===b.store){return 0}else{return a.store===common["FilterStateStore"].GLOBAL_STATE&&b.store!==common["FilterStateStore"].GLOBAL_STATE?-1:1}};const mapSpatialFilter=filter=>{if(filter.meta&&filter.meta.key&&filter.meta.alias&&filter.meta.type===common["FILTERS"].SPATIAL_FILTER){return{key:filter.meta.key,type:filter.meta.type,value:""}}throw filter};const mapMatchAll=filter=>{if(Object(common["isMatchAllFilter"])(filter)){return{type:common["FILTERS"].MATCH_ALL,key:filter.meta.field,value:filter.meta.formattedValue||"all"}}throw filter};const getScriptedPhraseValue=filter=>Object(external_osdSharedDeps_Lodash_["get"])(filter,["script","script","params","value"]);const getFormattedValueFn=value=>formatter=>formatter?formatter.convert(value):value;const getParams=filter=>{const scriptedPhraseValue=getScriptedPhraseValue(filter);const isScriptedFilter=Boolean(scriptedPhraseValue);const key=isScriptedFilter?filter.meta.field||"":Object(common["getPhraseFilterField"])(filter);const query=scriptedPhraseValue||Object(common["getPhraseFilterValue"])(filter);const params={query:query};return{key:key,params:params,type:common["FILTERS"].PHRASE,value:getFormattedValueFn(query)}};const isMapPhraseFilter=filter=>Object(common["isPhraseFilter"])(filter)||Object(common["isScriptedPhraseFilter"])(filter);const mapPhrase=filter=>{if(!isMapPhraseFilter(filter)){throw filter}return getParams(filter)};const mapPhrases=filter=>{if(!Object(common["isPhrasesFilter"])(filter)){throw filter}const{type:type,key:key,value:value,params:params}=filter.meta;return{type:type,key:key,value:value,params:params}};const map_range_getFormattedValueFn=(left,right)=>formatter=>{let displayValue="".concat(left," to ").concat(right);if(formatter){const convert=formatter.getConverterFor("text");displayValue="".concat(convert(left)," to ").concat(convert(right))}return displayValue};const getFirstRangeKey=filter=>filter.range&&Object.keys(filter.range)[0];const getRangeByKey=(filter,key)=>Object(external_osdSharedDeps_Lodash_["get"])(filter,["range",key]);function map_range_getParams(filter){const isScriptedRange=Object(common["isScriptedRangeFilter"])(filter);const key=(isScriptedRange?filter.meta.field:getFirstRangeKey(filter))||"";const params=isScriptedRange?Object(external_osdSharedDeps_Lodash_["get"])(filter,"script.script.params"):getRangeByKey(filter,key);let left=Object(external_osdSharedDeps_Lodash_["hasIn"])(params,"gte")?params.gte:params.gt;if(left==null)left=-Infinity;let right=Object(external_osdSharedDeps_Lodash_["hasIn"])(params,"lte")?params.lte:params.lt;if(right==null)right=Infinity;const value=map_range_getFormattedValueFn(left,right);return{type:common["FILTERS"].RANGE,key:key,value:value,params:params}}const isMapRangeFilter=filter=>Object(common["isRangeFilter"])(filter)||Object(common["isScriptedRangeFilter"])(filter);const mapRange=filter=>{if(!isMapRangeFilter(filter)){throw filter}return map_range_getParams(filter)};const mapExists=filter=>{if(Object(common["isExistsFilter"])(filter)){return{type:common["FILTERS"].EXISTS,value:common["FILTERS"].EXISTS,key:Object(external_osdSharedDeps_Lodash_["get"])(filter,"exists.field")}}throw filter};const mapMissing=filter=>{if(Object(common["isMissingFilter"])(filter)){return{type:common["FILTERS"].MISSING,value:common["FILTERS"].MISSING,key:filter.missing.field}}throw filter};const mapQueryString=filter=>{if(Object(common["isQueryStringFilter"])(filter)){return{type:common["FILTERS"].QUERY_STRING,key:"query",value:filter.query.query_string.query}}throw filter};const map_geo_bounding_box_getFormattedValueFn=params=>formatter=>{const corners=formatter?{topLeft:formatter.convert(params.top_left),bottomRight:formatter.convert(params.bottom_right)}:{topLeft:JSON.stringify(params.top_left),bottomRight:JSON.stringify(params.bottom_right)};return corners.topLeft+" to "+corners.bottomRight};const map_geo_bounding_box_getParams=filter=>{const key=Object.keys(filter.geo_bounding_box).filter(k=>k!=="ignore_unmapped")[0];const params=filter.geo_bounding_box[key];return{key:key,params:params,type:common["FILTERS"].GEO_BOUNDING_BOX,value:map_geo_bounding_box_getFormattedValueFn(params)}};const mapGeoBoundingBox=filter=>{if(!Object(common["isGeoBoundingBoxFilter"])(filter)){throw filter}return map_geo_bounding_box_getParams(filter)};const POINTS_SEPARATOR=", ";const map_geo_polygon_getFormattedValueFn=points=>formatter=>points.map(point=>formatter?formatter.convert(point):JSON.stringify(point)).join(POINTS_SEPARATOR);function map_geo_polygon_getParams(filter){const key=Object.keys(filter.geo_polygon).filter(k=>k!=="ignore_unmapped")[0];const params=filter.geo_polygon[key];return{key:key,params:params,type:common["FILTERS"].GEO_POLYGON,value:map_geo_polygon_getFormattedValueFn(params.points||[])}}function mapGeoPolygon(filter){if(!Object(common["isGeoPolygonFilter"])(filter)){throw filter}return map_geo_polygon_getParams(filter)}const mapDefault=filter=>{const metaProperty=/(^\$|meta)/;const key=Object(external_osdSharedDeps_Lodash_["find"])(Object(external_osdSharedDeps_Lodash_["keys"])(filter),item=>!item.match(metaProperty));if(key){const type=common["FILTERS"].CUSTOM;const value=JSON.stringify(Object(external_osdSharedDeps_Lodash_["get"])(filter,key,{}));return{type:type,key:key,value:value}}throw filter};const generate_mapping_chain_noop=()=>{throw new Error("No mappings have been found for filter.")};const generateMappingChain=function(fn){let next=arguments.length>1&&arguments[1]!==undefined?arguments[1]:generate_mapping_chain_noop;return filter=>{try{return fn(filter)}catch(result){if(result===filter){return next(filter)}throw result}}};function mapFilter(filter){const mappers=[mapSpatialFilter,mapMatchAll,mapRange,mapPhrase,mapPhrases,mapExists,mapMissing,mapQueryString,mapGeoBoundingBox,mapGeoPolygon,mapDefault];const noop=()=>{throw new Error("No mappings have been found for filter.")};const mapFn=Object(external_osdSharedDeps_Lodash_["reduceRight"])(mappers,(memo,map)=>generateMappingChain(map,memo),noop);const mapped=mapFn(filter);filter.meta=filter.meta||{};filter.meta.type=mapped.type;filter.meta.key=mapped.key;filter.meta.value=mapped.value;filter.meta.params=mapped.params;filter.meta.disabled=Boolean(filter.meta.disabled);filter.meta.negate=Boolean(filter.meta.negate);filter.meta.alias=filter.meta.alias||null;return filter}const mapAndFlattenFilters=filters=>Object(external_osdSharedDeps_Lodash_["compact"])(Object(external_osdSharedDeps_Lodash_["flatten"])(filters)).map(item=>mapFilter(item));const isEnabled=f=>f&&f.meta&&!f.meta.disabled;const onlyDisabledFiltersChanged=(newFilters,oldFilters)=>{const newEnabledFilters=Object(external_osdSharedDeps_Lodash_["filter"])(newFilters||[],isEnabled);const oldEnabledFilters=Object(external_osdSharedDeps_Lodash_["filter"])(oldFilters||[],isEnabled);return Object(common["compareFilters"])(oldEnabledFilters,newEnabledFilters,common["COMPARE_ALL_OPTIONS"])};function filter_manager_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class filter_manager_FilterManager{constructor(uiSettings){filter_manager_defineProperty(this,"filters",[]);filter_manager_defineProperty(this,"updated$",new external_osdSharedDeps_Rxjs_["Subject"]);filter_manager_defineProperty(this,"fetch$",new external_osdSharedDeps_Rxjs_["Subject"]);filter_manager_defineProperty(this,"uiSettings",void 0);this.uiSettings=uiSettings}mergeIncomingFilters(partitionedFilters){const globalFilters=partitionedFilters.globalFilters;const appFilters=partitionedFilters.appFilters;const cleanedAppFilters=[];external_osdSharedDeps_Lodash_default.a.each(appFilters,(function(filter,i){const match=external_osdSharedDeps_Lodash_default.a.find(globalFilters,(function(globalFilter){return Object(common["compareFilters"])(globalFilter,filter)}));if(!match){return cleanedAppFilters.push(filter)}external_osdSharedDeps_Lodash_default.a.assignIn(match.meta,filter.meta)}));return filter_manager_FilterManager.mergeFilters(cleanedAppFilters,globalFilters)}static mergeFilters(appFilters,globalFilters){return Object(common["uniqFilters"])(appFilters.reverse().concat(globalFilters.reverse())).reverse()}static partitionFilters(filters){const[globalFilters,appFilters]=external_osdSharedDeps_Lodash_default.a.partition(filters,common["isFilterPinned"]);return{globalFilters:globalFilters,appFilters:appFilters}}handleStateUpdate(newFilters){newFilters.sort(sortFilters);const filtersUpdated=!Object(common["compareFilters"])(this.filters,newFilters,common["COMPARE_ALL_OPTIONS"]);const updatedOnlyDisabledFilters=onlyDisabledFiltersChanged(newFilters,this.filters);this.filters=newFilters;if(filtersUpdated){this.updated$.next();if(!updatedOnlyDisabledFilters){this.fetch$.next()}}}getFilters(){return external_osdSharedDeps_Lodash_default.a.cloneDeep(this.filters)}getAppFilters(){const{appFilters:appFilters}=this.getPartitionedFilters();return appFilters}getGlobalFilters(){const{globalFilters:globalFilters}=this.getPartitionedFilters();return globalFilters}getPartitionedFilters(){return filter_manager_FilterManager.partitionFilters(this.getFilters())}getUpdates$(){return this.updated$.asObservable()}getFetches$(){return this.fetch$.asObservable()}addFilters(filters){let pinFilterStatus=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.uiSettings.get(common["UI_SETTINGS"].FILTERS_PINNED_BY_DEFAULT);if(!Array.isArray(filters)){filters=[filters]}if(filters.length===0){return}const store=pinFilterStatus?common["FilterStateStore"].GLOBAL_STATE:common["FilterStateStore"].APP_STATE;filter_manager_FilterManager.setFiltersStore(filters,store);const mappedFilters=mapAndFlattenFilters(filters);const newPartitionedFilters=filter_manager_FilterManager.partitionFilters(mappedFilters);const currentFilters=this.getPartitionedFilters();currentFilters.appFilters.push(...newPartitionedFilters.appFilters);currentFilters.globalFilters.push(...newPartitionedFilters.globalFilters);const newFilters=this.mergeIncomingFilters(currentFilters);this.handleStateUpdate(newFilters)}setFilters(newFilters){let pinFilterStatus=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.uiSettings.get(common["UI_SETTINGS"].FILTERS_PINNED_BY_DEFAULT);const store=pinFilterStatus?common["FilterStateStore"].GLOBAL_STATE:common["FilterStateStore"].APP_STATE;filter_manager_FilterManager.setFiltersStore(newFilters,store);const mappedFilters=mapAndFlattenFilters(newFilters);const newPartitionedFilters=filter_manager_FilterManager.partitionFilters(mappedFilters);const mergedFilters=this.mergeIncomingFilters(newPartitionedFilters);this.handleStateUpdate(mergedFilters)}setGlobalFilters(newGlobalFilters){newGlobalFilters=mapAndFlattenFilters(newGlobalFilters);filter_manager_FilterManager.setFiltersStore(newGlobalFilters,common["FilterStateStore"].GLOBAL_STATE,true);const{appFilters:appFilters}=this.getPartitionedFilters();const newFilters=this.mergeIncomingFilters({appFilters:appFilters,globalFilters:newGlobalFilters});this.handleStateUpdate(newFilters)}setAppFilters(newAppFilters){newAppFilters=mapAndFlattenFilters(newAppFilters);filter_manager_FilterManager.setFiltersStore(newAppFilters,common["FilterStateStore"].APP_STATE,true);const{globalFilters:globalFilters}=this.getPartitionedFilters();const newFilters=this.mergeIncomingFilters({globalFilters:globalFilters,appFilters:newAppFilters});this.handleStateUpdate(newFilters)}removeFilter(filter){const filterIndex=external_osdSharedDeps_Lodash_default.a.findIndex(this.filters,item=>external_osdSharedDeps_Lodash_default.a.isEqual(item.meta,filter.meta)&&external_osdSharedDeps_Lodash_default.a.isEqual(item.query,filter.query));if(filterIndex>=0){const newFilters=external_osdSharedDeps_Lodash_default.a.cloneDeep(this.filters);newFilters.splice(filterIndex,1);this.handleStateUpdate(newFilters)}}removeAll(){this.setFilters([])}static setFiltersStore(filters,store){let shouldOverrideStore=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;external_osdSharedDeps_Lodash_default.a.map(filters,filter=>{if(shouldOverrideStore||filter.$state===undefined){filter.$state={store:store}}})}}function getExistingFilter(appFilters,fieldName,value){return external_osdSharedDeps_Lodash_default.a.find(appFilters,(function(filter){if(!filter)return;if(fieldName==="_exists_"&&Object(common["isExistsFilter"])(filter)){return filter.exists.field===value}if(Object(common["isPhraseFilter"])(filter)){return Object(common["getPhraseFilterField"])(filter)===fieldName&&Object(common["getPhraseFilterValue"])(filter)===value}if(Object(common["isScriptedPhraseFilter"])(filter)){return filter.meta.field===fieldName&&filter.script.script.params.value===value}}))}function updateExistingFilter(existingFilter,negate){existingFilter.meta.disabled=false;if(existingFilter.meta.negate!==negate){existingFilter.meta.negate=!existingFilter.meta.negate}}function generateFilters(filterManager,field,values,operation,index){values=Array.isArray(values)?values:[values];const fieldObj=external_osdSharedDeps_Lodash_default.a.isObject(field)?field:{name:field};const fieldName=fieldObj.name;const newFilters=[];const appFilters=filterManager.getAppFilters();const negate=operation==="-";let filter;external_osdSharedDeps_Lodash_default.a.each(values,(function(value){const existing=getExistingFilter(appFilters,fieldName,value);if(existing){updateExistingFilter(existing,negate);filter=existing}else{const tmpIndexPattern={id:index};const filterType=fieldName==="_exists_"?common["FILTERS"].EXISTS:common["FILTERS"].PHRASE;const actualFieldObj=fieldName==="_exists_"?{name:value}:fieldObj;const isNullFilter=value===null||value===undefined;filter=Object(common["buildFilter"])(tmpIndexPattern,actualFieldObj,isNullFilter?common["FILTERS"].EXISTS:filterType,isNullFilter?!negate:negate,false,value,null,common["FilterStateStore"].APP_STATE)}newFilters.push(filter)}));return newFilters}class timefilter_service_TimefilterService{setup(_ref){let{uiSettings:uiSettings,storage:storage}=_ref;const timefilterConfig={timeDefaults:uiSettings.get(common["UI_SETTINGS"].TIMEPICKER_TIME_DEFAULTS),refreshIntervalDefaults:uiSettings.get(common["UI_SETTINGS"].TIMEPICKER_REFRESH_INTERVAL_DEFAULTS)};const history=new time_history_TimeHistory(storage);const timefilter=new timefilter_Timefilter(timefilterConfig,history);return{timefilter:timefilter,history:history}}start(){}stop(){}}var external_osdSharedDeps_Moment_=__webpack_require__(5);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);const diff_time_picker_vals_valueOf=function(o){if(o)return o.valueOf()};function areRefreshIntervalsDifferent(rangeA,rangeB){if(external_osdSharedDeps_Lodash_default.a.isObject(rangeA)&&external_osdSharedDeps_Lodash_default.a.isObject(rangeB)){if(diff_time_picker_vals_valueOf(rangeA.value)!==diff_time_picker_vals_valueOf(rangeB.value)||diff_time_picker_vals_valueOf(rangeA.pause)!==diff_time_picker_vals_valueOf(rangeB.pause)){return true}}else{return!external_osdSharedDeps_Lodash_default.a.isEqual(rangeA,rangeB)}return false}function areTimeRangesDifferent(rangeA,rangeB){if(rangeA&&rangeB&&external_osdSharedDeps_Lodash_default.a.isObject(rangeA)&&external_osdSharedDeps_Lodash_default.a.isObject(rangeB)){if(diff_time_picker_vals_valueOf(rangeA.to)!==diff_time_picker_vals_valueOf(rangeB.to)||diff_time_picker_vals_valueOf(rangeA.from)!==diff_time_picker_vals_valueOf(rangeB.from)){return true}}else{return!external_osdSharedDeps_Lodash_default.a.isEqual(rangeA,rangeB)}return false}var get_force_now=__webpack_require__(73);function timefilter_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class timefilter_Timefilter{constructor(config,timeHistory){timefilter_defineProperty(this,"enabledUpdated$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](false));timefilter_defineProperty(this,"timeUpdate$",new external_osdSharedDeps_Rxjs_["Subject"]);timefilter_defineProperty(this,"refreshIntervalUpdate$",new external_osdSharedDeps_Rxjs_["Subject"]);timefilter_defineProperty(this,"autoRefreshFetch$",new external_osdSharedDeps_Rxjs_["Subject"]);timefilter_defineProperty(this,"fetch$",new external_osdSharedDeps_Rxjs_["Subject"]);timefilter_defineProperty(this,"_time",void 0);timefilter_defineProperty(this,"_refreshInterval",void 0);timefilter_defineProperty(this,"_history",void 0);timefilter_defineProperty(this,"_isTimeRangeSelectorEnabled",false);timefilter_defineProperty(this,"_isAutoRefreshSelectorEnabled",false);timefilter_defineProperty(this,"_autoRefreshIntervalId",0);timefilter_defineProperty(this,"timeDefaults",void 0);timefilter_defineProperty(this,"refreshIntervalDefaults",void 0);timefilter_defineProperty(this,"getEnabledUpdated$",()=>this.enabledUpdated$.asObservable());timefilter_defineProperty(this,"getTimeUpdate$",()=>this.timeUpdate$.asObservable());timefilter_defineProperty(this,"getRefreshIntervalUpdate$",()=>this.refreshIntervalUpdate$.asObservable());timefilter_defineProperty(this,"getAutoRefreshFetch$",()=>this.autoRefreshFetch$.asObservable());timefilter_defineProperty(this,"getFetch$",()=>this.fetch$.asObservable());timefilter_defineProperty(this,"getTime",()=>{const{from:from,to:to}=this._time;return{...this._time,from:external_osdSharedDeps_Moment_default.a.isMoment(from)?from.toISOString():from,to:external_osdSharedDeps_Moment_default.a.isMoment(to)?to.toISOString():to}});timefilter_defineProperty(this,"setTime",time=>{const newTime=Object.assign(this.getTime(),time);if(areTimeRangesDifferent(this.getTime(),newTime)){this._time={from:newTime.from,to:newTime.to};this._history.add(this._time);this.timeUpdate$.next();this.fetch$.next()}});timefilter_defineProperty(this,"getRefreshInterval",()=>external_osdSharedDeps_Lodash_default.a.clone(this._refreshInterval));timefilter_defineProperty(this,"setRefreshInterval",refreshInterval=>{const prevRefreshInterval=this.getRefreshInterval();const newRefreshInterval={...prevRefreshInterval,...refreshInterval};if(newRefreshInterval.value<=0){newRefreshInterval.value=0;newRefreshInterval.pause=true}this._refreshInterval={value:newRefreshInterval.value,pause:newRefreshInterval.pause};if(prevRefreshInterval&&areRefreshIntervalsDifferent(prevRefreshInterval,newRefreshInterval)){this.refreshIntervalUpdate$.next();if(!newRefreshInterval.pause&&newRefreshInterval.value!==0){this.fetch$.next()}}clearInterval(this._autoRefreshIntervalId);if(!newRefreshInterval.pause){this._autoRefreshIntervalId=window.setInterval(()=>this.autoRefreshFetch$.next(),newRefreshInterval.value)}});timefilter_defineProperty(this,"createFilter",(indexPattern,timeRange)=>Object(common["getTime"])(indexPattern,timeRange?timeRange:this._time,{forceNow:this.getForceNow()}));timefilter_defineProperty(this,"enableTimeRangeSelector",()=>{this._isTimeRangeSelectorEnabled=true;this.enabledUpdated$.next(true)});timefilter_defineProperty(this,"disableTimeRangeSelector",()=>{this._isTimeRangeSelectorEnabled=false;this.enabledUpdated$.next(false)});timefilter_defineProperty(this,"enableAutoRefreshSelector",()=>{this._isAutoRefreshSelectorEnabled=true;this.enabledUpdated$.next(true)});timefilter_defineProperty(this,"disableAutoRefreshSelector",()=>{this._isAutoRefreshSelectorEnabled=false;this.enabledUpdated$.next(false)});timefilter_defineProperty(this,"getForceNow",()=>Object(get_force_now["a"])());this._history=timeHistory;this.timeDefaults=config.timeDefaults;this.refreshIntervalDefaults=config.refreshIntervalDefaults;this._time=config.timeDefaults;this.setRefreshInterval(config.refreshIntervalDefaults)}isTimeRangeSelectorEnabled(){return this._isTimeRangeSelectorEnabled}isAutoRefreshSelectorEnabled(){return this._isAutoRefreshSelectorEnabled}getBounds(){return this.calculateBounds(this._time)}calculateBounds(timeRange){return Object(common["calculateBounds"])(timeRange,{forceNow:this.getForceNow()})}getActiveBounds(){if(this.isTimeRangeSelectorEnabled()){return this.getBounds()}}getTimeDefaults(){return external_osdSharedDeps_Lodash_default.a.cloneDeep(this.timeDefaults)}getRefreshIntervalDefaults(){return external_osdSharedDeps_Lodash_default.a.cloneDeep(this.refreshIntervalDefaults)}}function time_history_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class time_history_TimeHistory{constructor(storage){time_history_defineProperty(this,"history",void 0);const historyOptions={maxLength:10,filterDuplicates:true,isDuplicate:(oldItem,newItem)=>oldItem.from===newItem.from&&oldItem.to===newItem.to};this.history=new persisted_log_PersistedLog("opensearchDashboards.timepicker.timeHistory",historyOptions,storage)}add(time){if(!time||!time.from||!time.to){return}const justStringsTime={from:external_osdSharedDeps_Moment_default.a.isMoment(time.from)?time.from.toISOString():time.from,to:external_osdSharedDeps_Moment_default.a.isMoment(time.to)?time.to.toISOString():time.to};this.history.add(justStringsTime)}get(){return this.history.get()}}function convertRangeFilterToTimeRange(filter){const key=Object(external_osdSharedDeps_Lodash_["keys"])(filter.range)[0];const values=filter.range[key];return{from:external_osdSharedDeps_Moment_default()(values.gt||values.gte),to:external_osdSharedDeps_Moment_default()(values.lt||values.lte)}}function convertRangeFilterToTimeRangeString(filter){const{from:from,to:to}=convertRangeFilterToTimeRange(filter);return{from:from===null||from===void 0?void 0:from.toISOString(),to:to===null||to===void 0?void 0:to.toISOString()}}function changeTimeFilter(timeFilter,filter){timeFilter.setTime(convertRangeFilterToTimeRange(filter))}function extractTimeFilter(timeFieldName,filters){const[timeRangeFilter,restOfFilters]=Object(external_osdSharedDeps_Lodash_["partition"])(filters,obj=>{let key;if(Object(common["isRangeFilter"])(obj)){key=Object(external_osdSharedDeps_Lodash_["keys"])(obj.range)[0]}return Boolean(key&&key===timeFieldName)});return{restOfFilters:restOfFilters,timeRangeFilter:timeRangeFilter[0]}}function extractTimeRange(filters,timeFieldName){if(!timeFieldName)return{restOfFilters:filters,timeRange:undefined};const{timeRangeFilter:timeRangeFilter,restOfFilters:restOfFilters}=extractTimeFilter(timeFieldName,filters);return{restOfFilters:restOfFilters,timeRange:timeRangeFilter?convertRangeFilterToTimeRangeString(timeRangeFilter):undefined}}var target=__webpack_require__(15);var target_default=__webpack_require__.n(target);function validateTimeRange(time){if(!time)return false;const momentDateFrom=target_default.a.parse(time.from);const momentDateTo=target_default.a.parse(time.to);return!!(momentDateFrom&&momentDateFrom.isValid()&&momentDateTo&&momentDateTo.isValid())}const createSavedQueryService=savedObjectsClient=>{const saveQuery=async function(attributes){let{overwrite:overwrite=false}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!attributes.title.length){throw new Error("Cannot create saved query without a title")}const query={query:typeof attributes.query.query==="string"?attributes.query.query:JSON.stringify(attributes.query.query),language:attributes.query.language};const queryObject={title:attributes.title.trim(),description:attributes.description,query:query};if(attributes.filters){queryObject.filters=attributes.filters}if(attributes.timefilter){queryObject.timefilter=attributes.timefilter}let rawQueryResponse;if(!overwrite){rawQueryResponse=await savedObjectsClient.create("query",queryObject,{id:attributes.title})}else{rawQueryResponse=await savedObjectsClient.create("query",queryObject,{id:attributes.title,overwrite:true})}if(rawQueryResponse.error){throw new Error(rawQueryResponse.error.message)}return parseSavedQueryObject(rawQueryResponse)};const getAllSavedQueries=async()=>{const count=await getSavedQueryCount();const response=await savedObjectsClient.find({type:"query",perPage:count,page:1});return response.savedObjects.map(savedObject=>parseSavedQueryObject(savedObject))};const findSavedQueries=async function(){let searchText=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let perPage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:50;let activePage=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;const response=await savedObjectsClient.find({type:"query",search:searchText,searchFields:["title^5","description"],sortField:"_score",perPage:perPage,page:activePage});return{total:response.total,queries:response.savedObjects.map(savedObject=>parseSavedQueryObject(savedObject))}};const getSavedQuery=async id=>{const savedObject=await savedObjectsClient.get("query",id);if(savedObject.error){throw new Error(savedObject.error.message)}return parseSavedQueryObject(savedObject)};const deleteSavedQuery=async id=>await savedObjectsClient.delete("query",id);const parseSavedQueryObject=savedQuery=>{const queryString=savedQuery.attributes.query.query;let parsedQuery;try{parsedQuery=JSON.parse(queryString);parsedQuery=Object(external_osdSharedDeps_Lodash_["isObject"])(parsedQuery)?parsedQuery:queryString}catch(error){parsedQuery=queryString}const savedQueryItems={title:savedQuery.attributes.title||"",description:savedQuery.attributes.description||"",query:{query:parsedQuery,language:savedQuery.attributes.query.language}};if(savedQuery.attributes.filters){savedQueryItems.filters=savedQuery.attributes.filters}if(savedQuery.attributes.timefilter){savedQueryItems.timefilter=savedQuery.attributes.timefilter}return{id:savedQuery.id,attributes:savedQueryItems}};const getSavedQueryCount=async()=>{const response=await savedObjectsClient.find({type:"query",perPage:0,page:1});return response.total};return{saveQuery:saveQuery,getAllSavedQueries:getAllSavedQueries,findSavedQueries:findSavedQueries,getSavedQuery:getSavedQuery,deleteSavedQuery:deleteSavedQuery,getSavedQueryCount:getSavedQueryCount}};var public_=__webpack_require__(26);function createQueryStateObservable(_ref){let{timefilter:{timefilter:timefilter},filterManager:filterManager,queryString:queryString}=_ref;return new external_osdSharedDeps_Rxjs_["Observable"](subscriber=>{const state=Object(public_["createStateContainer"])({time:timefilter.getTime(),refreshInterval:timefilter.getRefreshInterval(),filters:filterManager.getFilters(),query:queryString.getQuery()});let currentChange={};const subs=[queryString.getUpdates$().subscribe(()=>{currentChange.query=true;state.set({...state.get(),query:queryString.getQuery()})}),timefilter.getTimeUpdate$().subscribe(()=>{currentChange.time=true;state.set({...state.get(),time:timefilter.getTime()})}),timefilter.getRefreshIntervalUpdate$().subscribe(()=>{currentChange.refreshInterval=true;state.set({...state.get(),refreshInterval:timefilter.getRefreshInterval()})}),filterManager.getUpdates$().subscribe(()=>{currentChange.filters=true;const{filters:filters}=state.get();const globalOld=filters===null||filters===void 0?void 0:filters.filter(f=>Object(common["isFilterPinned"])(f));const appOld=filters===null||filters===void 0?void 0:filters.filter(f=>!Object(common["isFilterPinned"])(f));const globalNew=filterManager.getGlobalFilters();const appNew=filterManager.getAppFilters();if(!globalOld||!Object(common["compareFilters"])(globalOld,globalNew,common["COMPARE_ALL_OPTIONS"])){currentChange.globalFilters=true}if(!appOld||!Object(common["compareFilters"])(appOld,appNew,common["COMPARE_ALL_OPTIONS"])){currentChange.appFilters=true}state.set({...state.get(),filters:filterManager.getFilters()})}),state.state$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(newState=>({state:newState,changes:currentChange})),Object(external_osdSharedDeps_RxjsOperators_["tap"])(()=>{currentChange={}})).subscribe(subscriber)];return()=>{subs.forEach(s=>s.unsubscribe())}})}function query_string_manager_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class query_string_manager_QueryStringManager{constructor(storage,uiSettings){this.storage=storage;this.uiSettings=uiSettings;query_string_manager_defineProperty(this,"query$",void 0);query_string_manager_defineProperty(this,"getUpdates$",()=>this.query$.asObservable().pipe(Object(external_osdSharedDeps_RxjsOperators_["skip"])(1)));query_string_manager_defineProperty(this,"getQuery",()=>this.query$.getValue());query_string_manager_defineProperty(this,"setQuery",query=>{const curQuery=this.query$.getValue();if((query===null||query===void 0?void 0:query.language)!==curQuery.language||(query===null||query===void 0?void 0:query.query)!==curQuery.query){this.query$.next(query)}});query_string_manager_defineProperty(this,"clearQuery",()=>{this.setQuery(this.getDefaultQuery())});this.query$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](this.getDefaultQuery())}getDefaultLanguage(){return this.storage.get("opensearchDashboards.userQueryLanguage")||this.uiSettings.get(common["UI_SETTINGS"].SEARCH_QUERY_LANGUAGE)}getDefaultQuery(){return{query:"",language:this.getDefaultLanguage()}}formatQuery(query){if(!query){return this.getDefaultQuery()}else if(typeof query==="string"){return{query:query,language:this.getDefaultLanguage()}}else{return query}}}var services=__webpack_require__(8);function query_service_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class query_service_QueryService{constructor(){query_service_defineProperty(this,"filterManager",void 0);query_service_defineProperty(this,"timefilter",void 0);query_service_defineProperty(this,"queryStringManager",void 0);query_service_defineProperty(this,"state$",void 0)}setup(_ref){let{storage:storage,uiSettings:uiSettings}=_ref;this.filterManager=new filter_manager_FilterManager(uiSettings);const timefilterService=new timefilter_service_TimefilterService;this.timefilter=timefilterService.setup({uiSettings:uiSettings,storage:storage});this.queryStringManager=new query_string_manager_QueryStringManager(storage,uiSettings);this.state$=createQueryStateObservable({filterManager:this.filterManager,timefilter:this.timefilter,queryString:this.queryStringManager}).pipe(Object(external_osdSharedDeps_RxjsOperators_["share"])());return{filterManager:this.filterManager,timefilter:this.timefilter,queryString:this.queryStringManager,state$:this.state$}}start(_ref2){let{savedObjectsClient:savedObjectsClient,storage:storage,uiSettings:uiSettings}=_ref2;return{addToQueryLog:createAddToQueryLog({storage:storage,uiSettings:uiSettings}),filterManager:this.filterManager,queryString:this.queryStringManager,savedQueries:createSavedQueryService(savedObjectsClient),state$:this.state$,timefilter:this.timefilter,getOpenSearchQuery:indexPattern=>{const timeFilter=this.timefilter.timefilter.createFilter(indexPattern);return Object(common["buildOpenSearchQuery"])(indexPattern,this.queryStringManager.getQuery(),[...this.filterManager.getFilters(),...timeFilter?[timeFilter]:[]],Object(common["getOpenSearchQueryConfig"])(Object(services["g"])()))}}}stop(){}}const connectStorageToQueryState=(_ref,OsdUrlStateStorage,syncConfig)=>{let{filterManager:filterManager,queryString:queryString,state$:state$}=_ref;try{var _OsdUrlStateStorage$g;const syncKeys=[];if(syncConfig.query){syncKeys.push("query")}if(syncConfig.filters===common["FilterStateStore"].APP_STATE){syncKeys.push("appFilters")}const initialStateFromURL=(_OsdUrlStateStorage$g=OsdUrlStateStorage.get("_q"))!==null&&_OsdUrlStateStorage$g!==void 0?_OsdUrlStateStorage$g:{query:queryString.getDefaultQuery(),filters:filterManager.getAppFilters()};if(!OsdUrlStateStorage.get("_q")){OsdUrlStateStorage.set("_q",initialStateFromURL,{replace:true})}if(syncConfig.query&&!external_osdSharedDeps_Lodash_default.a.isEqual(initialStateFromURL.query,queryString.getQuery())){if(initialStateFromURL.query){queryString.setQuery(external_osdSharedDeps_Lodash_default.a.cloneDeep(initialStateFromURL.query))}}if(syncConfig.filters===common["FilterStateStore"].APP_STATE){if(!initialStateFromURL.filters||!Object(common["compareFilters"])(initialStateFromURL.filters,filterManager.getAppFilters(),{...common["COMPARE_ALL_OPTIONS"],state:false})){if(initialStateFromURL.filters){filterManager.setAppFilters(external_osdSharedDeps_Lodash_default.a.cloneDeep(initialStateFromURL.filters))}}const subs=[state$.pipe(Object(external_osdSharedDeps_RxjsOperators_["filter"])(_ref2=>{let{changes:changes}=_ref2;return syncKeys.some(syncKey=>changes[syncKey])}),Object(external_osdSharedDeps_RxjsOperators_["map"])(_ref3=>{let{changes:changes,state:state}=_ref3;const newState={query:state.query,filters:state.filters};if(syncConfig.query&&changes.query){newState.query=queryString.getQuery()}if(syncConfig.filters===common["FilterStateStore"].APP_STATE&&changes.appFilters){newState.filters=filterManager.getAppFilters()}return newState})).subscribe(newState=>{OsdUrlStateStorage.set("_q",newState,{replace:true})})];return()=>{subs.forEach(s=>s.unsubscribe())}}}catch(err){return}};const connectToQueryState=(_ref4,stateContainer,syncConfig)=>{let{timefilter:{timefilter:timefilter},filterManager:filterManager,queryString:queryString,state$:state$}=_ref4;const syncKeys=[];if(syncConfig.time){syncKeys.push("time")}if(syncConfig.query){syncKeys.push("query")}if(syncConfig.refreshInterval){syncKeys.push("refreshInterval")}if(syncConfig.filters){switch(syncConfig.filters){case true:syncKeys.push("filters");break;case common["FilterStateStore"].APP_STATE:syncKeys.push("appFilters");break;case common["FilterStateStore"].GLOBAL_STATE:syncKeys.push("globalFilters");break}}const initialState={...stateContainer.get()};let initialDirty=false;if(syncConfig.time&&!external_osdSharedDeps_Lodash_default.a.isEqual(initialState.time,timefilter.getTime())){initialState.time=timefilter.getTime();initialDirty=true}if(syncConfig.refreshInterval&&!external_osdSharedDeps_Lodash_default.a.isEqual(initialState.refreshInterval,timefilter.getRefreshInterval())){initialState.refreshInterval=timefilter.getRefreshInterval();initialDirty=true}if(syncConfig.filters){if(syncConfig.filters===true){if(!initialState.filters||!Object(common["compareFilters"])(initialState.filters,filterManager.getFilters(),common["COMPARE_ALL_OPTIONS"])){initialState.filters=filterManager.getFilters();initialDirty=true}}else if(syncConfig.filters===common["FilterStateStore"].GLOBAL_STATE){if(!initialState.filters||!Object(common["compareFilters"])(initialState.filters,filterManager.getGlobalFilters(),{...common["COMPARE_ALL_OPTIONS"],state:false})){initialState.filters=filterManager.getGlobalFilters();initialDirty=true}}else if(syncConfig.filters===common["FilterStateStore"].APP_STATE){if(!initialState.filters||!Object(common["compareFilters"])(initialState.filters,filterManager.getAppFilters(),{...common["COMPARE_ALL_OPTIONS"],state:false})){initialState.filters=filterManager.getAppFilters();initialDirty=true}}}if(initialDirty){stateContainer.set({...stateContainer.get(),...initialState})}let updateInProgress=false;const subs=[state$.pipe(Object(external_osdSharedDeps_RxjsOperators_["filter"])(_ref5=>{let{changes:changes,state:state}=_ref5;if(updateInProgress)return false;return syncKeys.some(syncKey=>changes[syncKey])}),Object(external_osdSharedDeps_RxjsOperators_["map"])(_ref6=>{let{changes:changes}=_ref6;const newState={};if(syncConfig.time&&changes.time){newState.time=timefilter.getTime()}if(syncConfig.query&&changes.query){newState.query=queryString.getQuery()}if(syncConfig.refreshInterval&&changes.refreshInterval){newState.refreshInterval=timefilter.getRefreshInterval()}if(syncConfig.filters){if(syncConfig.filters===true&&changes.filters){newState.filters=filterManager.getFilters()}else if(syncConfig.filters===common["FilterStateStore"].GLOBAL_STATE&&changes.globalFilters){newState.filters=filterManager.getGlobalFilters()}else if(syncConfig.filters===common["FilterStateStore"].APP_STATE&&changes.appFilters){newState.filters=filterManager.getAppFilters()}}return newState})).subscribe(newState=>{stateContainer.set({...stateContainer.get(),...newState})}),stateContainer.state$.subscribe(state=>{updateInProgress=true;if(syncConfig.time){const time=validateTimeRange(state.time)?state.time:timefilter.getTimeDefaults();if(!external_osdSharedDeps_Lodash_default.a.isEqual(time,timefilter.getTime())){timefilter.setTime(external_osdSharedDeps_Lodash_default.a.cloneDeep(time))}}if(syncConfig.refreshInterval){const refreshInterval=state.refreshInterval||timefilter.getRefreshIntervalDefaults();if(!external_osdSharedDeps_Lodash_default.a.isEqual(refreshInterval,timefilter.getRefreshInterval())){timefilter.setRefreshInterval(external_osdSharedDeps_Lodash_default.a.cloneDeep(refreshInterval))}}if(syncConfig.query){const curQuery=state.query||queryString.getQuery();if(!external_osdSharedDeps_Lodash_default.a.isEqual(curQuery,queryString.getQuery())){queryString.setQuery(external_osdSharedDeps_Lodash_default.a.cloneDeep(curQuery))}}if(syncConfig.filters){const filters=state.filters||[];if(syncConfig.filters===true){if(!Object(common["compareFilters"])(filters,filterManager.getFilters(),common["COMPARE_ALL_OPTIONS"])){filterManager.setFilters(external_osdSharedDeps_Lodash_default.a.cloneDeep(filters))}}else if(syncConfig.filters===common["FilterStateStore"].APP_STATE){if(!Object(common["compareFilters"])(filters,filterManager.getAppFilters(),{...common["COMPARE_ALL_OPTIONS"],state:false})){filterManager.setAppFilters(external_osdSharedDeps_Lodash_default.a.cloneDeep(filters))}}else if(syncConfig.filters===common["FilterStateStore"].GLOBAL_STATE){if(!Object(common["compareFilters"])(filters,filterManager.getGlobalFilters(),{...common["COMPARE_ALL_OPTIONS"],state:false})){filterManager.setGlobalFilters(external_osdSharedDeps_Lodash_default.a.cloneDeep(filters))}}}updateInProgress=false})];return()=>{subs.forEach(s=>s.unsubscribe())}};var opensearch_query_filters=__webpack_require__(22);const GLOBAL_STATE_STORAGE_KEY="_g";const syncQueryStateWithUrl=(query,osdUrlStateStorage)=>{const{timefilter:{timefilter:timefilter},filterManager:filterManager}=query;const defaultState={time:timefilter.getTime(),refreshInterval:timefilter.getRefreshInterval(),filters:filterManager.getGlobalFilters()};const initialStateFromUrl=osdUrlStateStorage.get(GLOBAL_STATE_STORAGE_KEY);const hasInheritedQueryFromUrl=Boolean(initialStateFromUrl&&Object.keys(initialStateFromUrl).length);const initialState={...defaultState,...initialStateFromUrl};const globalQueryStateContainer=Object(public_["createStateContainer"])(initialState);const stopSyncingWithStateContainer=connectToQueryState(query,globalQueryStateContainer,{refreshInterval:true,time:true,filters:opensearch_query_filters["b"].GLOBAL_STATE});if(!initialStateFromUrl){osdUrlStateStorage.set(GLOBAL_STATE_STORAGE_KEY,initialState,{replace:true})}globalQueryStateContainer.set(initialState);const{start:start,stop:stopSyncingWithUrl}=Object(public_["syncState"])({stateStorage:osdUrlStateStorage,stateContainer:{...globalQueryStateContainer,set:state=>{if(state){globalQueryStateContainer.set(state)}}},storageKey:GLOBAL_STATE_STORAGE_KEY});start();return{stop:()=>{stopSyncingWithStateContainer();stopSyncingWithUrl()},hasInheritedQueryFromUrl:hasInheritedQueryFromUrl}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return search_aggs["a"]}));__webpack_require__.d(__webpack_exports__,"c",(function(){return search_aggs["c"]}));__webpack_require__.d(__webpack_exports__,"e",(function(){return search_aggs["e"]}));__webpack_require__.d(__webpack_exports__,"d",(function(){return search_aggs["d"]}));__webpack_require__.d(__webpack_exports__,"C",(function(){return search_aggs["C"]}));__webpack_require__.d(__webpack_exports__,"Eb",(function(){return search_aggs["hb"]}));__webpack_require__.d(__webpack_exports__,"Fb",(function(){return search_aggs["ib"]}));__webpack_require__.d(__webpack_exports__,"D",(function(){return search_aggs["D"]}));__webpack_require__.d(__webpack_exports__,"wb",(function(){return search_aggs["cb"]}));__webpack_require__.d(__webpack_exports__,"E",(function(){return search_aggs["E"]}));__webpack_require__.d(__webpack_exports__,"xb",(function(){return search_aggs["db"]}));__webpack_require__.d(__webpack_exports__,"ac",(function(){return search_aggs["xb"]}));__webpack_require__.d(__webpack_exports__,"Zb",(function(){return search_aggs["wb"]}));__webpack_require__.d(__webpack_exports__,"H",(function(){return search_aggs["H"]}));__webpack_require__.d(__webpack_exports__,"bc",(function(){return search_aggs["yb"]}));__webpack_require__.d(__webpack_exports__,"F",(function(){return search_aggs["F"]}));__webpack_require__.d(__webpack_exports__,"Ob",(function(){return search_aggs["rb"]}));__webpack_require__.d(__webpack_exports__,"dc",(function(){return search_aggs["zb"]}));__webpack_require__.d(__webpack_exports__,"Hb",(function(){return search_aggs["kb"]}));__webpack_require__.d(__webpack_exports__,"Ib",(function(){return search_aggs["lb"]}));__webpack_require__.d(__webpack_exports__,"Rb",(function(){return search_aggs["tb"]}));__webpack_require__.d(__webpack_exports__,"Jb",(function(){return search_aggs["mb"]}));__webpack_require__.d(__webpack_exports__,"Kb",(function(){return search_aggs["nb"]}));__webpack_require__.d(__webpack_exports__,"Nb",(function(){return search_aggs["qb"]}));__webpack_require__.d(__webpack_exports__,"Mb",(function(){return search_aggs["pb"]}));__webpack_require__.d(__webpack_exports__,"V",(function(){return search_aggs["R"]}));__webpack_require__.d(__webpack_exports__,"Pb",(function(){return search_aggs["sb"]}));__webpack_require__.d(__webpack_exports__,"I",(function(){return search_aggs["I"]}));__webpack_require__.d(__webpack_exports__,"yb",(function(){return search_aggs["eb"]}));__webpack_require__.d(__webpack_exports__,"zb",(function(){return search_aggs["fb"]}));__webpack_require__.d(__webpack_exports__,"kc",(function(){return search_aggs["Eb"]}));__webpack_require__.d(__webpack_exports__,"gc",(function(){return search_aggs["Bb"]}));__webpack_require__.d(__webpack_exports__,"jc",(function(){return search_aggs["Db"]}));__webpack_require__.d(__webpack_exports__,"ic",(function(){return search_aggs["Cb"]}));__webpack_require__.d(__webpack_exports__,"nc",(function(){return search_aggs["Hb"]}));__webpack_require__.d(__webpack_exports__,"Wb",(function(){return search_aggs["ub"]}));__webpack_require__.d(__webpack_exports__,"zc",(function(){return search_aggs["Pb"]}));__webpack_require__.d(__webpack_exports__,"Xb",(function(){return search_aggs["vb"]}));__webpack_require__.d(__webpack_exports__,"gb",(function(){return search_aggs["Y"]}));__webpack_require__.d(__webpack_exports__,"fc",(function(){return search_aggs["Ab"]}));__webpack_require__.d(__webpack_exports__,"fb",(function(){return search_aggs["X"]}));__webpack_require__.d(__webpack_exports__,"pc",(function(){return search_aggs["Jb"]}));__webpack_require__.d(__webpack_exports__,"oc",(function(){return search_aggs["Ib"]}));__webpack_require__.d(__webpack_exports__,"wc",(function(){return search_aggs["Ob"]}));__webpack_require__.d(__webpack_exports__,"vc",(function(){return search_aggs["Nb"]}));__webpack_require__.d(__webpack_exports__,"i",(function(){return search_aggs["i"]}));__webpack_require__.d(__webpack_exports__,"n",(function(){return search_aggs["n"]}));__webpack_require__.d(__webpack_exports__,"q",(function(){return search_aggs["q"]}));__webpack_require__.d(__webpack_exports__,"r",(function(){return search_aggs["r"]}));__webpack_require__.d(__webpack_exports__,"s",(function(){return search_aggs["s"]}));__webpack_require__.d(__webpack_exports__,"t",(function(){return search_aggs["t"]}));__webpack_require__.d(__webpack_exports__,"u",(function(){return search_aggs["u"]}));__webpack_require__.d(__webpack_exports__,"z",(function(){return search_aggs["z"]}));__webpack_require__.d(__webpack_exports__,"A",(function(){return search_aggs["A"]}));__webpack_require__.d(__webpack_exports__,"j",(function(){return search_aggs["j"]}));__webpack_require__.d(__webpack_exports__,"k",(function(){return search_aggs["k"]}));__webpack_require__.d(__webpack_exports__,"l",(function(){return search_aggs["l"]}));__webpack_require__.d(__webpack_exports__,"m",(function(){return search_aggs["m"]}));__webpack_require__.d(__webpack_exports__,"o",(function(){return search_aggs["o"]}));__webpack_require__.d(__webpack_exports__,"p",(function(){return search_aggs["p"]}));__webpack_require__.d(__webpack_exports__,"v",(function(){return search_aggs["v"]}));__webpack_require__.d(__webpack_exports__,"w",(function(){return search_aggs["w"]}));__webpack_require__.d(__webpack_exports__,"x",(function(){return search_aggs["x"]}));__webpack_require__.d(__webpack_exports__,"y",(function(){return search_aggs["y"]}));__webpack_require__.d(__webpack_exports__,"B",(function(){return search_aggs["B"]}));__webpack_require__.d(__webpack_exports__,"h",(function(){return search_aggs["h"]}));__webpack_require__.d(__webpack_exports__,"G",(function(){return search_aggs["G"]}));__webpack_require__.d(__webpack_exports__,"L",(function(){return search_aggs["L"]}));__webpack_require__.d(__webpack_exports__,"eb",(function(){return search_aggs["W"]}));__webpack_require__.d(__webpack_exports__,"jb",(function(){return search_aggs["Z"]}));__webpack_require__.d(__webpack_exports__,"sb",(function(){return search_aggs["bb"]}));__webpack_require__.d(__webpack_exports__,"M",(function(){return search_aggs["M"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return search_aggs["b"]}));__webpack_require__.d(__webpack_exports__,"J",(function(){return search_aggs["J"]}));__webpack_require__.d(__webpack_exports__,"N",(function(){return search_aggs["N"]}));__webpack_require__.d(__webpack_exports__,"O",(function(){return search_aggs["O"]}));__webpack_require__.d(__webpack_exports__,"f",(function(){return search_aggs["f"]}));__webpack_require__.d(__webpack_exports__,"g",(function(){return search_aggs["g"]}));__webpack_require__.d(__webpack_exports__,"P",(function(){return search_aggs["P"]}));__webpack_require__.d(__webpack_exports__,"Q",(function(){return search_aggs["Q"]}));__webpack_require__.d(__webpack_exports__,"K",(function(){return search_aggs["K"]}));__webpack_require__.d(__webpack_exports__,"cb",(function(){return search_aggs["U"]}));__webpack_require__.d(__webpack_exports__,"kb",(function(){return search_aggs["ab"]}));__webpack_require__.d(__webpack_exports__,"Gb",(function(){return search_aggs["jb"]}));__webpack_require__.d(__webpack_exports__,"Bb",(function(){return search_aggs["gb"]}));__webpack_require__.d(__webpack_exports__,"ab",(function(){return search_aggs["S"]}));__webpack_require__.d(__webpack_exports__,"bb",(function(){return search_aggs["T"]}));__webpack_require__.d(__webpack_exports__,"mc",(function(){return search_aggs["Gb"]}));__webpack_require__.d(__webpack_exports__,"lc",(function(){return search_aggs["Fb"]}));__webpack_require__.d(__webpack_exports__,"qc",(function(){return search_aggs["Kb"]}));__webpack_require__.d(__webpack_exports__,"rc",(function(){return search_aggs["Lb"]}));__webpack_require__.d(__webpack_exports__,"Ac",(function(){return search_aggs["Qb"]}));__webpack_require__.d(__webpack_exports__,"Lb",(function(){return search_aggs["ob"]}));__webpack_require__.d(__webpack_exports__,"db",(function(){return search_aggs["V"]}));__webpack_require__.d(__webpack_exports__,"tc",(function(){return search_aggs["Mb"]}));__webpack_require__.d(__webpack_exports__,"Bc",(function(){return search_aggs["Rb"]}));__webpack_require__.d(__webpack_exports__,"hb",(function(){return OPENSEARCH_SEARCH_STRATEGY}));__webpack_require__.d(__webpack_exports__,"ec",(function(){return isErrorResponse}));__webpack_require__.d(__webpack_exports__,"cc",(function(){return isCompleteResponse}));__webpack_require__.d(__webpack_exports__,"hc",(function(){return isPartialResponse}));__webpack_require__.d(__webpack_exports__,"Sb",(function(){return expressions["a"]}));__webpack_require__.d(__webpack_exports__,"Tb",(function(){return expressions["b"]}));__webpack_require__.d(__webpack_exports__,"Ab",(function(){return createSearchSource}));__webpack_require__.d(__webpack_exports__,"Yb",(function(){return injectReferences}));__webpack_require__.d(__webpack_exports__,"Cb",(function(){return extractReferences}));__webpack_require__.d(__webpack_exports__,"sc",(function(){return parseSearchSourceJSON}));__webpack_require__.d(__webpack_exports__,"Ub",(function(){return getSearchParams}));__webpack_require__.d(__webpack_exports__,"Vb",(function(){return getSearchParamsFromRequest}));__webpack_require__.d(__webpack_exports__,"Qb",(function(){return getPreference}));__webpack_require__.d(__webpack_exports__,"lb",(function(){return request_error_RequestFailure}));__webpack_require__.d(__webpack_exports__,"Db",(function(){return fetchSoon}));__webpack_require__.d(__webpack_exports__,"uc",(function(){return searchSourceRequiredUiSettings}));__webpack_require__.d(__webpack_exports__,"ob",(function(){return search_source_SearchSource}));__webpack_require__.d(__webpack_exports__,"qb",(function(){return search_source_service_SearchSourceService}));__webpack_require__.d(__webpack_exports__,"rb",(function(){return SortDirection}));__webpack_require__.d(__webpack_exports__,"xc",(function(){return tabifyAggResponse}));__webpack_require__.d(__webpack_exports__,"yc",(function(){return tabifyGetColumns}));__webpack_require__.d(__webpack_exports__,"vb",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ub",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"tb",(function(){return undefined}));var search_aggs=__webpack_require__(28);const OPENSEARCH_SEARCH_STRATEGY="opensearch";const isErrorResponse=response=>!response||!response.isRunning&&response.isPartial;const isCompleteResponse=response=>response&&!response.isRunning&&!response.isPartial;const isPartialResponse=response=>response&&response.isRunning&&response.isPartial;var expressions=__webpack_require__(55);var external_osdSharedDeps_Lodash_=__webpack_require__(2);function migrateLegacyQuery(query){if(!Object(external_osdSharedDeps_Lodash_["has"])(query,"language")){return{query:query,language:"lucene"}}return query}var opensearch_safer_lodash_set=__webpack_require__(56);function normalizeSortRequest(sortObject,indexPattern){let defaultSortOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const sortArray=Array.isArray(sortObject)?sortObject:[sortObject];return sortArray.map((function(sortable){return normalize(sortable,indexPattern,defaultSortOptions)}))}function normalize(sortable,indexPattern,defaultSortOptions){const[[sortField,sortOrder]]=Object.entries(sortable);const order=typeof sortOrder==="object"?sortOrder:{order:sortOrder};if(indexPattern&&typeof indexPattern!=="string"){const indexField=indexPattern.fields.find(_ref=>{let{name:name}=_ref;return name===sortField});if(indexField&&indexField.scripted&&indexField.sortable){return{_script:{script:{source:indexField.script,lang:indexField.lang},type:castSortType(indexField.type),...order}}}}const{unmapped_type:unmapped_type,...otherSortOptions}=defaultSortOptions;return{[sortField]:{...order,...sortField==="_score"?otherSortOptions:defaultSortOptions}}}function castSortType(type){if(["number"].includes(type)){return"number"}else if(["string","boolean"].includes(type)){return"string"}throw new Error("Unsupported script sort type: ".concat(type))}function filterDocvalueFields(docvalueFields,fields){return docvalueFields.filter(docValue=>{const docvalueFieldName=typeof docValue==="string"?docValue:docValue.field;return fields.includes(docvalueFieldName)})}var common_=__webpack_require__(16);var constants=__webpack_require__(18);const sessionId=Date.now();function getSearchParams(getConfig){return{preference:getPreference(getConfig)}}function getPreference(getConfig){const setRequestPreference=getConfig(constants["b"].COURIER_SET_REQUEST_PREFERENCE);if(setRequestPreference==="sessionId")return sessionId;return setRequestPreference==="custom"?getConfig(constants["b"].COURIER_CUSTOM_REQUEST_PREFERENCE):undefined}function getSearchParamsFromRequest(searchRequest,dependencies){const{getConfig:getConfig}=dependencies;const searchParams=getSearchParams(getConfig);return{index:searchRequest.index.title||searchRequest.index,body:searchRequest.body,...searchParams}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class request_error_RequestFailure extends common_["OsdError"]{constructor(){let err=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let resp=arguments.length>1?arguments[1]:undefined;super("Request to OpenSearch failed: ".concat(JSON.stringify(resp||(err===null||err===void 0?void 0:err.message))));_defineProperty(this,"resp",void 0);this.resp=resp}}var common=__webpack_require__(1);var field_formats=__webpack_require__(10);const defaultSearchStrategy={id:"default",search:params=>msearch(params)};function msearch(_ref){let{searchRequests:searchRequests,getConfig:getConfig,legacy:legacy}=_ref;const{callMsearch:callMsearch,loadingCount$:loadingCount$}=legacy;const requests=searchRequests.map(_ref2=>{let{index:index,body:body}=_ref2;return{header:{index:index.title||index,preference:getPreference(getConfig)},body:body}});const abortController=new AbortController;let resolved=false;loadingCount$.next(loadingCount$.getValue()+1);const cleanup=()=>{if(!resolved){resolved=true;loadingCount$.next(loadingCount$.getValue()-1);loadingCount$.complete()}};const searching=callMsearch({body:{searches:requests},signal:abortController.signal}).then(res=>{var _res$body;return res===null||res===void 0?void 0:(_res$body=res.body)===null||_res$body===void 0?void 0:_res$body.responses}).finally(()=>cleanup());return{abort:()=>{abortController.abort();cleanup()},searching:searching}}function callClient(searchRequests){let requestsOptions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let fetchHandlers=arguments.length>2?arguments[2]:undefined;const requestOptionEntries=searchRequests.map((request,i)=>[request,requestsOptions[i]]);const requestOptionsMap=new Map(requestOptionEntries);const requestResponseMap=new Map;const{searching:searching,abort:abort}=defaultSearchStrategy.search({searchRequests:searchRequests,...fetchHandlers});searchRequests.forEach((request,i)=>{const response=searching.then(results=>fetchHandlers.onResponse(request,results[i]));const{abortSignal:abortSignal=null}=requestOptionsMap.get(request)||{};if(abortSignal)abortSignal.addEventListener("abort",abort);requestResponseMap.set(request,response)});return searchRequests.map(request=>requestResponseMap.get(request))}async function fetchSoon(request,options,fetchHandlers){const msToDelay=fetchHandlers.getConfig(constants["b"].COURIER_BATCH_SEARCHES)?50:0;return delayedFetch(request,options,fetchHandlers,msToDelay)}function delay(fn,ms){return new Promise(resolve=>{setTimeout(()=>resolve(fn()),ms)})}let requestsToFetch=[];let requestOptions=[];let fetchInProgress=null;async function delayedFetch(request,options,fetchHandlers,ms){if(ms===0){return callClient([request],[options],fetchHandlers)[0]}const i=requestsToFetch.length;requestsToFetch=[...requestsToFetch,request];requestOptions=[...requestOptions,options];const responses=await(fetchInProgress=fetchInProgress||delay(()=>{const response=callClient(requestsToFetch,requestOptions,fetchHandlers);requestsToFetch=[];requestOptions=[];fetchInProgress=null;return response},ms));return responses[i]}const extractReferences=state=>{let searchSourceFields={...state};const references=[];if(searchSourceFields.index){const indexId=searchSourceFields.index.id||searchSourceFields.index;const refName="kibanaSavedObjectMeta.searchSourceJSON.index";references.push({name:refName,type:"index-pattern",id:indexId});searchSourceFields={...searchSourceFields,indexRefName:refName,index:undefined}}if(searchSourceFields.filter){searchSourceFields={...searchSourceFields,filter:searchSourceFields.filter.map((filterRow,i)=>{if(!filterRow.meta||!filterRow.meta.index){return filterRow}const refName="kibanaSavedObjectMeta.searchSourceJSON.filter[".concat(i,"].meta.index");references.push({name:refName,type:"index-pattern",id:filterRow.meta.index});return{...filterRow,meta:{...filterRow.meta,indexRefName:refName,index:undefined}}})}}return[searchSourceFields,references]};function search_source_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const searchSourceRequiredUiSettings=["dateFormat:tz",common["UI_SETTINGS"].COURIER_BATCH_SEARCHES,common["UI_SETTINGS"].COURIER_CUSTOM_REQUEST_PREFERENCE,common["UI_SETTINGS"].COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX,common["UI_SETTINGS"].COURIER_MAX_CONCURRENT_SHARD_REQUESTS,common["UI_SETTINGS"].COURIER_SET_REQUEST_PREFERENCE,common["UI_SETTINGS"].DOC_HIGHLIGHT,common["UI_SETTINGS"].META_FIELDS,common["UI_SETTINGS"].QUERY_ALLOW_LEADING_WILDCARDS,common["UI_SETTINGS"].QUERY_STRING_OPTIONS,common["UI_SETTINGS"].SEARCH_INCLUDE_FROZEN,common["UI_SETTINGS"].SORT_OPTIONS];class search_source_SearchSource{constructor(){let fields=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let dependencies=arguments.length>1?arguments[1]:undefined;search_source_defineProperty(this,"id",Object(external_osdSharedDeps_Lodash_["uniqueId"])("data_source"));search_source_defineProperty(this,"searchStrategyId",void 0);search_source_defineProperty(this,"parent",void 0);search_source_defineProperty(this,"requestStartHandlers",[]);search_source_defineProperty(this,"inheritOptions",{});search_source_defineProperty(this,"history",[]);search_source_defineProperty(this,"fields",void 0);search_source_defineProperty(this,"dependencies",void 0);this.fields=fields;this.dependencies=dependencies}setPreferredSearchStrategyId(searchStrategyId){this.searchStrategyId=searchStrategyId}setField(field,value){if(value==null){delete this.fields[field]}else{this.fields[field]=value}return this}setFields(newFields){this.fields=newFields;return this}getId(){return this.id}getFields(){return{...this.fields}}getField(field){let recurse=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!recurse||this.fields[field]!==void 0){return this.fields[field]}const parent=this.getParent();return parent&&parent.getField(field)}getOwnField(field){return this.getField(field,false)}create(){return new search_source_SearchSource({},this.dependencies)}createCopy(){const newSearchSource=new search_source_SearchSource({},this.dependencies);newSearchSource.setFields({...this.fields});newSearchSource.setField("index",this.getField("index"));newSearchSource.setParent(this.getParent());return newSearchSource}createChild(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const childSearchSource=new search_source_SearchSource({},this.dependencies);childSearchSource.setParent(this,options);return childSearchSource}setParent(parent){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.parent=parent;this.inheritOptions=options;return this}getParent(){return this.parent}async fetch(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{getConfig:getConfig}=this.dependencies;await this.requestIsStarting(options);const searchRequest=await this.flatten();this.history=[searchRequest];let response;if(getConfig(common["UI_SETTINGS"].COURIER_BATCH_SEARCHES)){response=await this.legacyFetch(searchRequest,options)}else{var _indexPattern$dataSou;const indexPattern=this.getField("index");searchRequest.dataSourceId=indexPattern===null||indexPattern===void 0?void 0:(_indexPattern$dataSou=indexPattern.dataSourceRef)===null||_indexPattern$dataSou===void 0?void 0:_indexPattern$dataSou.id;response=await this.fetchSearch(searchRequest,options)}if(response.error){throw new request_error_RequestFailure(null,response)}return response}onRequestStart(handler){this.requestStartHandlers.push(handler)}async getSearchRequestBody(){const searchRequest=await this.flatten();return searchRequest.body}destroy(){this.requestStartHandlers.length=0}fetchSearch(searchRequest,options){const{search:search,getConfig:getConfig,onResponse:onResponse}=this.dependencies;const params=getSearchParamsFromRequest(searchRequest,{getConfig:getConfig});return search({params:params,indexType:searchRequest.indexType,dataSourceId:searchRequest.dataSourceId},options).then(_ref=>{let{rawResponse:rawResponse}=_ref;return onResponse(searchRequest,rawResponse)})}async legacyFetch(searchRequest,options){const{getConfig:getConfig,legacy:legacy,onResponse:onResponse}=this.dependencies;return await fetchSoon(searchRequest,{...this.searchStrategyId&&{searchStrategyId:this.searchStrategyId},...options},{getConfig:getConfig,onResponse:onResponse,legacy:legacy})}requestIsStarting(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const handlers=[...this.requestStartHandlers];if(this.inheritOptions.callParentStartHandlers){let searchSource=this.getParent();while(searchSource){handlers.push(...searchSource.requestStartHandlers);searchSource=searchSource.getParent()}}return Promise.all(handlers.map(fn=>fn(this,options)))}mergeProp(data,val,key){val=typeof val==="function"?val(this):val;if(val==null||!key)return;const addToRoot=(rootKey,value)=>{data[rootKey]=value};const addToBody=(bodyKey,value)=>{if(data.body[bodyKey]==null){data.body[bodyKey]=value}};const{getConfig:getConfig}=this.dependencies;switch(key){case"filter":return addToRoot("filters",(data.filters||[]).concat(val));case"query":return addToRoot(key,(data[key]||[]).concat(val));case"fields":const fields=Object(external_osdSharedDeps_Lodash_["uniq"])((data[key]||[]).concat(val));return addToRoot(key,fields);case"index":case"type":case"highlightAll":return key&&data[key]==null&&addToRoot(key,val);case"searchAfter":return addToBody("search_after",val);case"source":return addToBody("_source",val);case"sort":const sort=normalizeSortRequest(val,this.getField("index"),getConfig(common["UI_SETTINGS"].SORT_OPTIONS));return addToBody(key,sort);default:return addToBody(key,val)}}mergeProps(){let root=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this;let searchRequest=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{body:{}};Object.entries(this.fields).forEach(_ref2=>{let[key,value]=_ref2;this.mergeProp(searchRequest,value,key)});if(this.parent){this.parent.mergeProps(root,searchRequest)}return searchRequest}getIndexType(index){if(this.searchStrategyId){return this.searchStrategyId==="default"?undefined:this.searchStrategyId}else{return index===null||index===void 0?void 0:index.type}}flatten(){const searchRequest=this.mergeProps();searchRequest.body=searchRequest.body||{};const{body:body,index:index,fields:fields,query:query,filters:filters,highlightAll:highlightAll}=searchRequest;searchRequest.indexType=this.getIndexType(index);const computedFields=index?index.getComputedFields():{};body.stored_fields=computedFields.storedFields;body.script_fields=body.script_fields||{};Object(external_osdSharedDeps_Lodash_["extend"])(body.script_fields,computedFields.scriptFields);const defaultDocValueFields=computedFields.docvalueFields?computedFields.docvalueFields:[];body.docvalue_fields=body.docvalue_fields||defaultDocValueFields;if(!body.hasOwnProperty("_source")&&index){body._source=index.getSourceFiltering()}const{getConfig:getConfig}=this.dependencies;if(body._source){const filter=Object(common_["fieldWildcardFilter"])(body._source.excludes,getConfig(common["UI_SETTINGS"].META_FIELDS));body.docvalue_fields=body.docvalue_fields.filter(docvalueField=>filter(docvalueField.field))}if(fields){body.docvalue_fields=filterDocvalueFields(body.docvalue_fields,fields);body.script_fields=Object(external_osdSharedDeps_Lodash_["pick"])(body.script_fields,fields);const remainingFields=Object(external_osdSharedDeps_Lodash_["difference"])(fields,Object(external_osdSharedDeps_Lodash_["keys"])(body.script_fields));body.stored_fields=remainingFields;Object(opensearch_safer_lodash_set["setWith"])(body,"_source.includes",remainingFields,nsValue=>Object(external_osdSharedDeps_Lodash_["isObject"])(nsValue)?{}:nsValue)}const opensearchQueryConfigs=Object(common["getOpenSearchQueryConfig"])({get:getConfig});body.query=Object(common["buildOpenSearchQuery"])(index,query,filters,opensearchQueryConfigs);if(highlightAll&&body.query){body.highlight=Object(field_formats["C"])(body.query,getConfig(common["UI_SETTINGS"].DOC_HIGHLIGHT));delete searchRequest.highlightAll}return searchRequest}getSerializedFields(){const{filter:originalFilters,...searchSourceFields}=Object(external_osdSharedDeps_Lodash_["omit"])(this.getFields(),["sort","size"]);let serializedSearchSourceFields={...searchSourceFields,index:searchSourceFields.index?searchSourceFields.index.id:undefined};if(originalFilters){const filters=this.getFilters(originalFilters);serializedSearchSourceFields={...serializedSearchSourceFields,filter:filters}}return serializedSearchSourceFields}serialize(){const[searchSourceFields,references]=extractReferences(this.getSerializedFields());return{searchSourceJSON:JSON.stringify(searchSourceFields),references:references}}getFilters(filterField){if(!filterField){return[]}if(Array.isArray(filterField)){return filterField}if(Object(external_osdSharedDeps_Lodash_["isFunction"])(filterField)){return this.getFilters(filterField())}return[filterField]}}const createSearchSource=(indexPatterns,searchSourceDependencies)=>async function(){let searchSourceFields=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const fields={...searchSourceFields};if(fields.index&&typeof fields.index==="string"){fields.index=await indexPatterns.get(searchSourceFields.index)}const searchSource=new search_source_SearchSource(fields,searchSourceDependencies);const query=searchSource.getOwnField("query");if(typeof query!=="undefined"){searchSource.setField("query",migrateLegacyQuery(query))}return searchSource};const injectReferences=(searchSourceFields,references)=>{const searchSourceReturnFields={...searchSourceFields};if(searchSourceFields.indexRefName){const reference=references.find(ref=>ref.name===searchSourceFields.indexRefName);if(!reference){throw new Error("Could not find reference for ".concat(searchSourceFields.indexRefName))}searchSourceReturnFields.index=reference.id;delete searchSourceReturnFields.indexRefName}if(searchSourceReturnFields.filter&&Array.isArray(searchSourceReturnFields.filter)){searchSourceReturnFields.filter.forEach(filterRow=>{if(!filterRow.meta||!filterRow.meta.indexRefName){return}const reference=references.find(ref=>ref.name===filterRow.meta.indexRefName);if(!reference){throw new Error("Could not find reference for ".concat(filterRow.meta.indexRefName))}filterRow.meta.index=reference.id;delete filterRow.meta.indexRefName})}return searchSourceReturnFields};const parseSearchSourceJSON=searchSourceJSON=>{let searchSourceValues;try{searchSourceValues=JSON.parse(searchSourceJSON)}catch(e){throw new common_["InvalidJSONProperty"]("Invalid JSON in search source. ".concat(e.message," JSON: ").concat(searchSourceJSON))}if(!searchSourceValues||typeof searchSourceValues!=="object"){throw new common_["InvalidJSONProperty"]("Invalid JSON in search source.")}return searchSourceValues};class search_source_service_SearchSourceService{setup(){}start(indexPatterns,dependencies){return{create:createSearchSource(indexPatterns,dependencies),createEmpty:()=>new search_source_SearchSource({},dependencies)}}stop(){}}let SortDirection;(function(SortDirection){SortDirection["asc"]="asc";SortDirection["desc"]="desc"})(SortDirection||(SortDirection={}));const getColumn=(agg,i)=>{let name="";try{name=agg.makeLabel()}catch(e){}return{aggConfig:agg,id:"col-".concat(i,"-").concat(agg.id),name:name}};function tabifyGetColumns(aggs,minimalColumns){if(minimalColumns){return aggs.map((agg,i)=>getColumn(agg,i))}const columns=[];const grouped=Object(external_osdSharedDeps_Lodash_["groupBy"])(aggs,agg=>agg.type.type);if(!grouped.buckets){return grouped.metrics.map((agg,i)=>getColumn(agg,i))}let columnIndex=0;grouped.buckets.forEach(agg=>{columns.push(getColumn(agg,columnIndex++));grouped.metrics.forEach(metric=>{columns.push(getColumn(metric,columnIndex++))})});return columns}function response_writer_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class response_writer_TabbedAggResponseWriter{constructor(aggs,_ref){let{metricsAtAllLevels:metricsAtAllLevels=false,partialRows:partialRows=false}=_ref;response_writer_defineProperty(this,"columns",void 0);response_writer_defineProperty(this,"rows",[]);response_writer_defineProperty(this,"bucketBuffer",[]);response_writer_defineProperty(this,"metricBuffer",[]);response_writer_defineProperty(this,"partialRows",void 0);this.partialRows=partialRows;this.columns=tabifyGetColumns(aggs.getResponseAggs(),!metricsAtAllLevels);this.rows=[]}row(){const rowBuffer={};this.bucketBuffer.forEach(bucket=>{rowBuffer[bucket.id]=bucket.value});this.metricBuffer.forEach(metric=>{rowBuffer[metric.id]=metric.value});const isPartialRow=!this.columns.every(column=>rowBuffer.hasOwnProperty(column.id));const removePartial=isPartialRow&&!this.partialRows;if(!Object(external_osdSharedDeps_Lodash_["isEmpty"])(rowBuffer)&&!removePartial){this.rows.push(rowBuffer)}}response(){return{columns:this.columns,rows:this.rows}}}var external_osdSharedDeps_Moment_=__webpack_require__(5);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);function buckets_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const isRangeEqual=(range1,range2)=>(range1===null||range1===void 0?void 0:range1.from)===(range2===null||range2===void 0?void 0:range2.from)&&(range1===null||range1===void 0?void 0:range1.to)===(range2===null||range2===void 0?void 0:range2.to);class buckets_TabifyBuckets{constructor(aggResp,aggParams,timeRange){buckets_defineProperty(this,"length",void 0);buckets_defineProperty(this,"objectMode",void 0);buckets_defineProperty(this,"buckets",void 0);buckets_defineProperty(this,"_keys",[]);if(aggResp&&aggResp.buckets){this.buckets=aggResp.buckets}else if(aggResp){this.buckets=[aggResp]}else{this.buckets=[]}this.objectMode=Object(external_osdSharedDeps_Lodash_["isPlainObject"])(this.buckets);if(this.objectMode){this._keys=Object(external_osdSharedDeps_Lodash_["keys"])(this.buckets);this.length=this._keys.length}else{this.length=this.buckets.length}if(this.length&&aggParams){this.orderBucketsAccordingToParams(aggParams);if(aggParams.drop_partials){this.dropPartials(aggParams,timeRange)}}}forEach(fn){const buckets=this.buckets;if(this.objectMode){this._keys.forEach(key=>{fn(buckets[key],key)})}else{buckets.forEach(bucket=>{fn(bucket,bucket.key)})}}orderBucketsAccordingToParams(params){if(params.filters&&this.objectMode){this._keys=params.filters.map(filter=>{const query=Object(external_osdSharedDeps_Lodash_["get"])(filter,"input.query.query_string.query",filter.input.query);const queryString=typeof query==="string"?query:JSON.stringify(query);return filter.label||queryString||"*"})}else if(params.ranges&&this.objectMode){this._keys=params.ranges.map(range=>Object(external_osdSharedDeps_Lodash_["findKey"])(this.buckets,el=>isRangeEqual(el,range)))}else if(params.ranges&&params.field.type!=="date"){let ranges=params.ranges;if(params.ipRangeType){ranges=params.ipRangeType==="mask"?ranges.mask:ranges.fromTo}this.buckets=ranges.map(range=>{if(range.mask){return this.buckets.find(el=>el.key===range.mask)}return this.buckets.find(el=>isRangeEqual(el,range))})}}dropPartials(params,timeRange){if(!timeRange||this.buckets.length<=1||this.objectMode||!timeRange.timeFields.includes(params.field.name)){return}const interval=this.buckets[1].key-this.buckets[0].key;this.buckets=this.buckets.filter(bucket=>{if(external_osdSharedDeps_Moment_default()(bucket.key).isBefore(timeRange.from)){return false}if(external_osdSharedDeps_Moment_default()(bucket.key+interval).isAfter(timeRange.to)){return false}return true});this.length=this.buckets.length}}function tabifyAggResponse(aggConfigs,opensearchResponse,respOpts){function collectBucket(aggs,write,bucket,key,aggScale){const column=write.columns.shift();if(column){const agg=column.aggConfig;const aggInfo=agg.write(aggs);aggScale*=aggInfo.metricScale||1;switch(agg.type.type){case search_aggs["e"].Buckets:const aggBucket=Object(external_osdSharedDeps_Lodash_["get"])(bucket,agg.id);const tabifyBuckets=new buckets_TabifyBuckets(aggBucket,agg.params,respOpts===null||respOpts===void 0?void 0:respOpts.timeRange);if(tabifyBuckets.length){tabifyBuckets.forEach((subBucket,tabifyBucketKey)=>{const bucketValue=agg.getKey(subBucket,tabifyBucketKey);const hasBucketValue=typeof bucketValue!=="undefined";if(hasBucketValue){write.bucketBuffer.push({id:column.id,value:bucketValue})}collectBucket(aggs,write,subBucket,agg.getKey(subBucket,tabifyBucketKey),aggScale);if(hasBucketValue){write.bucketBuffer.pop()}})}else if(respOpts!==null&&respOpts!==void 0&&respOpts.partialRows){write.columns.unshift(column);passEmptyBuckets(aggs,write,bucket,key,aggScale);write.columns.shift()}else{write.row()}break;case search_aggs["e"].Metrics:let value=agg.getValue(bucket);if(aggScale!==1){value*=aggScale}write.metricBuffer.push({id:column.id,value:value});if(!write.columns.length){write.row()}else{collectBucket(aggs,write,bucket,key,aggScale)}write.metricBuffer.pop();break}write.columns.unshift(column)}}function passEmptyBuckets(aggs,write,bucket,key,aggScale){const column=write.columns.shift();if(column){const agg=column.aggConfig;switch(agg.type.type){case search_aggs["e"].Metrics:write.columns.unshift(column);collectBucket(aggs,write,bucket,key,aggScale);return;case search_aggs["e"].Buckets:passEmptyBuckets(aggs,write,bucket,key,aggScale)}write.columns.unshift(column)}}const write=new response_writer_TabbedAggResponseWriter(aggConfigs,respOpts||{});const topLevelBucket={...opensearchResponse.aggregations,doc_count:opensearchResponse.hits.total};collectBucket(aggConfigs,write,topLevelBucket,"",1);return write.response()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BucketAggType}));__webpack_require__.d(__webpack_exports__,"b",(function(){return isBucketAggType}));var _agg_type__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const bucketType="buckets";class BucketAggType extends _agg_type__WEBPACK_IMPORTED_MODULE_0__["a"]{constructor(config){super(config);_defineProperty(this,"getKey",void 0);_defineProperty(this,"type",bucketType);this.getKey=config.getKey||((bucket,key)=>key||bucket.key)}}function isBucketAggType(aggConfig){return aggConfig&&aggConfig.type===bucketType}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return field_format_FieldFormat}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var types=__webpack_require__(7);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const createCustomFieldFormat=convert=>{var _class;return _class=class CustomFieldFormat extends field_format_FieldFormat{constructor(){super(...arguments);_defineProperty(this,"textConvert",convert)}},_defineProperty(_class,"id",types["a"].CUSTOM),_class};var content_types=__webpack_require__(40);function field_format_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const DEFAULT_CONTEXT_TYPE=content_types["b"];class field_format_FieldFormat{constructor(){let _params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let getConfig=arguments.length>1?arguments[1]:undefined;field_format_defineProperty(this,"convertObject",void 0);field_format_defineProperty(this,"htmlConvert",void 0);field_format_defineProperty(this,"textConvert",void 0);field_format_defineProperty(this,"type",this.constructor);field_format_defineProperty(this,"allowsNumericalAggregations",void 0);field_format_defineProperty(this,"_params",void 0);field_format_defineProperty(this,"getConfig",void 0);this._params=_params;if(getConfig){this.getConfig=getConfig}}convert(value){let contentType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:DEFAULT_CONTEXT_TYPE;let options=arguments.length>2?arguments[2]:undefined;const converter=this.getConverterFor(contentType);if(converter){return converter.call(this,value,options)}return value}getConverterFor(){let contentType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:DEFAULT_CONTEXT_TYPE;if(!this.convertObject){this.convertObject=this.setupContentType()}return this.convertObject[contentType]}getParamDefaults(){return{}}param(name){const val=Object(external_osdSharedDeps_Lodash_["get"])(this._params,name);if(val||val===false||val===0){return val}return Object(external_osdSharedDeps_Lodash_["get"])(this.getParamDefaults(),name)}params(){return Object(external_osdSharedDeps_Lodash_["cloneDeep"])(Object(external_osdSharedDeps_Lodash_["defaults"])({},this._params,this.getParamDefaults()))}toJSON(){const id=Object(external_osdSharedDeps_Lodash_["get"])(this.type,"id");const defaultsParams=this.getParamDefaults()||{};const params=Object(external_osdSharedDeps_Lodash_["transform"])(this._params,(uniqParams,val,param)=>{if(param&&val!==Object(external_osdSharedDeps_Lodash_["get"])(defaultsParams,param)){uniqParams[param]=val}},{});return{id:id,params:Object(external_osdSharedDeps_Lodash_["size"])(params)?params:undefined}}static from(convertFn){return createCustomFieldFormat(convertFn)}setupContentType(){return{text:Object(content_types["d"])(this,this.textConvert),html:Object(content_types["c"])(this,this.htmlConvert)}}static isInstanceOfFieldFormat(fieldFormat){return Boolean(fieldFormat&&fieldFormat.convert)}}field_format_defineProperty(field_format_FieldFormat,"id",void 0);field_format_defineProperty(field_format_FieldFormat,"title",void 0);field_format_defineProperty(field_format_FieldFormat,"fieldType",void 0)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _moment=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}var unitsMap={ms:{weight:1,type:"fixed",base:1},s:{weight:2,type:"fixed",base:1e3},m:{weight:3,type:"mixed",base:1e3*60},h:{weight:4,type:"mixed",base:1e3*60*60},d:{weight:5,type:"mixed",base:1e3*60*60*24},w:{weight:6,type:"calendar",base:NaN},M:{weight:7,type:"calendar",base:NaN},y:{weight:9,type:"calendar",base:NaN}};var units=Object.keys(unitsMap).sort((function(a,b){return unitsMap[b].weight-unitsMap[a].weight}));var unitsDesc=_toConsumableArray(units);var unitsAsc=_toConsumableArray(units).reverse();var isDate=function isDate(d){return Object.prototype.toString.call(d)==="[object Date]"};var isValidDate=function isValidDate(d){return isDate(d)&&!isNaN(d.valueOf())};function parse(text){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$roundUp=_ref.roundUp,roundUp=_ref$roundUp===void 0?false:_ref$roundUp,_ref$momentInstance=_ref.momentInstance,momentInstance=_ref$momentInstance===void 0?_moment.default:_ref$momentInstance,forceNow=_ref.forceNow;if(!text)return undefined;if(momentInstance.isMoment(text))return text;if(isDate(text))return momentInstance(text);if(forceNow!==undefined&&!isValidDate(forceNow)){throw new Error("forceNow must be a valid Date")}var time;var mathString="";var index;var parseString;if(text.substring(0,3)==="now"){time=momentInstance(forceNow);mathString=text.substring("now".length)}else{index=text.indexOf("||");if(index===-1){parseString=text;mathString=""}else{parseString=text.substring(0,index);mathString=text.substring(index+2)}time=momentInstance(parseString)}if(!mathString.length){return time}return parseDateMath(mathString,time,roundUp)}function parseDateMath(mathString,time,roundUp){var dateTime=time;var len=mathString.length;var i=0;while(i<len){var c=mathString.charAt(i++);var type=void 0;var num=void 0;var unit=void 0;if(c==="/"){type=0}else if(c==="+"){type=1}else if(c==="-"){type=2}else{return}if(isNaN(mathString.charAt(i))){num=1}else if(mathString.length===2){num=mathString.charAt(i)}else{var numFrom=i;while(!isNaN(mathString.charAt(i))){i++;if(i>=len)return}num=parseInt(mathString.substring(numFrom,i),10)}if(type===0){if(num!==1){return}}unit=mathString.charAt(i++);for(var j=i;j<len;j++){var unitChar=mathString.charAt(i);if(/[a-z]/i.test(unitChar)){unit+=unitChar;i++}else{break}}if(units.indexOf(unit)===-1){return}else{if(type===0){if(roundUp)dateTime.endOf(unit);else dateTime.startOf(unit)}else if(type===1){dateTime.add(num,unit)}else if(type===2){dateTime.subtract(num,unit)}}}return dateTime}var _default={parse:parse,unitsMap:Object.freeze(unitsMap),units:Object.freeze(units),unitsAsc:Object.freeze(unitsAsc),unitsDesc:Object.freeze(unitsDesc)};exports.default=_default;module.exports=exports.default},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/opensearchDashboardsUtils/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__osdSharedDeps__.RxjsOperators},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_QUERY_LANGUAGE}));__webpack_require__.d(__webpack_exports__,"b",(function(){return UI_SETTINGS}));const DEFAULT_QUERY_LANGUAGE="kuery";const UI_SETTINGS={META_FIELDS:"metaFields",DOC_HIGHLIGHT:"doc_table:highlight",QUERY_STRING_OPTIONS:"query:queryString:options",QUERY_ALLOW_LEADING_WILDCARDS:"query:allowLeadingWildcards",SEARCH_QUERY_LANGUAGE:"search:queryLanguage",SORT_OPTIONS:"sort:options",COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX:"courier:ignoreFilterIfFieldNotInIndex",COURIER_SET_REQUEST_PREFERENCE:"courier:setRequestPreference",COURIER_CUSTOM_REQUEST_PREFERENCE:"courier:customRequestPreference",COURIER_MAX_CONCURRENT_SHARD_REQUESTS:"courier:maxConcurrentShardRequests",COURIER_BATCH_SEARCHES:"courier:batchSearches",SEARCH_INCLUDE_FROZEN:"search:includeFrozen",SEARCH_TIMEOUT:"search:timeout",HISTOGRAM_BAR_TARGET:"histogram:barTarget",HISTOGRAM_MAX_BARS:"histogram:maxBars",HISTORY_LIMIT:"history:limit",SHORT_DOTS_ENABLE:"shortDots:enable",FORMAT_DEFAULT_TYPE_MAP:"format:defaultTypeMap",FORMAT_NUMBER_DEFAULT_PATTERN:"format:number:defaultPattern",FORMAT_PERCENT_DEFAULT_PATTERN:"format:percent:defaultPattern",FORMAT_BYTES_DEFAULT_PATTERN:"format:bytes:defaultPattern",FORMAT_CURRENCY_DEFAULT_PATTERN:"format:currency:defaultPattern",FORMAT_NUMBER_DEFAULT_LOCALE:"format:number:defaultLocale",TIMEPICKER_REFRESH_INTERVAL_DEFAULTS:"timepicker:refreshIntervalDefaults",TIMEPICKER_QUICK_RANGES:"timepicker:quickRanges",TIMEPICKER_TIME_DEFAULTS:"timepicker:timeDefaults",INDEXPATTERN_PLACEHOLDER:"indexPattern:placeholder",FILTERS_PINNED_BY_DEFAULT:"filters:pinnedByDefault",FILTERS_EDITOR_SUGGEST_VALUES:"filterEditor:suggestValues"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return autoInterval}));__webpack_require__.d(__webpack_exports__,"c",(function(){return isAutoInterval}));__webpack_require__.d(__webpack_exports__,"b",(function(){return intervalOptions}));var _osd_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _osd_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_osd_i18n__WEBPACK_IMPORTED_MODULE_0__);const autoInterval="auto";const isAutoInterval=value=>value===autoInterval;const intervalOptions=[{display:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.buckets.intervalOptions.autoDisplayName",{defaultMessage:"Auto"}),val:autoInterval,enabled(agg){return agg.fieldIsTimeField()}},{display:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.buckets.intervalOptions.millisecondDisplayName",{defaultMessage:"Millisecond"}),val:"ms"},{display:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.buckets.intervalOptions.secondDisplayName",{defaultMessage:"Second"}),val:"s"},{display:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.buckets.intervalOptions.minuteDisplayName",{defaultMessage:"Minute"}),val:"m"},{display:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.buckets.intervalOptions.hourlyDisplayName",{defaultMessage:"Hour"}),val:"h"},{display:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.buckets.intervalOptions.dailyDisplayName",{defaultMessage:"Day"}),val:"d"},{display:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.buckets.intervalOptions.weeklyDisplayName",{defaultMessage:"Week"}),val:"w"},{display:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.buckets.intervalOptions.monthlyDisplayName",{defaultMessage:"Month"}),val:"M"},{display:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.buckets.intervalOptions.yearlyDisplayName",{defaultMessage:"Year"}),val:"y"}]},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/opensearchDashboardsReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__osdSharedDeps__.ElasticEui},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return buildFilter}));__webpack_require__.d(__webpack_exports__,"c",(function(){return buildCustomFilter}));__webpack_require__.d(__webpack_exports__,"E",(function(){return isExistsFilter}));__webpack_require__.d(__webpack_exports__,"q",(function(){return getExistsFilterField}));__webpack_require__.d(__webpack_exports__,"e",(function(){return buildExistsFilter}));__webpack_require__.d(__webpack_exports__,"J",(function(){return isGeoBoundingBoxFilter}));__webpack_require__.d(__webpack_exports__,"t",(function(){return getGeoBoundingBoxFilterField}));__webpack_require__.d(__webpack_exports__,"L",(function(){return isGeoShapeFilter}));__webpack_require__.d(__webpack_exports__,"v",(function(){return getGeoShapeFilterField}));__webpack_require__.d(__webpack_exports__,"K",(function(){return isGeoPolygonFilter}));__webpack_require__.d(__webpack_exports__,"u",(function(){return getGeoPolygonFilterField}));__webpack_require__.d(__webpack_exports__,"p",(function(){return getDisplayValueFromFilter}));__webpack_require__.d(__webpack_exports__,"r",(function(){return getFilterField}));__webpack_require__.d(__webpack_exports__,"s",(function(){return getFilterParams}));__webpack_require__.d(__webpack_exports__,"w",(function(){return getIndexPatternFromFilter}));__webpack_require__.d(__webpack_exports__,"M",(function(){return isMatchAllFilter}));__webpack_require__.d(__webpack_exports__,"b",(function(){return FilterStateStore}));__webpack_require__.d(__webpack_exports__,"d",(function(){return buildEmptyFilter}));__webpack_require__.d(__webpack_exports__,"H",(function(){return isFilterPinned}));__webpack_require__.d(__webpack_exports__,"V",(function(){return toggleFilterDisabled}));__webpack_require__.d(__webpack_exports__,"W",(function(){return toggleFilterNegated}));__webpack_require__.d(__webpack_exports__,"X",(function(){return toggleFilterPinned}));__webpack_require__.d(__webpack_exports__,"n",(function(){return enableFilter}));__webpack_require__.d(__webpack_exports__,"m",(function(){return disableFilter}));__webpack_require__.d(__webpack_exports__,"U",(function(){return pinFilter}));__webpack_require__.d(__webpack_exports__,"Y",(function(){return unpinFilter}));__webpack_require__.d(__webpack_exports__,"F",(function(){return isFilter}));__webpack_require__.d(__webpack_exports__,"I",(function(){return isFilters}));__webpack_require__.d(__webpack_exports__,"N",(function(){return isMissingFilter}));__webpack_require__.d(__webpack_exports__,"x",(function(){return getMissingFilterField}));__webpack_require__.d(__webpack_exports__,"O",(function(){return isPhraseFilter}));__webpack_require__.d(__webpack_exports__,"S",(function(){return isScriptedPhraseFilter}));__webpack_require__.d(__webpack_exports__,"y",(function(){return getPhraseFilterField}));__webpack_require__.d(__webpack_exports__,"z",(function(){return getPhraseFilterValue}));__webpack_require__.d(__webpack_exports__,"h",(function(){return buildPhraseFilter}));__webpack_require__.d(__webpack_exports__,"A",(function(){return getPhraseScript}));__webpack_require__.d(__webpack_exports__,"o",(function(){return getConvertedValueForField}));__webpack_require__.d(__webpack_exports__,"g",(function(){return buildInlineScriptForPhraseFilter}));__webpack_require__.d(__webpack_exports__,"P",(function(){return isPhrasesFilter}));__webpack_require__.d(__webpack_exports__,"B",(function(){return getPhrasesFilterField}));__webpack_require__.d(__webpack_exports__,"i",(function(){return buildPhrasesFilter}));__webpack_require__.d(__webpack_exports__,"Q",(function(){return isQueryStringFilter}));__webpack_require__.d(__webpack_exports__,"j",(function(){return buildQueryFilter}));__webpack_require__.d(__webpack_exports__,"R",(function(){return isRangeFilter}));__webpack_require__.d(__webpack_exports__,"T",(function(){return isScriptedRangeFilter}));__webpack_require__.d(__webpack_exports__,"C",(function(){return getRangeFilterField}));__webpack_require__.d(__webpack_exports__,"k",(function(){return buildRangeFilter}));__webpack_require__.d(__webpack_exports__,"D",(function(){return getRangeScript}));__webpack_require__.d(__webpack_exports__,"a",(function(){return FILTERS}));__webpack_require__.d(__webpack_exports__,"l",(function(){return cleanFilter}));__webpack_require__.d(__webpack_exports__,"G",(function(){return isFilterDisabled}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);function buildFilter(indexPattern,field,type,negate,disabled,params,alias,store){const filter=buildBaseFilter(indexPattern,field,type,params);filter.meta.alias=alias;filter.meta.negate=negate;filter.meta.disabled=disabled;filter.$state={store:store};return filter}function buildCustomFilter(indexPatternString,queryDsl,disabled,negate,alias,store){const meta={index:indexPatternString,type:FILTERS.CUSTOM,disabled:disabled,negate:negate,alias:alias};const filter={...queryDsl,meta:meta};filter.$state={store:store};return filter}function buildBaseFilter(indexPattern,field,type,params){switch(type){case"phrase":return buildPhraseFilter(field,params,indexPattern);case"phrases":return buildPhrasesFilter(field,params,indexPattern);case"range":const newParams={gte:params.from,lt:params.to};return buildRangeFilter(field,newParams,indexPattern);case"exists":return buildExistsFilter(field,indexPattern);default:throw new Error("Unknown filter type: ".concat(type))}}const isExistsFilter=filter=>filter&&filter.exists;const getExistsFilterField=filter=>filter.exists&&filter.exists.field;const buildExistsFilter=(field,indexPattern)=>({meta:{index:indexPattern.id},exists:{field:field.name}});const isGeoBoundingBoxFilter=filter=>filter&&filter.geo_bounding_box;const getGeoBoundingBoxFilterField=filter=>filter.geo_bounding_box&&Object.keys(filter.geo_bounding_box).find(key=>key!=="ignore_unmapped");const isGeoShapeFilter=filter=>filter===null||filter===void 0?void 0:filter.geo_shape;const getGeoShapeFilterField=filter=>{if((filter===null||filter===void 0?void 0:filter.geo_shape)===undefined){return undefined}return(filter===null||filter===void 0?void 0:filter.geo_shape)&&Object.keys(filter.geo_shape).find(key=>key!=="ignore_unmapped")};const isGeoPolygonFilter=filter=>filter&&filter.geo_polygon;const getGeoPolygonFilterField=filter=>filter.geo_polygon&&Object.keys(filter.geo_polygon).find(key=>key!=="ignore_unmapped");var external_osdSharedDeps_OsdI18n_=__webpack_require__(0);function getIndexPatternFromFilter(filter,indexPatterns){return indexPatterns.find(indexPattern=>indexPattern.id===filter.meta.index)}function getValueFormatter(indexPattern,key){if(!indexPattern||!indexPattern.getFormatterForField||!key)return;const field=indexPattern.fields.find(f=>f.name===key);if(!field){throw new Error(external_osdSharedDeps_OsdI18n_["i18n"].translate("data.filter.filterBar.fieldNotFound",{defaultMessage:"Field {key} not found in index pattern {indexPattern}",values:{key:key,indexPattern:indexPattern.title}}))}return indexPattern.getFormatterForField(field)}function getDisplayValueFromFilter(filter,indexPatterns){if(typeof filter.meta.value==="function"){const indexPattern=getIndexPatternFromFilter(filter,indexPatterns);const valueFormatter=getValueFormatter(indexPattern,filter.meta.key);return filter.meta.value(valueFormatter)}else{return filter.meta.value||""}}const isPhraseFilter=filter=>{const isMatchPhraseQuery=filter&&filter.query&&filter.query.match_phrase;const isDeprecatedMatchPhraseQuery=filter&&filter.query&&filter.query.match&&Object.values(filter.query.match).find(params=>params.type==="phrase");return Boolean(isMatchPhraseQuery||isDeprecatedMatchPhraseQuery)};const isScriptedPhraseFilter=filter=>Boolean(Object(external_osdSharedDeps_Lodash_["get"])(filter,"script.script.params.value"));const getPhraseFilterField=filter=>{const queryConfig=filter.query.match_phrase||filter.query.match;return Object.keys(queryConfig)[0]};const getPhraseFilterValue=filter=>{const queryConfig=filter.query.match_phrase||filter.query.match;const queryValue=Object.values(queryConfig)[0];return Object(external_osdSharedDeps_Lodash_["isPlainObject"])(queryValue)?queryValue.query:queryValue};const buildPhraseFilter=(field,value,indexPattern)=>{const convertedValue=getConvertedValueForField(field,value);if(field.scripted){return{meta:{index:indexPattern.id,field:field.name},script:getPhraseScript(field,value)}}else{return{meta:{index:indexPattern.id},query:{match_phrase:{[field.name]:convertedValue}}}}};const getPhraseScript=(field,value)=>{const convertedValue=getConvertedValueForField(field,value);const script=buildInlineScriptForPhraseFilter(field);return{script:{source:script,lang:field.lang,params:{value:convertedValue}}}};const getConvertedValueForField=(field,value)=>{if(typeof value!=="boolean"&&field.type==="boolean"){if([1,"true"].includes(value)){return true}else if([0,"false"].includes(value)){return false}else{throw new Error("".concat(value," is not a valid boolean value for boolean field ").concat(field.name))}}return value};const buildInlineScriptForPhraseFilter=scriptedField=>{if(scriptedField.lang==="painless"){return"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(scriptedField.script," }, params.value);")}else{return"(".concat(scriptedField.script,") == value")}};const isPhrasesFilter=filter=>{var _filter$meta;return(filter===null||filter===void 0?void 0:(_filter$meta=filter.meta)===null||_filter$meta===void 0?void 0:_filter$meta.type)===FILTERS.PHRASES};const getPhrasesFilterField=filter=>filter.meta.key;const buildPhrasesFilter=(field,params,indexPattern)=>{const index=indexPattern.id;const type=FILTERS.PHRASES;const key=field.name;const format=(f,value)=>f&&f.format&&f.format.convert?f.format.convert(value):value;const value=params.map(v=>format(field,v)).join(", ");let should;if(field.scripted){should=params.map(v=>({script:getPhraseScript(field,v)}))}else{should=params.map(v=>({match_phrase:{[field.name]:v}}))}return{meta:{index:index,type:type,key:key,value:value,params:params},query:{bool:{should:should,minimum_should_match:1}}}};const OPERANDS_IN_RANGE=2;const operators={gt:">",gte:">=",lte:"<=",lt:"<"};const comparators={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"};const dateComparators={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"};const hasRangeKeys=params=>Boolean(Object(external_osdSharedDeps_Lodash_["keys"])(params).find(key=>["gte","gt","lte","lt","from","to"].includes(key)));const isRangeFilter=filter=>filter&&filter.range;const isScriptedRangeFilter=filter=>{const params=Object(external_osdSharedDeps_Lodash_["get"])(filter,"script.script.params",{});return hasRangeKeys(params)};const getRangeFilterField=filter=>filter.range&&Object.keys(filter.range)[0];const formatValue=(field,params)=>Object(external_osdSharedDeps_Lodash_["map"])(params,(val,key)=>Object(external_osdSharedDeps_Lodash_["get"])(operators,key)+range_filter_format(field,val)).join(" ");const range_filter_format=(field,value)=>field&&field.format&&field.format.convert?field.format.convert(value):value;const buildRangeFilter=(field,params,indexPattern,formattedValue)=>{const filter={meta:{index:indexPattern.id,params:{}}};if(formattedValue){filter.meta.formattedValue=formattedValue}params=Object(external_osdSharedDeps_Lodash_["mapValues"])(params,value=>field.type==="number"?parseFloat(value):value);if("gte"in params&&"gt"in params)throw new Error("gte and gt are mutually exclusive");if("lte"in params&&"lt"in params)throw new Error("lte and lt are mutually exclusive");const totalInfinite=["gt","lt"].reduce((acc,op)=>{const key=op in params?op:"".concat(op,"e");const isInfinite=Math.abs(Object(external_osdSharedDeps_Lodash_["get"])(params,key))===Infinity;if(isInfinite){acc++;delete params[key]}return acc},0);if(totalInfinite===OPERANDS_IN_RANGE){filter.match_all={};filter.meta.field=field.name}else if(field.scripted){filter.script=getRangeScript(field,params);filter.script.script.params.value=formatValue(field,filter.script.script.params);filter.meta.field=field.name}else{filter.range={};filter.range[field.name]=params}return filter};const getRangeScript=(field,params)=>{const knownParams=Object(external_osdSharedDeps_Lodash_["pickBy"])(params,(val,key)=>key in operators);let script=Object(external_osdSharedDeps_Lodash_["map"])(knownParams,(val,key)=>"("+field.script+")"+Object(external_osdSharedDeps_Lodash_["get"])(operators,key)+key).join(" && ");if(field.lang==="painless"){const comp=field.type==="date"?dateComparators:comparators;const currentComparators=Object(external_osdSharedDeps_Lodash_["reduce"])(knownParams,(acc,val,key)=>acc.concat(Object(external_osdSharedDeps_Lodash_["get"])(comp,key)),[]).join(" ");const comparisons=Object(external_osdSharedDeps_Lodash_["map"])(knownParams,(val,key)=>"".concat(key,"(() -> { ").concat(field.script," }, params.").concat(key,")")).join(" && ");script="".concat(currentComparators).concat(comparisons)}return{script:{source:script,params:knownParams,lang:field.lang}}};const isMissingFilter=filter=>filter&&filter.missing;const getMissingFilterField=filter=>filter.missing&&filter.missing.field;const getFilterField=filter=>{if(isExistsFilter(filter)){return getExistsFilterField(filter)}if(isGeoBoundingBoxFilter(filter)){return getGeoBoundingBoxFilterField(filter)}if(isGeoPolygonFilter(filter)){return getGeoPolygonFilterField(filter)}if(isPhraseFilter(filter)){return getPhraseFilterField(filter)}if(isPhrasesFilter(filter)){return getPhrasesFilterField(filter)}if(isRangeFilter(filter)){return getRangeFilterField(filter)}if(isMissingFilter(filter)){return getMissingFilterField(filter)}if(isGeoShapeFilter(filter)){return getGeoShapeFilterField(filter)}return};function getFilterParams(filter){switch(filter.meta.type){case FILTERS.PHRASE:return filter.meta.params.query;case FILTERS.PHRASES:return filter.meta.params;case FILTERS.RANGE:return{from:filter.meta.params.gte,to:filter.meta.params.lt}}}const isMatchAllFilter=filter=>filter&&filter.match_all;let FilterStateStore;(function(FilterStateStore){FilterStateStore["APP_STATE"]="appState";FilterStateStore["GLOBAL_STATE"]="globalState"})(FilterStateStore||(FilterStateStore={}));const buildEmptyFilter=(isPinned,index)=>{const meta={disabled:false,negate:false,alias:null,index:index};const $state={store:isPinned?FilterStateStore.GLOBAL_STATE:FilterStateStore.APP_STATE};return{meta:meta,$state:$state}};const isFilterPinned=filter=>filter.$state&&filter.$state.store===FilterStateStore.GLOBAL_STATE;const toggleFilterDisabled=filter=>{const disabled=!filter.meta.disabled;const meta={...filter.meta,disabled:disabled};return{...filter,meta:meta}};const toggleFilterNegated=filter=>{const negate=!filter.meta.negate;const meta={...filter.meta,negate:negate};return{...filter,meta:meta}};const toggleFilterPinned=filter=>{const store=isFilterPinned(filter)?FilterStateStore.APP_STATE:FilterStateStore.GLOBAL_STATE;const $state={...filter.$state,store:store};return{...filter,$state:$state}};const enableFilter=filter=>!filter.meta.disabled?filter:toggleFilterDisabled(filter);const disableFilter=filter=>filter.meta.disabled?filter:toggleFilterDisabled(filter);const pinFilter=filter=>isFilterPinned(filter)?filter:toggleFilterPinned(filter);const unpinFilter=filter=>!isFilterPinned(filter)?filter:toggleFilterPinned(filter);const isFilter=x=>!!x&&typeof x==="object"&&!!x.meta&&typeof x.meta==="object"&&typeof x.meta.disabled==="boolean";const isFilters=x=>Array.isArray(x)&&!x.find(y=>!isFilter(y));const isQueryStringFilter=filter=>filter&&filter.query&&filter.query.query_string;const buildQueryFilter=(query,index,alias)=>({query:query,meta:{index:index,alias:alias}});let FILTERS;(function(FILTERS){FILTERS["CUSTOM"]="custom";FILTERS["PHRASES"]="phrases";FILTERS["PHRASE"]="phrase";FILTERS["EXISTS"]="exists";FILTERS["MATCH_ALL"]="match_all";FILTERS["MISSING"]="missing";FILTERS["QUERY_STRING"]="query_string";FILTERS["RANGE"]="range";FILTERS["GEO_BOUNDING_BOX"]="geo_bounding_box";FILTERS["GEO_POLYGON"]="geo_polygon";FILTERS["GEO_SHAPE"]="geo_shape";FILTERS["SPATIAL_FILTER"]="spatial_filter"})(FILTERS||(FILTERS={}));const cleanFilter=filter=>Object(external_osdSharedDeps_Lodash_["omit"])(filter,["meta","$state"]);const isFilterDisabled=filter=>Object(external_osdSharedDeps_Lodash_["get"])(filter,"meta.disabled",false)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BaseParamType}));function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class BaseParamType{constructor(config){_defineProperty(this,"name",void 0);_defineProperty(this,"type",void 0);_defineProperty(this,"displayName",void 0);_defineProperty(this,"required",void 0);_defineProperty(this,"advanced",void 0);_defineProperty(this,"default",void 0);_defineProperty(this,"write",void 0);_defineProperty(this,"serialize",void 0);_defineProperty(this,"deserialize",void 0);_defineProperty(this,"toExpressionAst",void 0);_defineProperty(this,"options",void 0);_defineProperty(this,"valueType",void 0);_defineProperty(this,"modifyAggConfigOnSearchRequestStart",void 0);this.name=config.name;this.type=config.type;this.displayName=config.displayName||this.name;this.required=config.required===true;this.advanced=config.advanced||false;this.onChange=config.onChange;this.shouldShow=config.shouldShow;this.default=config.default;const defaultWrite=(aggConfig,output)=>{if(aggConfig.params[this.name]){output.params[this.name]=aggConfig.params[this.name]||this.default}};this.write=config.write||defaultWrite;this.serialize=config.serialize;this.deserialize=config.deserialize;this.toExpressionAst=config.toExpressionAst;this.options=config.options;this.modifyAggConfigOnSearchRequestStart=config.modifyAggConfigOnSearchRequestStart||function(){};this.valueType=config.valueType||config.type}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return getCalculateAutoTimeExpression}));__webpack_require__.d(__webpack_exports__,"d",(function(){return dateHistogramInterval}));__webpack_require__.d(__webpack_exports__,"a",(function(){return invalid_opensearch_calendar_interval_error_InvalidOpenSearchCalendarIntervalError}));__webpack_require__.d(__webpack_exports__,"b",(function(){return invalid_opensearch_interval_format_error_InvalidOpenSearchIntervalFormatError}));__webpack_require__.d(__webpack_exports__,"h",(function(){return isValidOpenSearchInterval}));__webpack_require__.d(__webpack_exports__,"g",(function(){return isValidInterval}));__webpack_require__.d(__webpack_exports__,"i",(function(){return parseInterval}));__webpack_require__.d(__webpack_exports__,"j",(function(){return parseOpenSearchInterval}));__webpack_require__.d(__webpack_exports__,"l",(function(){return toAbsoluteDates}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getFormatWithAggs}));__webpack_require__.d(__webpack_exports__,"c",(function(){return Ipv4Address}));__webpack_require__.d(__webpack_exports__,"k",(function(){return propFilter}));__webpack_require__.d(__webpack_exports__,"m",(function(){return toAngularJSON}));var external_osdSharedDeps_Moment_=__webpack_require__(5);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);var constants=__webpack_require__(18);var time_buckets=__webpack_require__(72);var target=__webpack_require__(15);var target_default=__webpack_require__.n(target);var external_osdSharedDeps_OsdI18n_=__webpack_require__(0);class invalid_opensearch_calendar_interval_error_InvalidOpenSearchCalendarIntervalError extends Error{constructor(interval,value,unit,type){super(external_osdSharedDeps_OsdI18n_["i18n"].translate("data.parseOpenSearchInterval.invalidOpenSearchCalendarIntervalErrorMessage",{defaultMessage:"Invalid calendar interval: {interval}, value must be 1",values:{interval:interval}}));this.interval=interval;this.value=value;this.unit=unit;this.type=type;this.name="InvalidOpenSearchCalendarIntervalError";this.value=value;this.unit=unit;this.type=type;if(Error.captureStackTrace){Error.captureStackTrace(this,invalid_opensearch_calendar_interval_error_InvalidOpenSearchCalendarIntervalError)}Object.setPrototypeOf(this,invalid_opensearch_calendar_interval_error_InvalidOpenSearchCalendarIntervalError.prototype)}}class invalid_opensearch_interval_format_error_InvalidOpenSearchIntervalFormatError extends Error{constructor(interval){super(external_osdSharedDeps_OsdI18n_["i18n"].translate("data.parseOpenSearchInterval.invalidOpenSearchIntervalFormatErrorMessage",{defaultMessage:"Invalid interval format: {interval}",values:{interval:interval}}));this.interval=interval;this.name="InvalidOpenSearchIntervalFormatError";if(Error.captureStackTrace){Error.captureStackTrace(this,invalid_opensearch_interval_format_error_InvalidOpenSearchIntervalFormatError)}Object.setPrototypeOf(this,invalid_opensearch_interval_format_error_InvalidOpenSearchIntervalFormatError.prototype)}}const OPENSEARCH_INTERVAL_STRING_REGEX=new RegExp("^([1-9][0-9]*)\\s*("+target_default.a.units.join("|")+")$");function parseOpenSearchInterval(interval){const matches=String(interval).trim().match(OPENSEARCH_INTERVAL_STRING_REGEX);if(!matches){throw new invalid_opensearch_interval_format_error_InvalidOpenSearchIntervalFormatError(interval)}const value=parseFloat(matches[1]);const unit=matches[2];const type=target_default.a.unitsMap[unit].type;if(type==="calendar"&&value!==1){throw new invalid_opensearch_calendar_interval_error_InvalidOpenSearchCalendarIntervalError(interval,value,unit,type)}return{value:value,unit:unit,type:type==="mixed"&&value===1||type==="calendar"?"calendar":"fixed"}}function dateHistogramInterval(interval){const{type:type}=parseOpenSearchInterval(interval);if(type==="calendar"){return{calendar_interval:interval}}else{return{fixed_interval:interval}}}function isValidOpenSearchInterval(interval){try{parseOpenSearchInterval(interval);return true}catch{return false}}function greatestCommonDivisor(a,b){return a===0?Math.abs(b):greatestCommonDivisor(b%a,a)}function leastCommonMultiple(a,b){return Math.abs(a*b/greatestCommonDivisor(a,b))}function leastCommonInterval(a,b){const{unitsMap:unitsMap,unitsDesc:unitsDesc}=target_default.a;const aInt=parseOpenSearchInterval(a);const bInt=parseOpenSearchInterval(b);if(a===b){return a}const aUnit=unitsMap[aInt.unit];const bUnit=unitsMap[bInt.unit];if(aInt.type!==bInt.type){throw Error("Incompatible intervals: ".concat(a," (").concat(aInt.type,"), ").concat(b," (").concat(bInt.type,")"))}if(aInt.type==="calendar"||bInt.type==="calendar"){return aUnit.weight>bUnit.weight?"".concat(aInt.value).concat(aInt.unit):"".concat(bInt.value).concat(bInt.unit)}const aMs=aInt.value*aUnit.base;const bMs=bInt.value*bUnit.base;const lcmMs=leastCommonMultiple(aMs,bMs);if(lcmMs===bMs){return b.replace(/\s/g,"")}if(lcmMs===aMs){return a.replace(/\s/g,"")}const lcmUnit=unitsDesc.find(unit=>{const unitInfo=unitsMap[unit];return!!(unitInfo.type!=="calendar"&&lcmMs%unitInfo.base===0)});if(!lcmUnit){throw Error("Unable to find common interval for: ".concat(a,", ").concat(b))}return"".concat(lcmMs/unitsMap[lcmUnit].base).concat(lcmUnit)}function parseWithBase(value,baseInterval){try{const interval=leastCommonInterval(baseInterval,value);return interval===value.replace(/\s/g,"")}catch(e){return false}}function isValidInterval(value,baseInterval){if(baseInterval){return parseWithBase(value,baseInterval)}else{return isValidOpenSearchInterval(value)}}var external_osdSharedDeps_Lodash_=__webpack_require__(2);const INTERVAL_STRING_RE=new RegExp("^([0-9\\.]*)\\s*("+target_default.a.units.join("|")+")$");function parseInterval(interval){const matches=String(interval).trim().match(INTERVAL_STRING_RE);if(!matches)return null;try{const value=parseFloat(matches[1])||1;const unit=matches[2];const duration=external_osdSharedDeps_Moment_default.a.duration(value,unit);const selectedUnit=Object(external_osdSharedDeps_Lodash_["find"])(target_default.a.units,u=>Math.abs(duration.as(u))>=1);if(target_default.a.units.indexOf(selectedUnit)<target_default.a.units.indexOf(unit)){return duration}return external_osdSharedDeps_Moment_default.a.duration(duration.as(selectedUnit),selectedUnit)}catch(e){return null}}function toAbsoluteDates(range){const fromDate=target_default.a.parse(range.from);const toDate=target_default.a.parse(range.to,{roundUp:true});if(!fromDate||!toDate){return}return{from:fromDate.toDate(),to:toDate.toDate()}}var _interval_options=__webpack_require__(19);function getCalculateAutoTimeExpression(getConfig){return function calculateAutoTimeExpression(range){const dates=toAbsoluteDates(range);if(!dates){return}const buckets=new time_buckets["a"]({"histogram:maxBars":getConfig(constants["b"].HISTOGRAM_MAX_BARS),"histogram:barTarget":getConfig(constants["b"].HISTOGRAM_BAR_TARGET),dateFormat:getConfig("dateFormat"),"dateFormat:scaled":getConfig("dateFormat:scaled")});buckets.setInterval(_interval_options["a"]);buckets.setBounds({min:external_osdSharedDeps_Moment_default()(dates.from),max:external_osdSharedDeps_Moment_default()(dates.to)});return buckets.getInterval().expression}}var field_formats=__webpack_require__(10);var date_range=__webpack_require__(42);var ip_range=__webpack_require__(43);function getFormatWithAggs(getFieldFormat){return mapping=>{const{id:id,params:params={}}=mapping;const customFormats={range:()=>{const RangeFormat=field_formats["g"].from(range=>{const nestedFormatter=params;const format=getFieldFormat({id:nestedFormatter.id,params:nestedFormatter.params});const gte="≥";const lt="<";return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.aggTypes.buckets.ranges.rangesFormatMessage",{defaultMessage:"{gte} {from} and {lt} {to}",values:{gte:gte,from:format.convert(range.gte),lt:lt,to:format.convert(range.lt)}})});return new RangeFormat},date_range:()=>{const nestedFormatter=params;const DateRangeFormat=field_formats["g"].from(range=>{const format=getFieldFormat({id:nestedFormatter.id,params:nestedFormatter.params});return Object(date_range["b"])(range,format.convert.bind(format))});return new DateRangeFormat},ip_range:()=>{const nestedFormatter=params;const IpRangeFormat=field_formats["g"].from(range=>{const format=getFieldFormat({id:nestedFormatter.id,params:nestedFormatter.params});return Object(ip_range["b"])(range,format.convert.bind(format))});return new IpRangeFormat},terms:()=>{const convert=(val,type)=>{const format=getFieldFormat({id:params.id,params:params});if(val==="__other__"){return params.otherBucketLabel}if(val==="__missing__"){return params.missingBucketLabel}return format.convert(val,type)};return{convert:convert,getConverterFor:type=>val=>convert(val,type)}}};if(!id||!(id in customFormats)){return getFieldFormat(mapping)}return customFormats[id]()}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const NUM_BYTES=4;const BYTE_SIZE=256;function throwError(ipAddress){throw Error("Invalid IPv4 address: "+ipAddress)}function isIntegerInRange(integer,min,max){return!isNaN(integer)&&integer>=min&&integer<max&&integer%1===0}class Ipv4Address{constructor(ipAddress){_defineProperty(this,"value",void 0);if(typeof ipAddress==="string"){this.value=0;const bytes=ipAddress.split(".");if(bytes.length!==NUM_BYTES){throwError(ipAddress)}for(let i=0;i<bytes.length;i++){const byte=Number(bytes[i]);if(!isIntegerInRange(byte,0,BYTE_SIZE)){throwError(ipAddress)}this.value+=Math.pow(BYTE_SIZE,NUM_BYTES-1-i)*byte}}else{this.value=ipAddress}if(!isIntegerInRange(this.value,0,Math.pow(BYTE_SIZE,NUM_BYTES))){throwError(ipAddress)}}toString(){let value=this.value;const bytes=[];for(let i=0;i<NUM_BYTES;i++){bytes.unshift(value%256);value=Math.floor(value/256)}return bytes.join(".")}valueOf(){return this.value}}function propFilter(prop){return function filterByName(list){let filters=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(Object(external_osdSharedDeps_Lodash_["isFunction"])(filters)){return list.filter(item=>filters(item[prop]))}if(!Array.isArray(filters)){filters=filters.split(",")}if(filters.length===0){return list}if(filters.includes("*")){return list}const options=filters.reduce((acc,filter)=>{let type="include";let value=filter;if(filter.charAt(0)==="!"){type="exclude";value=filter.substr(1)}if(!acc[type]){acc[type]=[]}acc[type].push(value);return acc},{});return list.filter(item=>{const value=item[prop];const excluded=options.exclude&&options.exclude.includes(value);if(excluded){return false}const included=!options.include||options.include.includes(value);if(included){return true}return false})}}function toAngularJSON(obj,pretty){if(obj===undefined)return"";if(typeof pretty==="number"){pretty=pretty?2:null}return JSON.stringify(obj,toJsonReplacer,pretty)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function toJsonReplacer(key,value){let val=value;if(typeof key==="string"&&key.charAt(0)==="$"&&key.charAt(1)==="$"){val=undefined}else if(isWindow(value)){val="$WINDOW"}else if(value&&window.document===value){val="$DOCUMENT"}else if(isScope(value)){val="$SCOPE"}return val}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return asPrettyString}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getHighlightHtml}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getHighlightRequest}));function asPrettyString(val){if(val===null||val===undefined)return" - ";switch(typeof val){case"string":return val;case"object":return JSON.stringify(val,null,"  ");default:return""+val}}var external_osdSharedDeps_Lodash_=__webpack_require__(2);var external_osdSharedDeps_Lodash_default=__webpack_require__.n(external_osdSharedDeps_Lodash_);const highlightTags={pre:"@opensearch-dashboards-highlighted-field@",post:"@/opensearch-dashboards-highlighted-field@"};const htmlTags={pre:"<mark>",post:"</mark>"};function getHighlightHtml(fieldValue,highlights){let highlightHtml=typeof fieldValue==="object"?JSON.stringify(fieldValue):fieldValue;external_osdSharedDeps_Lodash_default.a.each(highlights,(function(highlight){const escapedHighlight=external_osdSharedDeps_Lodash_default.a.escape(highlight);const untaggedHighlight=escapedHighlight.split(highlightTags.pre).join("").split(highlightTags.post).join("");const taggedHighlight=escapedHighlight.split(highlightTags.pre).join(htmlTags.pre).split(highlightTags.post).join(htmlTags.post);highlightHtml=highlightHtml.split(untaggedHighlight).join(taggedHighlight)}));return highlightHtml}const FRAGMENT_SIZE=Math.pow(2,31)-1;function getHighlightRequest(query,shouldHighlight){if(!shouldHighlight)return;return{pre_tags:[highlightTags.pre],post_tags:[highlightTags.post],fields:{"*":{}},fragment_size:FRAGMENT_SIZE}}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/opensearchDashboardsUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return errors_IndexPatternMissingIndices}));__webpack_require__.d(__webpack_exports__,"g",(function(){return getTitle}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getFromSavedObject}));__webpack_require__.d(__webpack_exports__,"h",(function(){return isDefault}));__webpack_require__.d(__webpack_exports__,"c",(function(){return ILLEGAL_CHARACTERS_KEY}));__webpack_require__.d(__webpack_exports__,"a",(function(){return CONTAINS_SPACES_KEY}));__webpack_require__.d(__webpack_exports__,"d",(function(){return ILLEGAL_CHARACTERS_VISIBLE}));__webpack_require__.d(__webpack_exports__,"b",(function(){return ILLEGAL_CHARACTERS}));__webpack_require__.d(__webpack_exports__,"i",(function(){return validateIndexPattern}));var common_=__webpack_require__(16);class errors_IndexPatternMissingIndices extends common_["OsdError"]{constructor(message){const defaultMessage="IndexPattern's configured pattern does not match any indices";super(message&&message.length?"No matching indices found: ".concat(message):defaultMessage)}}async function getTitle(client,indexPatternId){const savedObject=await client.get("index-pattern",indexPatternId);if(savedObject.error){throw new Error("Unable to get index-pattern title: ".concat(savedObject.error.message))}return savedObject.attributes.title}var external_osdSharedDeps_Lodash_=__webpack_require__(2);function getFromSavedObject(savedObject){if(Object(external_osdSharedDeps_Lodash_["get"])(savedObject,"attributes.fields")===undefined){return}return{id:savedObject.id,fields:JSON.parse(savedObject.attributes.fields),title:savedObject.attributes.title}}const isDefault=indexPattern=>!indexPattern.type;const ILLEGAL_CHARACTERS_KEY="ILLEGAL_CHARACTERS";const CONTAINS_SPACES_KEY="CONTAINS_SPACES";const ILLEGAL_CHARACTERS_VISIBLE=["\\","/","?",'"',"<",">","|"];const ILLEGAL_CHARACTERS=ILLEGAL_CHARACTERS_VISIBLE.concat(" ");function indexPatternContainsSpaces(indexPattern){return indexPattern.includes(" ")}function findIllegalCharacters(indexPattern){const illegalCharacters=ILLEGAL_CHARACTERS_VISIBLE.reduce((chars,char)=>{if(indexPattern.includes(char)){chars.push(char)}return chars},[]);return illegalCharacters}function validateIndexPattern(indexPattern){const errors={};const illegalCharacters=findIllegalCharacters(indexPattern);if(illegalCharacters.length){errors[ILLEGAL_CHARACTERS_KEY]=illegalCharacters}if(indexPatternContainsSpaces(indexPattern)){errors[CONTAINS_SPACES_KEY]=true}return errors}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return agg_config["a"]}));__webpack_require__.d(__webpack_exports__,"c",(function(){return agg_configs_AggConfigs}));__webpack_require__.d(__webpack_exports__,"e",(function(){return AggGroupNames}));__webpack_require__.d(__webpack_exports__,"d",(function(){return AggGroupLabels}));__webpack_require__.d(__webpack_exports__,"C",(function(){return agg_type["a"]}));__webpack_require__.d(__webpack_exports__,"hb",(function(){return getAggTypes}));__webpack_require__.d(__webpack_exports__,"ib",(function(){return getAggTypesFunctions}));__webpack_require__.d(__webpack_exports__,"D",(function(){return AggTypesRegistry}));__webpack_require__.d(__webpack_exports__,"cb",(function(){return aggsRequiredUiSettings}));__webpack_require__.d(__webpack_exports__,"E",(function(){return aggs_service_AggsCommonService}));__webpack_require__.d(__webpack_exports__,"db",(function(){return _interval_options["a"]}));__webpack_require__.d(__webpack_exports__,"xb",(function(){return _interval_options["c"]}));__webpack_require__.d(__webpack_exports__,"wb",(function(){return _interval_options["b"]}));__webpack_require__.d(__webpack_exports__,"H",(function(){return bucket_agg_type["a"]}));__webpack_require__.d(__webpack_exports__,"yb",(function(){return bucket_agg_type["b"]}));__webpack_require__.d(__webpack_exports__,"F",(function(){return BUCKET_TYPES}));__webpack_require__.d(__webpack_exports__,"rb",(function(){return getHistogramBucketAgg}));__webpack_require__.d(__webpack_exports__,"zb",(function(){return isDateHistogramBucketAggConfig}));__webpack_require__.d(__webpack_exports__,"kb",(function(){return getDateHistogramBucketAgg}));__webpack_require__.d(__webpack_exports__,"lb",(function(){return getDateRangeBucketAgg}));__webpack_require__.d(__webpack_exports__,"tb",(function(){return getRangeBucketAgg}));__webpack_require__.d(__webpack_exports__,"mb",(function(){return getFilterBucketAgg}));__webpack_require__.d(__webpack_exports__,"nb",(function(){return getFiltersBucketAgg}));__webpack_require__.d(__webpack_exports__,"qb",(function(){return getGeoTitleBucketAgg}));__webpack_require__.d(__webpack_exports__,"pb",(function(){return getGeoHashBucketAgg}));__webpack_require__.d(__webpack_exports__,"R",(function(){return IP_RANGE_TYPES}));__webpack_require__.d(__webpack_exports__,"sb",(function(){return getIpRangeBucketAgg}));__webpack_require__.d(__webpack_exports__,"I",(function(){return cidr_mask_CidrMask}));__webpack_require__.d(__webpack_exports__,"eb",(function(){return date_range["b"]}));__webpack_require__.d(__webpack_exports__,"fb",(function(){return ip_range["b"]}));__webpack_require__.d(__webpack_exports__,"Eb",(function(){return isType}));__webpack_require__.d(__webpack_exports__,"Bb",(function(){return isNumberType}));__webpack_require__.d(__webpack_exports__,"Db",(function(){return isStringType}));__webpack_require__.d(__webpack_exports__,"Cb",(function(){return isStringOrNumberType}));__webpack_require__.d(__webpack_exports__,"Hb",(function(){return migrateIncludeExcludeFormat}));__webpack_require__.d(__webpack_exports__,"ub",(function(){return getSignificantTermsBucketAgg}));__webpack_require__.d(__webpack_exports__,"Pb",(function(){return termsAggFilter}));__webpack_require__.d(__webpack_exports__,"vb",(function(){return getTermsBucketAgg}));__webpack_require__.d(__webpack_exports__,"Y",(function(){return metric_agg_type_MetricAggType}));__webpack_require__.d(__webpack_exports__,"Ab",(function(){return isMetricAggType}));__webpack_require__.d(__webpack_exports__,"X",(function(){return METRIC_TYPES}));__webpack_require__.d(__webpack_exports__,"Jb",(function(){return parentPipelineType}));__webpack_require__.d(__webpack_exports__,"Ib",(function(){return parentPipelineAggHelper}));__webpack_require__.d(__webpack_exports__,"Ob",(function(){return siblingPipelineType}));__webpack_require__.d(__webpack_exports__,"Nb",(function(){return siblingPipelineAggHelper}));__webpack_require__.d(__webpack_exports__,"i",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"n",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"q",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"r",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"s",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"t",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"u",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"z",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"A",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"j",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"k",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"l",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"m",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"o",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"p",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"v",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"w",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"x",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"y",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"B",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"h",(function(){return param_types_agg["a"]}));__webpack_require__.d(__webpack_exports__,"G",(function(){return base["a"]}));__webpack_require__.d(__webpack_exports__,"L",(function(){return param_types_field["a"]}));__webpack_require__.d(__webpack_exports__,"W",(function(){return json["a"]}));__webpack_require__.d(__webpack_exports__,"Z",(function(){return optioned["a"]}));__webpack_require__.d(__webpack_exports__,"bb",(function(){return string["a"]}));__webpack_require__.d(__webpack_exports__,"M",(function(){return agg_config["IAggConfig"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return agg_config["AggConfigSerialized"]}));__webpack_require__.d(__webpack_exports__,"J",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"N",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"O",(function(){return agg_type["IAggType"]}));__webpack_require__.d(__webpack_exports__,"f",(function(){return agg_params["AggParam"]}));__webpack_require__.d(__webpack_exports__,"g",(function(){return agg_params["AggParamOption"]}));__webpack_require__.d(__webpack_exports__,"P",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"Q",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"K",(function(){return date_range["DateRangeKey"]}));__webpack_require__.d(__webpack_exports__,"U",(function(){return ip_range["IpRangeKey"]}));__webpack_require__.d(__webpack_exports__,"ab",(function(){return optioned["OptionedValueProp"]}));__webpack_require__.d(__webpack_exports__,"jb",(function(){return utils["e"]}));__webpack_require__.d(__webpack_exports__,"gb",(function(){return utils["d"]}));__webpack_require__.d(__webpack_exports__,"S",(function(){return utils["a"]}));__webpack_require__.d(__webpack_exports__,"T",(function(){return utils["b"]}));__webpack_require__.d(__webpack_exports__,"Gb",(function(){return utils["h"]}));__webpack_require__.d(__webpack_exports__,"Fb",(function(){return utils["g"]}));__webpack_require__.d(__webpack_exports__,"Kb",(function(){return utils["i"]}));__webpack_require__.d(__webpack_exports__,"Lb",(function(){return utils["j"]}));__webpack_require__.d(__webpack_exports__,"Qb",(function(){return utils["l"]}));__webpack_require__.d(__webpack_exports__,"ob",(function(){return utils["f"]}));__webpack_require__.d(__webpack_exports__,"V",(function(){return utils["c"]}));__webpack_require__.d(__webpack_exports__,"Mb",(function(){return utils["k"]}));__webpack_require__.d(__webpack_exports__,"Rb",(function(){return utils["m"]}));var agg_config=__webpack_require__(30);var external_osdSharedDeps_Lodash_=__webpack_require__(2);var external_osdSharedDeps_Lodash_default=__webpack_require__.n(external_osdSharedDeps_Lodash_);var external_osdSharedDeps_OsdI18n_=__webpack_require__(0);const AggGroupNames=Object.freeze({Buckets:"buckets",Metrics:"metrics",None:"none"});const AggGroupLabels={[AggGroupNames.Buckets]:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.aggGroups.bucketsText",{defaultMessage:"Buckets"}),[AggGroupNames.Metrics]:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.aggGroups.metricsText",{defaultMessage:"Metrics"}),[AggGroupNames.None]:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.aggGroups.noneText",{defaultMessage:"None"})};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function removeParentAggs(obj){for(const prop in obj){if(prop==="parentAggs")delete obj[prop];else if(typeof obj[prop]==="object")removeParentAggs(obj[prop])}}function parseParentAggs(dslLvlCursor,dsl){if(dsl.parentAggs){external_osdSharedDeps_Lodash_default.a.each(dsl.parentAggs,(agg,key)=>{dslLvlCursor[key]=agg;parseParentAggs(dslLvlCursor,agg)})}}class agg_configs_AggConfigs{constructor(indexPattern){var _this=this;let configStates=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let opts=arguments.length>2?arguments[2]:undefined;_defineProperty(this,"indexPattern",void 0);_defineProperty(this,"timeRange",void 0);_defineProperty(this,"typesRegistry",void 0);_defineProperty(this,"aggs",void 0);_defineProperty(this,"createAggConfig",(function(params){let{addToAggConfigs:addToAggConfigs=true,mustBeFirst:mustBeFirst=false}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{type:type}=params;let aggConfig;if(params instanceof agg_config["a"]){aggConfig=params;params.parent=_this}else{aggConfig=new agg_config["a"](_this,{...params,type:typeof type==="string"?_this.typesRegistry.get(type):type})}const addAggConfig=()=>mustBeFirst?_this.aggs.unshift(aggConfig):_this.aggs.push(aggConfig);if(addToAggConfigs){addAggConfig()}return aggConfig}));this.typesRegistry=opts.typesRegistry;configStates=agg_config["a"].ensureIds(configStates);this.aggs=[];this.indexPattern=indexPattern;configStates.forEach(params=>this.createAggConfig(params))}setTimeRange(timeRange){this.timeRange=timeRange;const updateAggTimeRange=agg=>{external_osdSharedDeps_Lodash_default.a.each(agg.params,param=>{if(param instanceof agg_config["a"]){updateAggTimeRange(param)}});if(external_osdSharedDeps_Lodash_default.a.get(agg,"type.name")==="date_histogram"){agg.params.timeRange=timeRange}};this.aggs.forEach(updateAggTimeRange)}clone(){let{enabledOnly:enabledOnly=true}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const filterAggs=agg=>{if(!enabledOnly)return true;return agg.enabled};const aggConfigs=new agg_configs_AggConfigs(this.indexPattern,this.aggs.filter(filterAggs),{typesRegistry:this.typesRegistry});return aggConfigs}jsonDataEquals(aggConfigs){if(aggConfigs.length!==this.aggs.length){return false}for(let i=0;i<this.aggs.length;i+=1){if(!external_osdSharedDeps_Lodash_default.a.isEqual(aggConfigs[i].toJSON(),this.aggs[i].toJSON())){return false}}return true}toDsl(){let hierarchical=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const dslTopLvl={};let dslLvlCursor;let nestedMetrics;if(hierarchical){nestedMetrics=this.aggs.filter((function(agg){return agg.type.type==="metrics"&&agg.type.name!=="count"})).map(agg=>({config:agg,dsl:agg.toDsl(this)}))}this.getRequestAggs().filter(config=>!config.type.hasNoDsl).forEach((config,i,list)=>{if(!dslLvlCursor){dslLvlCursor=dslTopLvl}else{const prevConfig=list[i-1];const prevDsl=dslLvlCursor[prevConfig.id];dslLvlCursor=prevDsl.aggs||dslLvlCursor}const dsl=dslLvlCursor[config.id]=config.toDsl(this);let subAggs;parseParentAggs(dslLvlCursor,dsl);if(config.type.type===AggGroupNames.Buckets&&i<list.length-1){subAggs=dsl.aggs||(dsl.aggs={})}if(subAggs&&nestedMetrics){nestedMetrics.forEach(agg=>{subAggs[agg.config.id]=agg.dsl;if(agg.dsl.parentAggs){Object.entries(agg.dsl.parentAggs).forEach(_ref=>{let[parentAggId,parentAgg]=_ref;subAggs[parentAggId]=parentAgg})}})}});removeParentAggs(dslTopLvl);return dslTopLvl}getAll(){return[...this.aggs]}byIndex(index){return this.aggs[index]}byId(id){return this.aggs.find(agg=>agg.id===id)}byName(name){return this.aggs.filter(agg=>{var _agg$type;return((_agg$type=agg.type)===null||_agg$type===void 0?void 0:_agg$type.name)===name})}byType(type){return this.aggs.filter(agg=>{var _agg$type2;return((_agg$type2=agg.type)===null||_agg$type2===void 0?void 0:_agg$type2.type)===type})}byTypeName(type){return this.byName(type)}bySchemaName(schema){return this.aggs.filter(agg=>agg.schema===schema)}getRequestAggs(){const aggregations=this.aggs.filter(agg=>agg.enabled&&agg.type).reduce((requestValuesAggs,agg)=>{const aggs=agg.getRequestAggs();return aggs?requestValuesAggs.concat(aggs):requestValuesAggs},[]);return external_osdSharedDeps_Lodash_default.a.sortBy(aggregations,agg=>agg.type.type===AggGroupNames.Metrics?1:0)}getRequestAggById(id){return this.aggs.find(agg=>agg.id===id)}getResponseAggs(){return this.getRequestAggs().reduce((function(responseValuesAggs,agg){const aggs=agg.getResponseAggs();return aggs?responseValuesAggs.concat(aggs):responseValuesAggs}),[])}getResponseAggById(id){id=String(id);const reqAgg=external_osdSharedDeps_Lodash_default.a.find(this.getRequestAggs(),(function(agg){return id.substr(0,String(agg.id).length)===agg.id}));if(!reqAgg)return;return external_osdSharedDeps_Lodash_default.a.find(reqAgg.getResponseAggs(),{id:id})}onSearchRequestStart(searchSource,options){return Promise.all(this.getRequestAggs().map(agg=>agg.onSearchRequestStart(searchSource,options)))}}var agg_type=__webpack_require__(36);var _interval_options=__webpack_require__(19);var bucket_agg_type=__webpack_require__(13);let BUCKET_TYPES;(function(BUCKET_TYPES){BUCKET_TYPES["FILTER"]="filter";BUCKET_TYPES["FILTERS"]="filters";BUCKET_TYPES["HISTOGRAM"]="histogram";BUCKET_TYPES["IP_RANGE"]="ip_range";BUCKET_TYPES["DATE_RANGE"]="date_range";BUCKET_TYPES["RANGE"]="range";BUCKET_TYPES["TERMS"]="terms";BUCKET_TYPES["SIGNIFICANT_TERMS"]="significant_terms";BUCKET_TYPES["GEOHASH_GRID"]="geohash_grid";BUCKET_TYPES["GEOTILE_GRID"]="geotile_grid";BUCKET_TYPES["DATE_HISTOGRAM"]="date_histogram"})(BUCKET_TYPES||(BUCKET_TYPES={}));var common=__webpack_require__(1);const createFilterHistogram=getFieldFormatsStart=>(aggConfig,key)=>{const{deserialize:deserialize}=getFieldFormatsStart();const value=parseInt(key,10);const params={gte:value,lt:value+aggConfig.params.interval};return Object(common["buildRangeFilter"])(aggConfig.params.field,params,aggConfig.getIndexPattern(),deserialize(aggConfig.toSerializedFieldFormat()).convert(key))};var types=__webpack_require__(31);const roundInterval=minInterval=>{const orderOfMagnitude=Math.pow(10,Math.floor(Math.log10(minInterval)));let interval=orderOfMagnitude;while(interval<minInterval){interval+=orderOfMagnitude}return interval};const calculateForGivenInterval=(diff,interval,maxBucketsUiSettings)=>{const bars=diff/interval;if(bars>maxBucketsUiSettings){const minInterval=diff/maxBucketsUiSettings;return roundInterval(minInterval)}return interval};const calculateAutoInterval=(diff,maxBars,esTypes)=>{const exactInterval=diff/maxBars;if(diff<maxBars&&esTypes.every(opensearchType=>[types["b"].INTEGER,types["b"].LONG,types["b"].SHORT,types["b"].BYTE].includes(opensearchType))){return 1}const lowerPower=Math.pow(10,Math.floor(Math.log10(exactInterval)));const autoBuckets=diff/lowerPower;if(autoBuckets>maxBars){if(autoBuckets/2<=maxBars){return lowerPower*2}else if(autoBuckets/5<=maxBars){return lowerPower*5}else{return lowerPower*10}}return lowerPower};const calculateHistogramInterval=_ref=>{let{interval:interval,maxBucketsUiSettings:maxBucketsUiSettings,maxBucketsUserInput:maxBucketsUserInput,intervalBase:intervalBase,values:values,esTypes:esTypes}=_ref;const isAuto=Object(_interval_options["c"])(interval);let calculatedInterval=isAuto?0:parseFloat(interval);if(Number.isNaN(calculatedInterval)){return calculatedInterval}if(values){const diff=values.max-values.min;if(diff){calculatedInterval=isAuto?calculateAutoInterval(diff,Math.min(maxBucketsUiSettings,maxBucketsUserInput||maxBucketsUiSettings),esTypes):calculateForGivenInterval(diff,calculatedInterval,maxBucketsUiSettings)}}if(intervalBase){if(calculatedInterval<intervalBase){calculatedInterval=intervalBase}else if(calculatedInterval%intervalBase!==0){calculatedInterval=Math.round(calculatedInterval/intervalBase)*intervalBase}}const defaultValueForUnspecifiedInterval=1;return calculatedInterval||defaultValueForUnspecifiedInterval};const getHistogramBucketAgg=_ref=>{let{getConfig:getConfig,getFieldFormatsStart:getFieldFormatsStart}=_ref;return new bucket_agg_type["a"]({name:BUCKET_TYPES.HISTOGRAM,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogramTitle",{defaultMessage:"Histogram"}),ordered:{},makeLabel(aggConfig){return aggConfig.getFieldDisplayName()},createFilter:createFilterHistogram(getFieldFormatsStart),decorateAggConfig(){let autoBounds;return{setAutoBounds:{configurable:true,value(newValue){autoBounds=newValue}},getAutoBounds:{configurable:true,value(){return autoBounds}}}},params:[{name:"field",type:"field",filterFieldTypes:common["OSD_FIELD_TYPES"].NUMBER},{name:"intervalBase",default:null,write:()=>{}},{name:"interval",default:_interval_options["a"],modifyAggConfigOnSearchRequestStart(aggConfig,searchSource,options){const field=aggConfig.getField();const aggBody=field.scripted?{script:{source:field.script,lang:field.lang}}:{field:field.name};const childSearchSource=searchSource.createChild().setField("size",0).setField("aggs",{maxAgg:{max:aggBody},minAgg:{min:aggBody}});return childSearchSource.fetch(options).then(resp=>{var _resp$aggregations$mi,_resp$aggregations,_resp$aggregations$mi2,_resp$aggregations$ma,_resp$aggregations2,_resp$aggregations2$m;const min=(_resp$aggregations$mi=(_resp$aggregations=resp.aggregations)===null||_resp$aggregations===void 0?void 0:(_resp$aggregations$mi2=_resp$aggregations.minAgg)===null||_resp$aggregations$mi2===void 0?void 0:_resp$aggregations$mi2.value)!==null&&_resp$aggregations$mi!==void 0?_resp$aggregations$mi:0;const max=(_resp$aggregations$ma=(_resp$aggregations2=resp.aggregations)===null||_resp$aggregations2===void 0?void 0:(_resp$aggregations2$m=_resp$aggregations2.maxAgg)===null||_resp$aggregations2$m===void 0?void 0:_resp$aggregations2$m.value)!==null&&_resp$aggregations$ma!==void 0?_resp$aggregations$ma:0;aggConfig.setAutoBounds({min:min,max:max})}).catch(e=>{if(e.name==="AbortError")return;throw new Error(external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.histogram.missingMaxMinValuesWarning",{defaultMessage:"Unable to retrieve max and min values to auto-scale histogram buckets. This may lead to poor visualization performance."}))})},write(aggConfig,output){var _aggConfig$params$fie,_aggConfig$params$fie2;const values=aggConfig.getAutoBounds();output.params.interval=calculateHistogramInterval({values:values,interval:aggConfig.params.interval,maxBucketsUiSettings:getConfig(common["UI_SETTINGS"].HISTOGRAM_MAX_BARS),maxBucketsUserInput:aggConfig.params.maxBars,intervalBase:aggConfig.params.intervalBase,esTypes:((_aggConfig$params$fie=aggConfig.params.field)===null||_aggConfig$params$fie===void 0?void 0:(_aggConfig$params$fie2=_aggConfig$params$fie.spec)===null||_aggConfig$params$fie2===void 0?void 0:_aggConfig$params$fie2.esTypes)||[]})}},{name:"maxBars",shouldShow(agg){return Object(_interval_options["c"])(Object(external_osdSharedDeps_Lodash_["get"])(agg,"params.interval"))},write:()=>{}},{name:"min_doc_count",default:false,write(aggConfig,output){if(aggConfig.params.min_doc_count){output.params.min_doc_count=0}else{output.params.min_doc_count=1}}},{name:"has_extended_bounds",default:false,write:()=>{}},{name:"extended_bounds",default:{min:"",max:""},write(aggConfig,output){const{min:min,max:max}=aggConfig.params.extended_bounds;if(aggConfig.params.has_extended_bounds&&(min||min===0)&&(max||max===0)){output.params.extended_bounds={min:min,max:max}}},shouldShow:aggConfig=>aggConfig.params.has_extended_bounds}]})};var external_osdSharedDeps_MomentTimezone_=__webpack_require__(33);var external_osdSharedDeps_MomentTimezone_default=__webpack_require__.n(external_osdSharedDeps_MomentTimezone_);var external_osdSharedDeps_Moment_=__webpack_require__(5);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);const createFilterDateHistogram=(agg,key)=>{const start=external_osdSharedDeps_Moment_default()(key);const interval=agg.buckets.getInterval();return Object(common["buildRangeFilter"])(agg.params.field,{gte:start.toISOString(),lt:start.add(interval).toISOString(),format:"strict_date_optional_time"},agg.getIndexPattern())};var time_buckets=__webpack_require__(72);var agg_params=__webpack_require__(35);let METRIC_TYPES;(function(METRIC_TYPES){METRIC_TYPES["AVG"]="avg";METRIC_TYPES["CARDINALITY"]="cardinality";METRIC_TYPES["AVG_BUCKET"]="avg_bucket";METRIC_TYPES["MAX_BUCKET"]="max_bucket";METRIC_TYPES["MIN_BUCKET"]="min_bucket";METRIC_TYPES["SUM_BUCKET"]="sum_bucket";METRIC_TYPES["COUNT"]="count";METRIC_TYPES["CUMULATIVE_SUM"]="cumulative_sum";METRIC_TYPES["DERIVATIVE"]="derivative";METRIC_TYPES["GEO_BOUNDS"]="geo_bounds";METRIC_TYPES["GEO_CENTROID"]="geo_centroid";METRIC_TYPES["MEDIAN"]="median";METRIC_TYPES["MIN"]="min";METRIC_TYPES["MAX"]="max";METRIC_TYPES["MOVING_FN"]="moving_avg";METRIC_TYPES["SERIAL_DIFF"]="serial_diff";METRIC_TYPES["SUM"]="sum";METRIC_TYPES["TOP_HITS"]="top_hits";METRIC_TYPES["PERCENTILES"]="percentiles";METRIC_TYPES["PERCENTILE_RANKS"]="percentile_ranks";METRIC_TYPES["STD_DEV"]="std_dev"})(METRIC_TYPES||(METRIC_TYPES={}));function metric_agg_type_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const metricType="metrics";class metric_agg_type_MetricAggType extends agg_type["a"]{constructor(config){super(config);metric_agg_type_defineProperty(this,"subtype",void 0);metric_agg_type_defineProperty(this,"isScalable",void 0);metric_agg_type_defineProperty(this,"type",metricType);metric_agg_type_defineProperty(this,"getKey",()=>{});this.getValue=config.getValue||((agg,bucket)=>{const isSettableToZero=[METRIC_TYPES.CARDINALITY,METRIC_TYPES.SUM].includes(agg.type.name);if(!bucket[agg.id]&&isSettableToZero)return 0;return bucket[agg.id]&&bucket[agg.id].value});this.subtype=config.subtype||external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.metricAggregationsSubtypeTitle",{defaultMessage:"Metric Aggregations"});this.isScalable=config.isScalable||(()=>false)}}function isMetricAggType(aggConfig){return aggConfig&&aggConfig.type===metricType}var utils=__webpack_require__(24);const updateTimeBuckets=(agg,calculateBounds,customBuckets)=>{const bounds=agg.params.timeRange&&(agg.fieldIsTimeField()||Object(_interval_options["c"])(agg.params.interval))?calculateBounds(agg.params.timeRange):undefined;const buckets=customBuckets||agg.buckets;buckets.setBounds(bounds);buckets.setInterval(agg.params.interval)};function isDateHistogramBucketAggConfig(agg){return Boolean(agg.buckets)}const getDateHistogramBucketAgg=_ref=>{let{calculateBounds:calculateBounds,isDefaultTimezone:isDefaultTimezone,getConfig:getConfig}=_ref;return new bucket_agg_type["a"]({name:BUCKET_TYPES.DATE_HISTOGRAM,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogramTitle",{defaultMessage:"Date Histogram"}),ordered:{date:true},makeLabel(agg){let output={};if(this.params){output=Object(agg_params["d"])(this.params,agg)}const field=agg.getFieldDisplayName();return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogramLabel",{defaultMessage:"{fieldName} per {intervalDescription}",values:{fieldName:field,intervalDescription:output.metricScaleText||output.bucketInterval.description}})},createFilter:createFilterDateHistogram,decorateAggConfig(){let buckets;return{buckets:{configurable:true,get(){if(buckets)return buckets;buckets=new time_buckets["a"]({"histogram:maxBars":getConfig(common["UI_SETTINGS"].HISTOGRAM_MAX_BARS),"histogram:barTarget":getConfig(common["UI_SETTINGS"].HISTOGRAM_BAR_TARGET),dateFormat:getConfig("dateFormat"),"dateFormat:scaled":getConfig("dateFormat:scaled")});updateTimeBuckets(this,calculateBounds,buckets);return buckets}}}},getSerializedFormat(agg){return{id:"date",params:{pattern:agg.buckets.getScaledDateFormat()}}},params:[{name:"field",type:"field",filterFieldTypes:common["OSD_FIELD_TYPES"].DATE,default(agg){return agg.getIndexPattern().timeFieldName},onChange(agg){if(Object(_interval_options["c"])(Object(external_osdSharedDeps_Lodash_["get"])(agg,"params.interval"))&&!agg.fieldIsTimeField()){delete agg.params.interval}}},{name:"timeRange",default:null,write:external_osdSharedDeps_Lodash_["noop"]},{name:"useNormalizedOpenSearchInterval",default:true,write:external_osdSharedDeps_Lodash_["noop"]},{name:"scaleMetricValues",default:false,write:external_osdSharedDeps_Lodash_["noop"],advanced:true},{name:"interval",deserialize(state,agg){if(state==="custom"){return Object(external_osdSharedDeps_Lodash_["get"])(agg,"params.customInterval")}const interval=Object(external_osdSharedDeps_Lodash_["find"])(_interval_options["b"],{val:state});if(!interval&&state==="year"){return"y"}return state},default:_interval_options["a"],options:_interval_options["b"],write(agg,output,aggs){updateTimeBuckets(agg,calculateBounds);const{useNormalizedOpenSearchInterval:useNormalizedOpenSearchInterval,scaleMetricValues:scaleMetricValues}=agg.params;const interval=agg.buckets.getInterval(useNormalizedOpenSearchInterval);output.bucketInterval=interval;if(interval.expression==="0ms"){return}output.params={...output.params,...Object(utils["d"])(interval.expression)};const scaleMetrics=scaleMetricValues&&interval.scaled&&interval.scale&&interval.scale<1;if(scaleMetrics&&aggs){const metrics=aggs.aggs.filter(a=>isMetricAggType(a.type));const all=Object(external_osdSharedDeps_Lodash_["every"])(metrics,a=>{const{type:type}=a;if(isMetricAggType(type)){return type.isScalable()}});if(all){var _interval$preScaled;output.metricScale=interval.scale;output.metricScaleText=((_interval$preScaled=interval.preScaled)===null||_interval$preScaled===void 0?void 0:_interval$preScaled.description)||""}}}},{name:"time_zone",default:undefined,serialize:external_osdSharedDeps_Lodash_["noop"],write(agg,output){let tz=agg.params.time_zone;if(!tz&&agg.params.field){tz=Object(external_osdSharedDeps_Lodash_["get"])(agg.getIndexPattern(),["typeMeta","aggs","date_histogram",agg.params.field.name,"time_zone"])}if(!tz){const detectedTimezone=external_osdSharedDeps_MomentTimezone_default.a.tz.guess();const tzOffset=external_osdSharedDeps_MomentTimezone_default()().format("Z");tz=isDefaultTimezone()?detectedTimezone||tzOffset:getConfig("dateFormat:tz")}output.params.time_zone=tz}},{name:"drop_partials",default:false,write:external_osdSharedDeps_Lodash_["noop"],shouldShow:agg=>{const field=agg.params.field;return field&&field.name&&field.name===agg.getIndexPattern().timeFieldName}},{name:"format"},{name:"min_doc_count",default:1},{name:"extended_bounds",default:{},write(agg,output){const val=agg.params.extended_bounds;if(val.min!=null||val.max!=null){output.params.extended_bounds={min:external_osdSharedDeps_MomentTimezone_default()(val.min).valueOf(),max:external_osdSharedDeps_MomentTimezone_default()(val.max).valueOf()};return}}}]})};const createFilterDateRange=(agg,_ref)=>{let{from:from,to:to}=_ref;const filter={};if(from)filter.gte=external_osdSharedDeps_Moment_default()(from).toISOString();if(to)filter.lt=external_osdSharedDeps_Moment_default()(to).toISOString();if(to&&from)filter.format="strict_date_optional_time";return Object(common["buildRangeFilter"])(agg.params.field,filter,agg.getIndexPattern())};var osd_field_types_types=__webpack_require__(4);const dateRangeTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateRangeTitle",{defaultMessage:"Date Range"});const getDateRangeBucketAgg=_ref=>{let{isDefaultTimezone:isDefaultTimezone,getConfig:getConfig}=_ref;return new bucket_agg_type["a"]({name:BUCKET_TYPES.DATE_RANGE,title:dateRangeTitle,createFilter:createFilterDateRange,getKey(_ref2){let{from:from,to:to}=_ref2;return{from:from,to:to}},getSerializedFormat(agg){return{id:"date_range",params:agg.params.field?agg.aggConfigs.indexPattern.getFormatterForField(agg.params.field).toJSON():{}}},makeLabel(aggConfig){return aggConfig.getFieldDisplayName()+" date ranges"},params:[{name:"field",type:"field",filterFieldTypes:osd_field_types_types["b"].DATE,default(agg){return agg.getIndexPattern().timeFieldName}},{name:"ranges",default:[{from:"now-1w/w",to:"now"}]},{name:"time_zone",default:undefined,serialize:()=>undefined,write:(agg,output)=>{const field=agg.getParam("field");let tz=agg.getParam("time_zone");if(!tz&&field){tz=Object(external_osdSharedDeps_Lodash_["get"])(agg.getIndexPattern(),["typeMeta","aggs","date_range",field.name,"time_zone"])}if(!tz){const detectedTimezone=external_osdSharedDeps_MomentTimezone_default.a.tz.guess();const tzOffset=external_osdSharedDeps_MomentTimezone_default()().format("Z");tz=isDefaultTimezone()?detectedTimezone||tzOffset:getConfig("dateFormat:tz")}output.params.time_zone=tz}}]})};function range_key_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const range_key_id=Symbol("id");class RangeKey{constructor(bucket){range_key_defineProperty(this,range_key_id,void 0);range_key_defineProperty(this,"gte",void 0);range_key_defineProperty(this,"lt",void 0);this.gte=bucket.from==null?-Infinity:bucket.from;this.lt=bucket.to==null?+Infinity:bucket.to;this[range_key_id]=RangeKey.idBucket(bucket)}static idBucket(bucket){return"from:".concat(bucket.from,",to:").concat(bucket.to)}toString(){return this[range_key_id]}}const createFilterRange=getFieldFormatsStart=>(aggConfig,params)=>{const{deserialize:deserialize}=getFieldFormatsStart();return Object(common["buildRangeFilter"])(aggConfig.params.field,params,aggConfig.getIndexPattern(),deserialize(aggConfig.toSerializedFieldFormat()).convert(params))};const rangeTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.rangeTitle",{defaultMessage:"Range"});const getRangeBucketAgg=_ref=>{let{getFieldFormatsStart:getFieldFormatsStart}=_ref;const keyCaches=new WeakMap;return new bucket_agg_type["a"]({name:BUCKET_TYPES.RANGE,title:rangeTitle,createFilter:createFilterRange(getFieldFormatsStart),makeLabel(aggConfig){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.aggTypesLabel",{defaultMessage:"{fieldName} ranges",values:{fieldName:aggConfig.getFieldDisplayName()}})},getKey(bucket,key,agg){let keys=keyCaches.get(agg);if(!keys){keys=new Map;keyCaches.set(agg,keys)}const id=RangeKey.idBucket(bucket);key=keys.get(id);if(!key){key=new RangeKey(bucket);keys.set(id,key)}return key},getSerializedFormat(agg){const format=agg.params.field?agg.aggConfigs.indexPattern.getFormatterForField(agg.params.field).toJSON():{id:undefined,params:undefined};return{id:"range",params:{id:format.id,params:format.params}}},params:[{name:"field",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER]},{name:"ranges",default:[{from:0,to:1e3},{from:1e3,to:2e3}],write(aggConfig,output){output.params.ranges=aggConfig.params.ranges;output.params.keyed=true}}]})};const filterTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filterTitle",{defaultMessage:"Filter"});const getFilterBucketAgg=()=>new bucket_agg_type["a"]({name:BUCKET_TYPES.FILTER,title:filterTitle,makeLabel:()=>filterTitle,params:[{name:"geo_bounding_box"}]});const createFilterFilters=(aggConfig,key)=>{const dslFilters=Object(external_osdSharedDeps_Lodash_["get"])(aggConfig.toDsl(),"filters.filters");const filter=dslFilters[key];const indexPattern=aggConfig.getIndexPattern();if(filter&&indexPattern&&indexPattern.id){return Object(common["buildQueryFilter"])(filter,indexPattern.id,key)}};const filtersTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filtersTitle",{defaultMessage:"Filters",description:"The name of an aggregation, that allows to specify multiple individual filters to group data by."});const getFiltersBucketAgg=_ref=>{let{getConfig:getConfig}=_ref;return new bucket_agg_type["a"]({name:BUCKET_TYPES.FILTERS,title:filtersTitle,createFilter:createFilterFilters,customLabels:false,params:[{name:"filters",default:()=>[{input:{query:"",language:getConfig(common["UI_SETTINGS"].SEARCH_QUERY_LANGUAGE)},label:""}],write(aggConfig,output){const inFilters=aggConfig.params.filters;if(!Object(external_osdSharedDeps_Lodash_["size"])(inFilters))return;const outFilters=Object(external_osdSharedDeps_Lodash_["transform"])(inFilters,(function(filters,filter){const input=Object(external_osdSharedDeps_Lodash_["cloneDeep"])(filter.input);if(!input){console.log('malformed filter agg params, missing "input" query');return}const opensearchQueryConfigs=Object(common["getOpenSearchQueryConfig"])({get:getConfig});const query=Object(common["buildOpenSearchQuery"])(aggConfig.getIndexPattern(),[input],[],opensearchQueryConfigs);if(!query){console.log('malformed filter agg params, missing "query" on input');return}const matchAllLabel=filter.input.query===""?"*":"";const label=filter.label||matchAllLabel||(typeof filter.input.query==="string"?filter.input.query:Object(utils["m"])(filter.input.query));filters[label]=query}),{});if(!Object(external_osdSharedDeps_Lodash_["size"])(outFilters))return;const params=output.params||(output.params={});params.filters=outFilters}}]})};const geotileGridTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geotileGridTitle",{defaultMessage:"Geotile"});const getGeoTitleBucketAgg=()=>new bucket_agg_type["a"]({name:BUCKET_TYPES.GEOTILE_GRID,title:geotileGridTitle,params:[{name:"field",type:"field",filterFieldTypes:common["OSD_FIELD_TYPES"].GEO_POINT},{name:"useGeocentroid",default:true,write:external_osdSharedDeps_Lodash_["noop"]},{name:"precision",default:0}],getRequestAggs(agg){const aggs=[];const useGeocentroid=agg.getParam("useGeocentroid");aggs.push(agg);if(useGeocentroid){const aggConfig={type:METRIC_TYPES.GEO_CENTROID,enabled:true,params:{field:agg.getField()}};aggs.push(agg.aggConfigs.createAggConfig(aggConfig,{addToAggConfigs:false}))}return aggs}});const defaultBoundingBox={top_left:{lat:1,lon:1},bottom_right:{lat:0,lon:0}};const defaultPrecision=2;const geohashGridTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geohashGridTitle",{defaultMessage:"Geohash"});const getGeoHashBucketAgg=()=>new bucket_agg_type["a"]({name:BUCKET_TYPES.GEOHASH_GRID,title:geohashGridTitle,makeLabel:()=>geohashGridTitle,params:[{name:"field",type:"field",filterFieldTypes:common["OSD_FIELD_TYPES"].GEO_POINT},{name:"autoPrecision",default:true,write:()=>{}},{name:"precision",default:defaultPrecision,write(aggConfig,output){output.params.precision=aggConfig.params.precision}},{name:"useGeocentroid",default:true,write:()=>{}},{name:"isFilteredByCollar",default:true,write:()=>{}},{name:"boundingBox",default:null,write:()=>{}}],getRequestAggs(agg){const aggs=[];const params=agg.params;if(params.isFilteredByCollar&&agg.getField()){aggs.push(agg.aggConfigs.createAggConfig({type:"filter",id:"filter_agg",enabled:true,params:{geo_bounding_box:{ignore_unmapped:true,[agg.getField().name]:params.boundingBox||defaultBoundingBox}}},{addToAggConfigs:false}))}aggs.push(agg);if(params.useGeocentroid){aggs.push(agg.aggConfigs.createAggConfig({type:"geo_centroid",enabled:true,params:{field:agg.getField()}},{addToAggConfigs:false}))}return aggs}});function cidr_mask_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const NUM_BITS=32;function throwError(mask){throw Error("Invalid CIDR mask: "+mask)}class cidr_mask_CidrMask{constructor(mask){cidr_mask_defineProperty(this,"initialAddress",void 0);cidr_mask_defineProperty(this,"prefixLength",void 0);const splits=mask.split("/");if(splits.length!==2){throwError(mask)}this.initialAddress=new utils["c"](splits[0]);this.prefixLength=Number(splits[1]);if(isNaN(this.prefixLength)||this.prefixLength<1||this.prefixLength>NUM_BITS){throwError(mask)}}getRange(){const variableBits=NUM_BITS-this.prefixLength;const fromAddress=this.initialAddress.valueOf()>>variableBits<<variableBits>>>0;const numAddresses=Math.pow(2,variableBits);return{from:new utils["c"](fromAddress).toString(),to:new utils["c"](fromAddress+numAddresses-1).toString()}}toString(){return this.initialAddress.toString()+"/"+this.prefixLength}}const createFilterIpRange=(aggConfig,key)=>{let range;if(key.type==="mask"){range=new cidr_mask_CidrMask(key.mask).getRange()}else{range={from:key.from?key.from:-Infinity,to:key.to?key.to:Infinity}}return Object(common["buildRangeFilter"])(aggConfig.params.field,{gte:range.from,lte:range.to},aggConfig.getIndexPattern())};const ipRangeTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRangeTitle",{defaultMessage:"IPv4 Range"});let IP_RANGE_TYPES;(function(IP_RANGE_TYPES){IP_RANGE_TYPES["FROM_TO"]="fromTo";IP_RANGE_TYPES["MASK"]="mask"})(IP_RANGE_TYPES||(IP_RANGE_TYPES={}));const getIpRangeBucketAgg=()=>new bucket_agg_type["a"]({name:BUCKET_TYPES.IP_RANGE,title:ipRangeTitle,createFilter:createFilterIpRange,getKey(bucket,key,agg){if(agg.params.ipRangeType===IP_RANGE_TYPES.MASK){return{type:"mask",mask:key}}return{type:"range",from:bucket.from,to:bucket.to}},getSerializedFormat(agg){return{id:"ip_range",params:agg.params.field?agg.aggConfigs.indexPattern.getFormatterForField(agg.params.field).toJSON():{}}},makeLabel(aggConfig){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRangeLabel",{defaultMessage:"{fieldName} IP ranges",values:{fieldName:aggConfig.getFieldDisplayName()}})},params:[{name:"field",type:"field",filterFieldTypes:common["OSD_FIELD_TYPES"].IP},{name:"ipRangeType",default:IP_RANGE_TYPES.FROM_TO,write:external_osdSharedDeps_Lodash_["noop"]},{name:"ranges",default:{fromTo:[{from:"0.0.0.0",to:"127.255.255.255"},{from:"128.0.0.0",to:"191.255.255.255"}],mask:[{mask:"0.0.0.0/1"},{mask:"128.0.0.0/2"}]},write(aggConfig,output){const ipRangeType=aggConfig.params.ipRangeType;let ranges=aggConfig.params.ranges[ipRangeType];if(ipRangeType===IP_RANGE_TYPES.FROM_TO){ranges=Object(external_osdSharedDeps_Lodash_["map"])(ranges,range=>Object(external_osdSharedDeps_Lodash_["omitBy"])(range,external_osdSharedDeps_Lodash_["isNull"]))}output.params.ranges=ranges}}]});var date_range=__webpack_require__(42);var ip_range=__webpack_require__(43);const isType=function(){for(var _len=arguments.length,types=new Array(_len),_key=0;_key<_len;_key++){types[_key]=arguments[_key]}return agg=>{const field=agg.params.field;return types.some(type=>field&&field.type===type)}};const isNumberType=isType("number");const isStringType=isType("string");const isStringOrNumberType=isType("string","number");const migrateIncludeExcludeFormat={serialize(value,agg){if(this.shouldShow&&!this.shouldShow(agg))return;if(!value||Object(external_osdSharedDeps_Lodash_["isString"])(value)||Array.isArray(value))return value;else return value.pattern},write(aggConfig,output){const value=aggConfig.getParam(this.name);if(Array.isArray(value)&&value.length>0&&isNumberType(aggConfig)){const parsedValue=value.filter(val=>Number.isFinite(val));if(parsedValue.length){output.params[this.name]=parsedValue}}else if(Object(external_osdSharedDeps_Lodash_["isObject"])(value)){output.params[this.name]=value.pattern}else if(value&&isStringType(aggConfig)){output.params[this.name]=value}}};const createFilterTerms=(aggConfig,key,params)=>{const field=aggConfig.params.field;const indexPattern=aggConfig.aggConfigs.indexPattern;if(key==="__other__"){const terms=params.terms;const phraseFilter=Object(common["buildPhrasesFilter"])(field,terms,indexPattern);phraseFilter.meta.negate=true;const filters=[phraseFilter];if(terms.some(term=>term==="__missing__")){filters.push(Object(common["buildExistsFilter"])(field,indexPattern))}return filters}else if(key==="__missing__"){const existsFilter=Object(common["buildExistsFilter"])(field,indexPattern);existsFilter.meta.negate=true;return existsFilter}return Object(common["buildPhraseFilter"])(field,key,indexPattern)};const significantTermsTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTermsTitle",{defaultMessage:"Significant Terms"});const getSignificantTermsBucketAgg=()=>new bucket_agg_type["a"]({name:BUCKET_TYPES.SIGNIFICANT_TERMS,title:significantTermsTitle,makeLabel(aggConfig){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTermsLabel",{defaultMessage:"Top {size} unusual terms in {fieldName}",values:{size:aggConfig.params.size,fieldName:aggConfig.getFieldDisplayName()}})},createFilter:createFilterTerms,params:[{name:"field",type:"field",scriptable:false,filterFieldTypes:common["OSD_FIELD_TYPES"].STRING},{name:"size",default:""},{name:"exclude",displayName:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.excludeLabel",{defaultMessage:"Exclude"}),type:"string",advanced:true,shouldShow:isStringType,...migrateIncludeExcludeFormat},{name:"include",displayName:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.includeLabel",{defaultMessage:"Include"}),type:"string",advanced:true,shouldShow:isStringType,...migrateIncludeExcludeFormat}]});var expressions=__webpack_require__(55);const getNestedAggDSL=(aggNestedDsl,startFromAggId)=>{if(aggNestedDsl[startFromAggId]){return aggNestedDsl[startFromAggId]}const nestedAggs=Object(external_osdSharedDeps_Lodash_["values"])(aggNestedDsl);let aggs;for(let i=0;i<nestedAggs.length;i++){if(nestedAggs[i].aggs&&(aggs=getNestedAggDSL(nestedAggs[i].aggs,startFromAggId))){return aggs}}};const getAggResultBuckets=(aggConfigs,response,aggWithOtherBucket,key)=>{const keyParts=key.split("-");let responseAgg=response;for(const i in keyParts){if(keyParts[i]){const responseAggs=Object(external_osdSharedDeps_Lodash_["values"])(responseAgg);for(let aggId=0;aggId<responseAggs.length;aggId++){const aggById=responseAggs[aggId];const aggKey=Object(external_osdSharedDeps_Lodash_["keys"])(responseAgg)[aggId];const aggConfig=Object(external_osdSharedDeps_Lodash_["find"])(aggConfigs.aggs,agg=>agg.id===aggKey);if(aggConfig){const aggResultBucket=Object(external_osdSharedDeps_Lodash_["find"])(aggById.buckets,(bucket,bucketObjKey)=>{const bucketKey=aggConfig.getKey(bucket,Object(external_osdSharedDeps_Lodash_["isNumber"])(bucketObjKey)?undefined:bucketObjKey).toString();return bucketKey===keyParts[i]});if(aggResultBucket){responseAgg=aggResultBucket;break}}}}}if(responseAgg[aggWithOtherBucket.id]){return responseAgg[aggWithOtherBucket.id].buckets}return[]};const getAggConfigResultMissingBuckets=(responseAggs,aggId)=>{const missingKey="__missing__";let resultBuckets=[];if(responseAggs[aggId]){const matchingBucket=responseAggs[aggId].buckets.find(bucket=>bucket.key===missingKey);if(matchingBucket)resultBuckets.push(matchingBucket);return resultBuckets}Object(external_osdSharedDeps_Lodash_["each"])(responseAggs,agg=>{if(agg.buckets){Object(external_osdSharedDeps_Lodash_["each"])(agg.buckets,bucket=>{resultBuckets=[...resultBuckets,...getAggConfigResultMissingBuckets(bucket,aggId)]})}});return resultBuckets};const getOtherAggTerms=(requestAgg,key,otherAgg)=>requestAgg["other-filter"].filters.filters[key].bool.must_not.filter(filter=>filter.match_phrase&&filter.match_phrase[otherAgg.params.field.name]).map(filter=>filter.match_phrase[otherAgg.params.field.name]);const buildOtherBucketAgg=(aggConfigs,aggWithOtherBucket,response)=>{const bucketAggs=aggConfigs.aggs.filter(agg=>agg.type.type===AggGroupNames.Buckets);const index=bucketAggs.findIndex(agg=>agg.id===aggWithOtherBucket.id);const aggs=aggConfigs.toDsl();const indexPattern=aggWithOtherBucket.aggConfigs.indexPattern;const filterAgg=aggConfigs.createAggConfig({type:"filters",id:"other",params:{filters:[]},enabled:false},{addToAggConfigs:false});const resultAgg={aggs:getNestedAggDSL(aggs,aggWithOtherBucket.id).aggs,filters:filterAgg.toDsl()};let noAggBucketResults=false;const walkBucketTree=(aggIndex,aggregations,aggId,filters,key)=>{if(aggregations[aggId].buckets.length<1){noAggBucketResults=true;return}const agg=aggregations[aggId];const newAggIndex=aggIndex+1;const newAgg=bucketAggs[newAggIndex];const currentAgg=bucketAggs[aggIndex];if(aggIndex<index){Object(external_osdSharedDeps_Lodash_["each"])(agg.buckets,(bucket,bucketObjKey)=>{const bucketKey=currentAgg.getKey(bucket,Object(external_osdSharedDeps_Lodash_["isNumber"])(bucketObjKey)?undefined:bucketObjKey);const filter=Object(external_osdSharedDeps_Lodash_["cloneDeep"])(bucket.filters)||currentAgg.createFilter(bucketKey);const newFilters=Object(external_osdSharedDeps_Lodash_["flatten"])([...filters,filter]);walkBucketTree(newAggIndex,bucket,newAgg.id,newFilters,"".concat(key,"-").concat(bucketKey.toString()))});return}const hasScriptedField=!!aggWithOtherBucket.params.field.scripted;const hasMissingBucket=!!aggWithOtherBucket.params.missingBucket;const hasMissingBucketKey=agg.buckets.some(bucket=>bucket.key==="__missing__");if(!hasScriptedField&&(!hasMissingBucket||hasMissingBucketKey)){filters.push(Object(common["buildExistsFilter"])(aggWithOtherBucket.params.field,aggWithOtherBucket.aggConfigs.indexPattern))}Object(external_osdSharedDeps_Lodash_["each"])(agg.buckets,bucket=>{if(bucket.key==="__missing__")return;const filter=currentAgg.createFilter(bucket.key);filter.meta.negate=true;filters.push(filter)});resultAgg.filters.filters[key]={bool:Object(common["buildQueryFromFilters"])(filters,indexPattern)}};walkBucketTree(0,response.aggregations,bucketAggs[0].id,[],"");if(noAggBucketResults){return false}return()=>({"other-filter":resultAgg})};const mergeOtherBucketAggResponse=(aggsConfig,response,otherResponse,otherAgg,requestAgg)=>{const updatedResponse=Object(external_osdSharedDeps_Lodash_["cloneDeep"])(response);Object(external_osdSharedDeps_Lodash_["each"])(otherResponse.aggregations["other-filter"].buckets,(bucket,key)=>{if(!bucket.doc_count||key===undefined)return;const bucketKey=key.replace(/^-/,"");const aggResultBuckets=getAggResultBuckets(aggsConfig,updatedResponse.aggregations,otherAgg,bucketKey);const requestFilterTerms=getOtherAggTerms(requestAgg,key,otherAgg);const phraseFilter=Object(common["buildPhrasesFilter"])(otherAgg.params.field,requestFilterTerms,otherAgg.aggConfigs.indexPattern);phraseFilter.meta.negate=true;bucket.filters=[phraseFilter];bucket.key="__other__";if(aggResultBuckets.some(aggResultBucket=>aggResultBucket.key==="__missing__")){bucket.filters.push(Object(common["buildExistsFilter"])(otherAgg.params.field,otherAgg.aggConfigs.indexPattern))}aggResultBuckets.push(bucket)});return updatedResponse};const updateMissingBucket=(response,aggConfigs,agg)=>{const updatedResponse=Object(external_osdSharedDeps_Lodash_["cloneDeep"])(response);const aggResultBuckets=getAggConfigResultMissingBuckets(updatedResponse.aggregations,agg.id);aggResultBuckets.forEach(bucket=>{bucket.key="__missing__"});return updatedResponse};const termsAggFilter=["!top_hits","!percentiles","!median","!std_dev","!derivative","!moving_avg","!serial_diff","!cumulative_sum","!avg_bucket","!max_bucket","!min_bucket","!sum_bucket"];const termsTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.termsTitle",{defaultMessage:"Terms"});const getTermsBucketAgg=()=>new bucket_agg_type["a"]({name:BUCKET_TYPES.TERMS,expressionName:"aggTerms",title:termsTitle,makeLabel(agg){const params=agg.params;return agg.getFieldDisplayName()+": "+params.order.text},getSerializedFormat(agg){const format=agg.params.field?agg.aggConfigs.indexPattern.getFormatterForField(agg.params.field).toJSON():{id:undefined,params:undefined};return{id:"terms",params:{id:format.id,otherBucketLabel:agg.params.otherBucketLabel,missingBucketLabel:agg.params.missingBucketLabel,...format.params}}},createFilter:createFilterTerms,postFlightRequest:async(resp,aggConfigs,aggConfig,searchSource,inspectorRequestAdapter,abortSignal)=>{if(!resp.aggregations)return resp;const nestedSearchSource=searchSource.createChild();if(aggConfig.params.otherBucket){const filterAgg=buildOtherBucketAgg(aggConfigs,aggConfig,resp);if(!filterAgg)return resp;nestedSearchSource.setField("aggs",filterAgg);const request=inspectorRequestAdapter.start(external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.otherBucketTitle",{defaultMessage:"Other bucket"}),{description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.otherBucketDescription",{defaultMessage:"This request counts the number of documents that fall "+"outside the criterion of the data buckets."})});nestedSearchSource.getSearchRequestBody().then(body=>{request.json(body)});request.stats(Object(expressions["a"])(nestedSearchSource));const response=await nestedSearchSource.fetch({abortSignal:abortSignal});request.stats(Object(expressions["b"])(response,nestedSearchSource)).ok({json:response});resp=mergeOtherBucketAggResponse(aggConfigs,resp,response,aggConfig,filterAgg())}if(aggConfig.params.missingBucket){resp=updateMissingBucket(resp,aggConfigs,aggConfig)}return resp},params:[{name:"field",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER,common["OSD_FIELD_TYPES"].BOOLEAN,common["OSD_FIELD_TYPES"].DATE,common["OSD_FIELD_TYPES"].IP,common["OSD_FIELD_TYPES"].STRING]},{name:"orderBy",write:external_osdSharedDeps_Lodash_["noop"]},{name:"orderAgg",type:"agg",allowedAggs:termsAggFilter,default:null,makeAgg(termsAgg){let state=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{type:"count"};state.schema="orderAgg";const orderAgg=termsAgg.aggConfigs.createAggConfig(state,{addToAggConfigs:false});orderAgg.id=termsAgg.id+"-orderAgg";return orderAgg},write(agg,output,aggs){const dir=agg.params.order.value;const order=output.params.order={};let orderAgg=agg.params.orderAgg||aggs.getResponseAggById(agg.params.orderBy);if(output.params.script){output.params.value_type=agg.getField().type==="number"?"float":agg.getField().type}if(agg.params.missingBucket&&agg.params.field.type==="string"){output.params.missing="__missing__"}if(!orderAgg){order[agg.params.orderBy||"_count"]=dir;return}if(orderAgg.type.name==="count"){order._count=dir;return}const orderAggId=orderAgg.id;if(orderAgg.parentId&&aggs){orderAgg=aggs.byId(orderAgg.parentId)}output.subAggs=(output.subAggs||[]).concat(orderAgg);order[orderAggId]=dir}},{name:"order",type:"optioned",default:"desc",options:[{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.orderDescendingTitle",{defaultMessage:"Descending"}),value:"desc"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.orderAscendingTitle",{defaultMessage:"Ascending"}),value:"asc"}],write:external_osdSharedDeps_Lodash_["noop"]},{name:"size",default:5},{name:"otherBucket",default:false,write:external_osdSharedDeps_Lodash_["noop"]},{name:"otherBucketLabel",type:"string",default:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.otherBucketLabel",{defaultMessage:"Other"}),displayName:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.otherBucket.labelForOtherBucketLabel",{defaultMessage:"Label for other bucket"}),shouldShow:agg=>agg.getParam("otherBucket"),write:external_osdSharedDeps_Lodash_["noop"]},{name:"missingBucket",default:false,write:external_osdSharedDeps_Lodash_["noop"]},{name:"missingBucketLabel",default:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.missingBucketLabel",{defaultMessage:"Missing",description:'Default label used in charts when documents are missing a field.\n          Visible when you create a chart with a terms aggregation and enable "Show missing values"'}),type:"string",displayName:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.otherBucket.labelForMissingValuesLabel",{defaultMessage:"Label for missing values"}),shouldShow:agg=>agg.getParam("missingBucket"),write:external_osdSharedDeps_Lodash_["noop"]},{name:"exclude",displayName:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.excludeLabel",{defaultMessage:"Exclude"}),type:"string",advanced:true,shouldShow:isStringOrNumberType,...migrateIncludeExcludeFormat},{name:"include",displayName:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.includeLabel",{defaultMessage:"Include"}),type:"string",advanced:true,shouldShow:isStringOrNumberType,...migrateIncludeExcludeFormat}]});const forwardModifyAggConfigOnSearchRequestStart=paramName=>(aggConfig,searchSource,request)=>{if(!aggConfig||!aggConfig.params){return}const nestedAggConfig=aggConfig.getParam(paramName);if(nestedAggConfig&&nestedAggConfig.type&&nestedAggConfig.type.params){nestedAggConfig.type.params.forEach(param=>{if(param.modifyAggConfigOnSearchRequestStart){param.modifyAggConfigOnSearchRequestStart(nestedAggConfig,searchSource,request)}})}};const parentPipelineAggWriter=(agg,output,aggConfigs)=>{const customMetric=agg.getParam("customMetric");const metricAgg=agg.getParam("metricAgg");const selectedMetric=customMetric||aggConfigs&&aggConfigs.getResponseAggById(metricAgg);if(customMetric&&customMetric.type.name!=="count"){output.parentAggs=(output.parentAggs||[]).concat(selectedMetric)}output.params={buckets_path:selectedMetric.type.name==="count"?"_count":selectedMetric.id}};const metricAggFilter=["!top_hits","!percentiles","!percentile_ranks","!median","!std_dev","!geo_bounds","!geo_centroid"];const parentPipelineType=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.parentPipelineAggregationsSubtypeTitle",{defaultMessage:"Parent Pipeline Aggregations"});const parentPipelineAggHelper={subtype:parentPipelineType,params(){return[{name:"metricAgg",default:"custom",write:parentPipelineAggWriter},{name:"customMetric",type:"agg",allowedAggs:metricAggFilter,makeAgg(termsAgg){let state=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{type:"count"};const metricAgg=termsAgg.aggConfigs.createAggConfig(state,{addToAggConfigs:false});metricAgg.id=termsAgg.id+"-metric";return metricAgg},modifyAggConfigOnSearchRequestStart:forwardModifyAggConfigOnSearchRequestStart("customMetric"),write:external_osdSharedDeps_Lodash_["noop"]},{name:"buckets_path",write:external_osdSharedDeps_Lodash_["noop"]}]},getSerializedFormat(agg){let subAgg;const customMetric=agg.getParam("customMetric");if(customMetric){subAgg=customMetric}else{subAgg=agg.aggConfigs.byId(agg.getParam("metricAgg"))}return subAgg?subAgg.type.getSerializedFormat(subAgg):{}}};const siblingPipelineAggWriter=(agg,output)=>{const customMetric=agg.getParam("customMetric");if(!customMetric)return;const metricAgg=customMetric;const bucketAgg=agg.getParam("customBucket");if(metricAgg.type.name!==METRIC_TYPES.COUNT){bucketAgg.subAggs=(output.subAggs||[]).concat(metricAgg);output.params.buckets_path="".concat(bucketAgg.id,">").concat(metricAgg.id)}else{output.params.buckets_path=bucketAgg.id+">_count"}output.parentAggs=(output.parentAggs||[]).concat(bucketAgg)};const sibling_pipeline_agg_helper_metricAggFilter=["!top_hits","!percentiles","!percentile_ranks","!median","!std_dev","!sum_bucket","!avg_bucket","!min_bucket","!max_bucket","!derivative","!moving_avg","!serial_diff","!cumulative_sum","!geo_bounds","!geo_centroid"];const bucketAggFilter=[];const siblingPipelineType=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.siblingPipelineAggregationsSubtypeTitle",{defaultMessage:"Sibling pipeline aggregations"});const siblingPipelineAggHelper={subtype:siblingPipelineType,params(){return[{name:"customBucket",type:"agg",allowedAggs:bucketAggFilter,default:null,makeAgg(agg){let state=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{type:"date_histogram"};const orderAgg=agg.aggConfigs.createAggConfig(state,{addToAggConfigs:false});orderAgg.id=agg.id+"-bucket";return orderAgg},modifyAggConfigOnSearchRequestStart:forwardModifyAggConfigOnSearchRequestStart("customBucket"),write:()=>{}},{name:"customMetric",type:"agg",allowedAggs:sibling_pipeline_agg_helper_metricAggFilter,default:null,makeAgg(agg){let state=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{type:"count"};const orderAgg=agg.aggConfigs.createAggConfig(state,{addToAggConfigs:false});orderAgg.id=agg.id+"-metric";return orderAgg},modifyAggConfigOnSearchRequestStart:forwardModifyAggConfigOnSearchRequestStart("customMetric"),write:siblingPipelineAggWriter}]},getSerializedFormat(agg){const customMetric=agg.getParam("customMetric");return customMetric?customMetric.type.getSerializedFormat(customMetric):{}}};const averageTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.averageTitle",{defaultMessage:"Average"});const getAvgMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.AVG,title:averageTitle,makeLabel:aggConfig=>external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.averageLabel",{defaultMessage:"Average {field}",values:{field:aggConfig.getFieldDisplayName()}}),params:[{name:"field",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER,common["OSD_FIELD_TYPES"].HISTOGRAM]}]});const uniqueCountTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.uniqueCountTitle",{defaultMessage:"Unique Count"});const getCardinalityMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.CARDINALITY,title:uniqueCountTitle,makeLabel(aggConfig){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.uniqueCountLabel",{defaultMessage:"Unique count of {field}",values:{field:aggConfig.getFieldDisplayName()}})},getSerializedFormat(agg){return{id:"number"}},params:[{name:"field",type:"field",filterFieldTypes:Object.values(common["OSD_FIELD_TYPES"]).filter(type=>type!==common["OSD_FIELD_TYPES"].HISTOGRAM)}]});const geoBoundsTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geoBoundsTitle",{defaultMessage:"Geo Bounds"});const geoBoundsLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geoBoundsLabel",{defaultMessage:"Geo Bounds"});const getGeoBoundsMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.GEO_BOUNDS,title:geoBoundsTitle,makeLabel:()=>geoBoundsLabel,params:[{name:"field",type:"field",filterFieldTypes:common["OSD_FIELD_TYPES"].GEO_POINT}]});const geoCentroidTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geoCentroidTitle",{defaultMessage:"Geo Centroid"});const geoCentroidLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geoCentroidLabel",{defaultMessage:"Geo Centroid"});const getGeoCentroidMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.GEO_CENTROID,title:geoCentroidTitle,makeLabel:()=>geoCentroidLabel,params:[{name:"field",type:"field",filterFieldTypes:common["OSD_FIELD_TYPES"].GEO_POINT}],getValue(agg,bucket){return bucket[agg.id]&&bucket[agg.id].location}});const maxTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.maxTitle",{defaultMessage:"Max"});const getMaxMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.MAX,title:maxTitle,makeLabel(aggConfig){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.maxLabel",{defaultMessage:"Max {field}",values:{field:aggConfig.getFieldDisplayName()}})},params:[{name:"field",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER,common["OSD_FIELD_TYPES"].DATE]}]});const medianTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.medianTitle",{defaultMessage:"Median"});const getMedianMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.MEDIAN,dslName:"percentiles",title:medianTitle,makeLabel(aggConfig){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.medianLabel",{defaultMessage:"Median {field}",values:{field:aggConfig.getFieldDisplayName()}})},params:[{name:"field",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER,common["OSD_FIELD_TYPES"].DATE,common["OSD_FIELD_TYPES"].HISTOGRAM]},{name:"percents",default:[50]}],getValue(agg,bucket){return bucket[agg.id].values["50.0"]}});const minTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.minTitle",{defaultMessage:"Min"});const getMinMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.MIN,title:minTitle,makeLabel(aggConfig){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.minLabel",{defaultMessage:"Min {field}",values:{field:aggConfig.getFieldDisplayName()}})},params:[{name:"field",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER,common["OSD_FIELD_TYPES"].DATE]}]});const getResponseAggConfigClass=(agg,props)=>{if(agg.$$_ResponseAggConfigClass){return agg.$$_ResponseAggConfigClass}else{return agg.$$_ResponseAggConfigClass=create(agg,props)}};const create=(parentAgg,props)=>{function ResponseAggConfig(key){const parentId=parentAgg.id;let id;const subId=String(key);if(subId.indexOf(".")>-1){id=parentId+"['"+subId.replace(/'/g,"\\'")+"']"}else{id=parentId+"."+subId}this.id=id;this.key=key;this.parentId=parentId}ResponseAggConfig.prototype=Object.create(parentAgg);ResponseAggConfig.prototype.constructor=ResponseAggConfig;Object(external_osdSharedDeps_Lodash_["assignIn"])(ResponseAggConfig.prototype,props);return ResponseAggConfig};const responseAggConfigProps={valProp(){const customLabel=this.getParam("customLabel");const details=this.keyedDetails(customLabel)[this.key];return details.valProp},makeLabel(){const fieldDisplayName=this.getFieldDisplayName();const customLabel=this.getParam("customLabel");const details=this.keyedDetails(customLabel,fieldDisplayName);return Object(external_osdSharedDeps_Lodash_["get"])(details,[this.key,"title"])},keyedDetails(customLabel,fieldDisplayName){const label=customLabel||external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.standardDeviation.keyDetailsLabel",{defaultMessage:"Standard Deviation of {fieldDisplayName}",values:{fieldDisplayName:fieldDisplayName}});return{std_lower:{valProp:["std_deviation_bounds","lower"],title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.standardDeviation.lowerKeyDetailsTitle",{defaultMessage:"Lower {label}",values:{label:label}})},std_upper:{valProp:["std_deviation_bounds","upper"],title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.standardDeviation.upperKeyDetailsTitle",{defaultMessage:"Upper {label}",values:{label:label}})}}}};const getStdDeviationMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.STD_DEV,dslName:"extended_stats",title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.standardDeviationTitle",{defaultMessage:"Standard Deviation"}),makeLabel(agg){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.standardDeviationLabel",{defaultMessage:"Standard Deviation of {field}",values:{field:agg.getFieldDisplayName()}})},params:[{name:"field",type:"field",filterFieldTypes:common["OSD_FIELD_TYPES"].NUMBER}],getResponseAggs(agg){const ValueAggConfig=getResponseAggConfigClass(agg,responseAggConfigProps);return[new ValueAggConfig("std_lower"),new ValueAggConfig("std_upper")]},getValue(agg,bucket){return Object(external_osdSharedDeps_Lodash_["get"])(bucket[agg.parentId],agg.valProp())}});const sumTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.sumTitle",{defaultMessage:"Sum"});const getSumMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.SUM,title:sumTitle,makeLabel(aggConfig){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.sumLabel",{defaultMessage:"Sum of {field}",values:{field:aggConfig.getFieldDisplayName()}})},isScalable(){return true},params:[{name:"field",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER,common["OSD_FIELD_TYPES"].HISTOGRAM]}]});const makeNestedLabel=(aggConfig,label)=>{const uppercaseLabel=Object(external_osdSharedDeps_Lodash_["startCase"])(label);const customMetric=aggConfig.getParam("customMetric");const metricAgg=aggConfig.getParam("metricAgg");if(customMetric){let metricLabel=customMetric.makeLabel();if(metricLabel.includes("".concat(uppercaseLabel," of "))){metricLabel=metricLabel.substring("".concat(uppercaseLabel," of ").length);metricLabel="2. ".concat(label," of ").concat(metricLabel)}else if(metricLabel.includes("".concat(label," of "))){metricLabel=parseInt(metricLabel.substring(0,1),10)+1+metricLabel.substring(1)}else{metricLabel="".concat(uppercaseLabel," of ").concat(metricLabel)}return metricLabel}const metric=aggConfig.aggConfigs.byId(metricAgg);if(!metric){return""}return"".concat(uppercaseLabel," of ").concat(metric.makeLabel())};const overallAverageLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.overallAverageLabel",{defaultMessage:"overall average"});const averageBucketTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.averageBucketTitle",{defaultMessage:"Average Bucket"});const getBucketAvgMetricAgg=()=>{const{subtype:subtype,params:params,getSerializedFormat:getSerializedFormat}=siblingPipelineAggHelper;return new metric_agg_type_MetricAggType({name:METRIC_TYPES.AVG_BUCKET,title:averageBucketTitle,makeLabel:agg=>makeNestedLabel(agg,overallAverageLabel),subtype:subtype,params:[...params()],getSerializedFormat:getSerializedFormat,getValue(agg,bucket){const customMetric=agg.getParam("customMetric");const customBucket=agg.getParam("customBucket");const scaleMetrics=customMetric.type&&customMetric.type.isScalable();let value=bucket[agg.id]&&bucket[agg.id].value;if(scaleMetrics&&customBucket.type.name==="date_histogram"){const aggInfo=customBucket.write();value*=Object(external_osdSharedDeps_Lodash_["get"])(aggInfo,"bucketInterval.scale",1)}return value}})};const overallMaxLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.overallMaxLabel",{defaultMessage:"overall max"});const maxBucketTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.maxBucketTitle",{defaultMessage:"Max Bucket"});const getBucketMaxMetricAgg=()=>{const{subtype:subtype,params:params,getSerializedFormat:getSerializedFormat}=siblingPipelineAggHelper;return new metric_agg_type_MetricAggType({name:METRIC_TYPES.MAX_BUCKET,title:maxBucketTitle,makeLabel:agg=>makeNestedLabel(agg,overallMaxLabel),subtype:subtype,params:[...params()],getSerializedFormat:getSerializedFormat})};const overallMinLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.overallMinLabel",{defaultMessage:"overall min"});const minBucketTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.minBucketTitle",{defaultMessage:"Min Bucket"});const getBucketMinMetricAgg=()=>{const{subtype:subtype,params:params,getSerializedFormat:getSerializedFormat}=siblingPipelineAggHelper;return new metric_agg_type_MetricAggType({name:METRIC_TYPES.MIN_BUCKET,title:minBucketTitle,makeLabel:agg=>makeNestedLabel(agg,overallMinLabel),subtype:subtype,params:[...params()],getSerializedFormat:getSerializedFormat})};const overallSumLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.overallSumLabel",{defaultMessage:"overall sum"});const sumBucketTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.sumBucketTitle",{defaultMessage:"Sum Bucket"});const getBucketSumMetricAgg=()=>{const{subtype:subtype,params:params,getSerializedFormat:getSerializedFormat}=siblingPipelineAggHelper;return new metric_agg_type_MetricAggType({name:METRIC_TYPES.SUM_BUCKET,title:sumBucketTitle,makeLabel:agg=>makeNestedLabel(agg,overallSumLabel),subtype:subtype,params:[...params()],getSerializedFormat:getSerializedFormat})};const cumulativeSumLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulativeSumLabel",{defaultMessage:"cumulative sum"});const cumulativeSumTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulativeSumTitle",{defaultMessage:"Cumulative Sum"});const getCumulativeSumMetricAgg=()=>{const{subtype:subtype,params:params,getSerializedFormat:getSerializedFormat}=parentPipelineAggHelper;return new metric_agg_type_MetricAggType({name:METRIC_TYPES.CUMULATIVE_SUM,title:cumulativeSumTitle,makeLabel:agg=>makeNestedLabel(agg,cumulativeSumLabel),subtype:subtype,params:[...params()],getSerializedFormat:getSerializedFormat})};const derivativeLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivativeLabel",{defaultMessage:"derivative"});const derivativeTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivativeTitle",{defaultMessage:"Derivative"});const getDerivativeMetricAgg=()=>{const{subtype:subtype,params:params,getSerializedFormat:getSerializedFormat}=parentPipelineAggHelper;return new metric_agg_type_MetricAggType({name:METRIC_TYPES.DERIVATIVE,title:derivativeTitle,makeLabel(agg){return makeNestedLabel(agg,derivativeLabel)},subtype:subtype,params:[...params()],getSerializedFormat:getSerializedFormat})};const movingAvgTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.movingAvgTitle",{defaultMessage:"Moving Avg"});const movingAvgLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.movingAvgLabel",{defaultMessage:"moving avg"});const getMovingAvgMetricAgg=()=>{const{subtype:subtype,params:params,getSerializedFormat:getSerializedFormat}=parentPipelineAggHelper;return new metric_agg_type_MetricAggType({name:METRIC_TYPES.MOVING_FN,dslName:"moving_fn",title:movingAvgTitle,makeLabel:agg=>makeNestedLabel(agg,movingAvgLabel),subtype:subtype,getSerializedFormat:getSerializedFormat,params:[...params(),{name:"window",default:5},{name:"script",default:"MovingFunctions.unweightedAvg(values)"}],getValue(agg,bucket){return bucket[agg.id]?bucket[agg.id].value:null}})};const getPercentileValue=(agg,bucket)=>{const{values:values}=bucket[agg.parentId];const percentile=Object(external_osdSharedDeps_Lodash_["find"])(values,_ref=>{let{key:key}=_ref;return key===agg.key});return percentile?percentile.value:NaN};const getValueProps=getFieldFormatsStart=>({makeLabel(){const{getDefaultInstance:getDefaultInstance}=getFieldFormatsStart();const field=this.getField();const format=field&&field.format||getDefaultInstance(common["OSD_FIELD_TYPES"].NUMBER);const customLabel=this.getParam("customLabel");const label=customLabel||this.getFieldDisplayName();return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentileRanks.valuePropsLabel",{defaultMessage:'Percentile rank {format} of "{label}"',values:{format:format.convert(this.key,"text"),label:label}})}});const getPercentileRanksMetricAgg=_ref=>{let{getFieldFormatsStart:getFieldFormatsStart}=_ref;return new metric_agg_type_MetricAggType({name:METRIC_TYPES.PERCENTILE_RANKS,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentileRanksTitle",{defaultMessage:"Percentile Ranks"}),makeLabel(agg){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentileRanksLabel",{defaultMessage:"Percentile ranks of {field}",values:{field:agg.getFieldDisplayName()}})},params:[{name:"field",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER,common["OSD_FIELD_TYPES"].HISTOGRAM]},{name:"values",default:[]},{write(agg,output){output.params.keyed=false}}],getResponseAggs(agg){const ValueAggConfig=getResponseAggConfigClass(agg,getValueProps(getFieldFormatsStart));const values=agg.getParam("values");return values.map(value=>new ValueAggConfig(value))},getSerializedFormat(agg){return{id:"percent"}},getValue(agg,bucket){return getPercentileValue(agg,bucket)/100}})};function ordinalSuffix(num){return num+""+suffix(num)}function suffix(num){const int=Math.floor(parseFloat(num));const hunth=int%100;if(hunth>=11&&hunth<=13)return"th";const tenth=int%10;if(tenth===1)return"st";if(tenth===2)return"nd";if(tenth===3)return"rd";return"th"}const valueProps={makeLabel(){const customLabel=this.getParam("customLabel");const label=customLabel||this.getFieldDisplayName();return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentiles.valuePropsLabel",{defaultMessage:"{percentile} percentile of {label}",values:{percentile:ordinalSuffix(this.key),label:label}})}};const getPercentilesMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.PERCENTILES,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentilesTitle",{defaultMessage:"Percentiles"}),makeLabel(agg){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentilesLabel",{defaultMessage:"Percentiles of {field}",values:{field:agg.getFieldDisplayName()}})},params:[{name:"field",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER,common["OSD_FIELD_TYPES"].DATE,common["OSD_FIELD_TYPES"].HISTOGRAM]},{name:"percents",default:[1,5,25,50,75,95,99]},{write(agg,output){output.params.keyed=false}}],getResponseAggs(agg){const ValueAggConfig=getResponseAggConfigClass(agg,valueProps);return agg.getParam("percents").map(percent=>new ValueAggConfig(percent))},getValue:getPercentileValue});const serialDiffTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serialDiffTitle",{defaultMessage:"Serial Diff"});const serialDiffLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serialDiffLabel",{defaultMessage:"serial diff"});const getSerialDiffMetricAgg=()=>{const{subtype:subtype,params:params,getSerializedFormat:getSerializedFormat}=parentPipelineAggHelper;return new metric_agg_type_MetricAggType({name:METRIC_TYPES.SERIAL_DIFF,title:serialDiffTitle,makeLabel:agg=>makeNestedLabel(agg,serialDiffLabel),subtype:subtype,params:[...params()],getSerializedFormat:getSerializedFormat})};const isNumericFieldSelected=agg=>{const field=agg.getParam("field");return field&&field.type&&field.type===common["OSD_FIELD_TYPES"].NUMBER};const getTopHitMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.TOP_HITS,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHitTitle",{defaultMessage:"Top Hit"}),makeLabel(aggConfig){const lastPrefixLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHit.lastPrefixLabel",{defaultMessage:"Last"});const firstPrefixLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHit.firstPrefixLabel",{defaultMessage:"First"});let prefix=aggConfig.getParam("sortOrder").value==="desc"?lastPrefixLabel:firstPrefixLabel;const size=aggConfig.getParam("size");if(size!==1){prefix+=" ".concat(size)}const field=aggConfig.getParam("field");return"".concat(prefix," ").concat(field?field.displayName:"")},params:[{name:"field",type:"field",onlyAggregatable:false,filterFieldTypes:Object.values(common["OSD_FIELD_TYPES"]).filter(type=>type!==common["OSD_FIELD_TYPES"].HISTOGRAM),write(agg,output){const field=agg.getParam("field");output.params={};if(field.scripted){output.params.script_fields={[field.name]:{script:{source:field.script,lang:field.lang}}}}else{if(field.readFromDocValues){output.params.docvalue_fields=[{field:field.name,...field.type===common["OSD_FIELD_TYPES"].DATE&&{format:"date_time"}}]}output.params._source=field.name==="_source"?true:field.name}}},{name:"aggregate",type:"optioned",options:[{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHit.minLabel",{defaultMessage:"Min"}),isCompatible:isNumericFieldSelected,disabled:true,value:"min"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHit.maxLabel",{defaultMessage:"Max"}),isCompatible:isNumericFieldSelected,disabled:true,value:"max"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHit.sumLabel",{defaultMessage:"Sum"}),isCompatible:isNumericFieldSelected,disabled:true,value:"sum"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHit.averageLabel",{defaultMessage:"Average"}),isCompatible:isNumericFieldSelected,disabled:true,value:"average"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHit.concatenateLabel",{defaultMessage:"Concatenate"}),isCompatible(aggConfig){return external_osdSharedDeps_Lodash_default.a.get(aggConfig.params,"field.filterFieldTypes","*")==="*"},disabled:true,value:"concat"}],write:external_osdSharedDeps_Lodash_default.a.noop},{name:"size",default:1},{name:"sortField",type:"field",filterFieldTypes:[common["OSD_FIELD_TYPES"].NUMBER,common["OSD_FIELD_TYPES"].DATE,common["OSD_FIELD_TYPES"].IP,common["OSD_FIELD_TYPES"].STRING],default(agg){return agg.getIndexPattern().timeFieldName},write:external_osdSharedDeps_Lodash_default.a.noop},{name:"sortOrder",type:"optioned",default:"desc",options:[{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHit.descendingLabel",{defaultMessage:"Descending"}),value:"desc"},{text:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.topHit.ascendingLabel",{defaultMessage:"Ascending"}),value:"asc"}],write(agg,output){const sortField=agg.params.sortField;const sortOrder=agg.params.sortOrder;if(sortField.scripted){output.params.sort=[{_script:{script:{source:sortField.script,lang:sortField.lang},type:sortField.type,order:sortOrder.value}}]}else{output.params.sort=[{[sortField.name]:{order:sortOrder.value}}]}}}],getValue(agg,bucket){const hits=external_osdSharedDeps_Lodash_default.a.get(bucket,"".concat(agg.id,".hits.hits"));if(!hits||!hits.length){return null}const path=agg.getParam("field").name;let values=external_osdSharedDeps_Lodash_default.a.flatten(hits.map(hit=>path==="_source"?hit._source:agg.getIndexPattern().flattenHit(hit,true)[path]));if(values.length===1){values=values[0]}if(Array.isArray(values)){if(!external_osdSharedDeps_Lodash_default.a.compact(values).length){return null}const aggregate=agg.getParam("aggregate");switch(aggregate.value){case"max":return external_osdSharedDeps_Lodash_default.a.max(values);case"min":return external_osdSharedDeps_Lodash_default.a.min(values);case"sum":return external_osdSharedDeps_Lodash_default.a.sum(values);case"average":return external_osdSharedDeps_Lodash_default.a.sum(values)/values.length}}return values}});const getCountMetricAgg=()=>new metric_agg_type_MetricAggType({name:METRIC_TYPES.COUNT,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.countTitle",{defaultMessage:"Count"}),hasNoDsl:true,json:false,makeLabel(){return external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.countLabel",{defaultMessage:"Count"})},getSerializedFormat(agg){return{id:"number"}},getValue(agg,bucket){return bucket.doc_count},isScalable(){return true}});var get_parsed_value=__webpack_require__(6);const fnName="aggFilter";const aggFilter=()=>({name:fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.filter.help",{defaultMessage:"Generates a serialized agg config for a Filter agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filter.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filter.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filter.schema.help",{defaultMessage:"Schema to use for this aggregation"})},geo_bounding_box:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filter.geoBoundingBox.help",{defaultMessage:"Filter results based on a point location within a bounding box"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filter.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filter.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.FILTER,params:{...rest,json:Object(get_parsed_value["a"])(args,"json"),geo_bounding_box:Object(get_parsed_value["a"])(args,"geo_bounding_box")}}}}});const filters_fn_fnName="aggFilters";const aggFilters=()=>({name:filters_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.filters.help",{defaultMessage:"Generates a serialized agg config for a Filter agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filters.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filters.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filters.schema.help",{defaultMessage:"Schema to use for this aggregation"})},filters:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filters.filters.help",{defaultMessage:"Filters to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.filters.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.FILTERS,params:{...rest,filters:Object(get_parsed_value["a"])(args,"filters"),json:Object(get_parsed_value["a"])(args,"json")}}}}});const significant_terms_fn_fnName="aggSignificantTerms";const aggSignificantTerms=()=>({name:significant_terms_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.significantTerms.help",{defaultMessage:"Generates a serialized agg config for a Significant Terms agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.field.help",{defaultMessage:"Field to use for this aggregation"})},size:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.size.help",{defaultMessage:"Max number of buckets to retrieve"})},exclude:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.exclude.help",{defaultMessage:"Specific bucket values to exclude from results"})},include:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.include.help",{defaultMessage:"Specific bucket values to include in results"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.significantTerms.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.SIGNIFICANT_TERMS,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const ip_range_fn_fnName="aggIpRange";const aggIpRange=()=>({name:ip_range_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.ipRange.help",{defaultMessage:"Generates a serialized agg config for a Ip Range agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRange.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRange.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRange.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRange.field.help",{defaultMessage:"Field to use for this aggregation"})},ipRangeType:{types:["string"],options:["mask","fromTo"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRange.ipRangeType.help",{defaultMessage:"IP range type to use for this aggregation. Takes one of the following values: mask, fromTo."})},ranges:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRange.ranges.help",{defaultMessage:"Serialized ranges to use for this aggregation."})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRange.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.ipRange.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.IP_RANGE,params:{...rest,json:Object(get_parsed_value["a"])(args,"json"),ranges:Object(get_parsed_value["a"])(args,"ranges")}}}}});const date_range_fn_fnName="aggDateRange";const aggDateRange=()=>({name:date_range_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.dateRange.help",{defaultMessage:"Generates a serialized agg config for a Date Range agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateRange.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateRange.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateRange.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateRange.field.help",{defaultMessage:"Field to use for this aggregation"})},ranges:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateRange.ranges.help",{defaultMessage:"Serialized ranges to use for this aggregation."})},time_zone:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateRange.timeZone.help",{defaultMessage:"Time zone to use for this aggregation."})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateRange.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateRange.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.DATE_RANGE,params:{...rest,json:Object(get_parsed_value["a"])(args,"json"),ranges:Object(get_parsed_value["a"])(args,"ranges")}}}}});const range_fn_fnName="aggRange";const aggRange=()=>({name:range_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.range.help",{defaultMessage:"Generates a serialized agg config for a Range agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.range.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.range.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.range.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.range.field.help",{defaultMessage:"Field to use for this aggregation"})},ranges:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.range.ranges.help",{defaultMessage:"Serialized ranges to use for this aggregation."})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.range.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.range.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.RANGE,params:{...rest,json:Object(get_parsed_value["a"])(args,"json"),ranges:Object(get_parsed_value["a"])(args,"ranges")}}}}});const geo_tile_fn_fnName="aggGeoTile";const aggGeoTile=()=>({name:geo_tile_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.geoTile.help",{defaultMessage:"Generates a serialized agg config for a Geo Tile agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoTile.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoTile.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoTile.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoTile.field.help",{defaultMessage:"Field to use for this aggregation"})},useGeocentroid:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoTile.useGeocentroid.help",{defaultMessage:"Specifies whether to use geocentroid for this aggregation"})},precision:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoTile.precision.help",{defaultMessage:"Precision to use for this aggregation."})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoTile.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoTile.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.GEOTILE_GRID,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const geo_hash_fn_fnName="aggGeoHash";const aggGeoHash=()=>({name:geo_hash_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.geoHash.help",{defaultMessage:"Generates a serialized agg config for a Geo Hash agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.field.help",{defaultMessage:"Field to use for this aggregation"})},useGeocentroid:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.useGeocentroid.help",{defaultMessage:"Specifies whether to use geocentroid for this aggregation"})},autoPrecision:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.autoPrecision.help",{defaultMessage:"Specifies whether to use auto precision for this aggregation"})},isFilteredByCollar:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.isFilteredByCollar.help",{defaultMessage:"Specifies whether to filter by collar"})},boundingBox:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.boundingBox.help",{defaultMessage:"Filter results based on a point location within a bounding box"})},precision:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.precision.help",{defaultMessage:"Precision to use for this aggregation."})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.geoHash.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.GEOHASH_GRID,params:{...rest,boundingBox:Object(get_parsed_value["a"])(args,"boundingBox"),json:Object(get_parsed_value["a"])(args,"json")}}}}});const histogram_fn_fnName="aggHistogram";const aggHistogram=()=>({name:histogram_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.histogram.help",{defaultMessage:"Generates a serialized agg config for a Histogram agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.field.help",{defaultMessage:"Field to use for this aggregation"})},interval:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.interval.help",{defaultMessage:"Interval to use for this aggregation"})},intervalBase:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.intervalBase.help",{defaultMessage:"IntervalBase to use for this aggregation"})},min_doc_count:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.minDocCount.help",{defaultMessage:"Specifies whether to use min_doc_count for this aggregation"})},maxBars:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.maxBars.help",{defaultMessage:"Calculate interval to get approximately this many bars"})},has_extended_bounds:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.hasExtendedBounds.help",{defaultMessage:"Specifies whether to use has_extended_bounds for this aggregation"})},extended_bounds:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.extendedBounds.help",{defaultMessage:'With extended_bounds setting, you now can "force" the histogram aggregation to start building buckets on a specific min value and also keep on building buckets up to a max value '})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.histogram.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.HISTOGRAM,params:{...rest,extended_bounds:Object(get_parsed_value["a"])(args,"extended_bounds"),json:Object(get_parsed_value["a"])(args,"json")}}}}});const date_histogram_fn_fnName="aggDateHistogram";const aggDateHistogram=()=>({name:date_histogram_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.dateHistogram.help",{defaultMessage:"Generates a serialized agg config for a Histogram agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.field.help",{defaultMessage:"Field to use for this aggregation"})},useNormalizedOpenSearchInterval:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.useNormalizedOpenSearchInterval.help",{defaultMessage:"Specifies whether to use useNormalizedOpenSearchInterval for this aggregation"})},time_zone:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.timeZone.help",{defaultMessage:"Time zone to use for this aggregation"})},format:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.format.help",{defaultMessage:"Format to use for this aggregation"})},scaleMetricValues:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.scaleMetricValues.help",{defaultMessage:"Specifies whether to use scaleMetricValues for this aggregation"})},interval:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.interval.help",{defaultMessage:"Interval to use for this aggregation"})},timeRange:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.timeRange.help",{defaultMessage:"Time Range to use for this aggregation"})},min_doc_count:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.minDocCount.help",{defaultMessage:"Minimum document count to use for this aggregation"})},drop_partials:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.dropPartials.help",{defaultMessage:"Specifies whether to use drop_partials for this aggregation"})},extended_bounds:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.extendedBounds.help",{defaultMessage:'With extended_bounds setting, you now can "force" the histogram aggregation to start building buckets on a specific min value and also keep on building buckets up to a max value '})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.dateHistogram.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.DATE_HISTOGRAM,params:{...rest,timeRange:Object(get_parsed_value["a"])(args,"timeRange"),extended_bounds:Object(get_parsed_value["a"])(args,"extended_bounds"),json:Object(get_parsed_value["a"])(args,"json")}}}}});const terms_fn_fnName="aggTerms";const aggTerms=()=>({name:terms_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.terms.help",{defaultMessage:"Generates a serialized agg config for a Terms agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.field.help",{defaultMessage:"Field to use for this aggregation"})},order:{types:["string"],options:["asc","desc"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.order.help",{defaultMessage:"Order in which to return the results: asc or desc"})},orderBy:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.orderBy.help",{defaultMessage:"Field to order results by"})},orderAgg:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.orderAgg.help",{defaultMessage:"Agg config to use for ordering results"})},size:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.size.help",{defaultMessage:"Max number of buckets to retrieve"})},missingBucket:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.missingBucket.help",{defaultMessage:"When set to true, groups together any buckets with missing fields"})},missingBucketLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.missingBucketLabel.help",{defaultMessage:"Default label used in charts when documents are missing a field."})},otherBucket:{types:["boolean"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.otherBucket.help",{defaultMessage:"When set to true, groups together any buckets beyond the allowed size"})},otherBucketLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.otherBucketLabel.help",{defaultMessage:"Default label used in charts for documents in the Other bucket"})},exclude:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.exclude.help",{defaultMessage:"Specific bucket values to exclude from results"})},include:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.include.help",{defaultMessage:"Specific bucket values to include in results"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.terms.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{var _args$orderAgg;const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:BUCKET_TYPES.TERMS,params:{...rest,orderAgg:(_args$orderAgg=args.orderAgg)===null||_args$orderAgg===void 0?void 0:_args$orderAgg.value,json:Object(get_parsed_value["a"])(args,"json")}}}}});const avg_fn_fnName="aggAvg";const aggAvg=()=>({name:avg_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.avg.help",{defaultMessage:"Generates a serialized agg config for a Avg agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.avg.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.avg.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.avg.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.avg.field.help",{defaultMessage:"Field to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.avg.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.avg.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.AVG,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const bucket_avg_fn_fnName="aggBucketAvg";const aggBucketAvg=()=>({name:bucket_avg_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.bucket_avg.help",{defaultMessage:"Generates a serialized agg config for a Avg Bucket agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_avg.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_avg.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_avg.schema.help",{defaultMessage:"Schema to use for this aggregation"})},customBucket:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_avg.customBucket.help",{defaultMessage:"Agg config to use for building sibling pipeline aggregations"})},customMetric:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_avg.customMetric.help",{defaultMessage:"Agg config to use for building sibling pipeline aggregations"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_avg.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_avg.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{var _args$customBucket,_args$customMetric;const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.AVG_BUCKET,params:{...rest,customBucket:(_args$customBucket=args.customBucket)===null||_args$customBucket===void 0?void 0:_args$customBucket.value,customMetric:(_args$customMetric=args.customMetric)===null||_args$customMetric===void 0?void 0:_args$customMetric.value,json:Object(get_parsed_value["a"])(args,"json")}}}}});const bucket_max_fn_fnName="aggBucketMax";const aggBucketMax=()=>({name:bucket_max_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.bucket_max.help",{defaultMessage:"Generates a serialized agg config for a Max Bucket agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_max.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_max.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_max.schema.help",{defaultMessage:"Schema to use for this aggregation"})},customBucket:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_max.customBucket.help",{defaultMessage:"Agg config to use for building sibling pipeline aggregations"})},customMetric:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_max.customMetric.help",{defaultMessage:"Agg config to use for building sibling pipeline aggregations"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_max.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_max.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{var _args$customBucket,_args$customMetric;const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.MAX_BUCKET,params:{...rest,customBucket:(_args$customBucket=args.customBucket)===null||_args$customBucket===void 0?void 0:_args$customBucket.value,customMetric:(_args$customMetric=args.customMetric)===null||_args$customMetric===void 0?void 0:_args$customMetric.value,json:Object(get_parsed_value["a"])(args,"json")}}}}});const bucket_min_fn_fnName="aggBucketMin";const aggBucketMin=()=>({name:bucket_min_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.bucket_min.help",{defaultMessage:"Generates a serialized agg config for a Min Bucket agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_min.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_min.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_min.schema.help",{defaultMessage:"Schema to use for this aggregation"})},customBucket:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_min.customBucket.help",{defaultMessage:"Agg config to use for building sibling pipeline aggregations"})},customMetric:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_min.customMetric.help",{defaultMessage:"Agg config to use for building sibling pipeline aggregations"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_min.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_min.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{var _args$customBucket,_args$customMetric;const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.MIN_BUCKET,params:{...rest,customBucket:(_args$customBucket=args.customBucket)===null||_args$customBucket===void 0?void 0:_args$customBucket.value,customMetric:(_args$customMetric=args.customMetric)===null||_args$customMetric===void 0?void 0:_args$customMetric.value,json:Object(get_parsed_value["a"])(args,"json")}}}}});const bucket_sum_fn_fnName="aggBucketSum";const aggBucketSum=()=>({name:bucket_sum_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.bucket_sum.help",{defaultMessage:"Generates a serialized agg config for a Sum Bucket agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_sum.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_sum.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_sum.schema.help",{defaultMessage:"Schema to use for this aggregation"})},customBucket:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_sum.customBucket.help",{defaultMessage:"Agg config to use for building sibling pipeline aggregations"})},customMetric:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_sum.customMetric.help",{defaultMessage:"Agg config to use for building sibling pipeline aggregations"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_sum.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.bucket_sum.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{var _args$customBucket,_args$customMetric;const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.SUM_BUCKET,params:{...rest,customBucket:(_args$customBucket=args.customBucket)===null||_args$customBucket===void 0?void 0:_args$customBucket.value,customMetric:(_args$customMetric=args.customMetric)===null||_args$customMetric===void 0?void 0:_args$customMetric.value,json:Object(get_parsed_value["a"])(args,"json")}}}}});const cardinality_fn_fnName="aggCardinality";const aggCardinality=()=>({name:cardinality_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.cardinality.help",{defaultMessage:"Generates a serialized agg config for a Cardinality agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cardinality.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cardinality.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cardinality.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cardinality.field.help",{defaultMessage:"Field to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cardinality.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cardinality.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.CARDINALITY,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const count_fn_fnName="aggCount";const aggCount=()=>({name:count_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.count.help",{defaultMessage:"Generates a serialized agg config for a Count agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.count.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.count.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.count.schema.help",{defaultMessage:"Schema to use for this aggregation"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.count.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.COUNT,params:rest}}}});const cumulative_sum_fn_fnName="aggCumulativeSum";const aggCumulativeSum=()=>({name:cumulative_sum_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.cumulative_sum.help",{defaultMessage:"Generates a serialized agg config for a Cumulative Sum agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulative_sum.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulative_sum.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulative_sum.schema.help",{defaultMessage:"Schema to use for this aggregation"})},metricAgg:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulative_sum.metricAgg.help",{defaultMessage:"Id for finding agg config to use for building parent pipeline aggregations"})},customMetric:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulative_sum.customMetric.help",{defaultMessage:"Agg config to use for building parent pipeline aggregations"})},buckets_path:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulative_sum.buckets_path.help",{defaultMessage:"Path to the metric of interest"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulative_sum.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.cumulative_sum.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{var _args$customMetric;const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.CUMULATIVE_SUM,params:{...rest,customMetric:(_args$customMetric=args.customMetric)===null||_args$customMetric===void 0?void 0:_args$customMetric.value,json:Object(get_parsed_value["a"])(args,"json")}}}}});const derivative_fn_fnName="aggDerivative";const aggDerivative=()=>({name:derivative_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.derivative.help",{defaultMessage:"Generates a serialized agg config for a Derivative agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivative.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivative.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivative.schema.help",{defaultMessage:"Schema to use for this aggregation"})},metricAgg:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivative.metricAgg.help",{defaultMessage:"Id for finding agg config to use for building parent pipeline aggregations"})},customMetric:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivative.customMetric.help",{defaultMessage:"Agg config to use for building parent pipeline aggregations"})},buckets_path:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivative.buckets_path.help",{defaultMessage:"Path to the metric of interest"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivative.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivative.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{var _args$customMetric;const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.DERIVATIVE,params:{...rest,customMetric:(_args$customMetric=args.customMetric)===null||_args$customMetric===void 0?void 0:_args$customMetric.value,json:Object(get_parsed_value["a"])(args,"json")}}}}});const geo_bounds_fn_fnName="aggGeoBounds";const aggGeoBounds=()=>({name:geo_bounds_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.geo_bounds.help",{defaultMessage:"Generates a serialized agg config for a Geo Bounds agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_bounds.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_bounds.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_bounds.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_bounds.field.help",{defaultMessage:"Field to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_bounds.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_bounds.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.GEO_BOUNDS,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const geo_centroid_fn_fnName="aggGeoCentroid";const aggGeoCentroid=()=>({name:geo_centroid_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.geo_centroid.help",{defaultMessage:"Generates a serialized agg config for a Geo Centroid agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_centroid.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_centroid.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_centroid.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_centroid.field.help",{defaultMessage:"Field to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_centroid.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.geo_centroid.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.GEO_CENTROID,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const max_fn_fnName="aggMax";const aggMax=()=>({name:max_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.max.help",{defaultMessage:"Generates a serialized agg config for a Max agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.max.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.max.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.max.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.max.field.help",{defaultMessage:"Field to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.max.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.max.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.MAX,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const median_fn_fnName="aggMedian";const aggMedian=()=>({name:median_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.median.help",{defaultMessage:"Generates a serialized agg config for a Median agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.median.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.median.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.median.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.median.field.help",{defaultMessage:"Field to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.median.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.median.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.MEDIAN,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const min_fn_fnName="aggMin";const aggMin=()=>({name:min_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.min.help",{defaultMessage:"Generates a serialized agg config for a Min agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.min.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.min.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.min.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.min.field.help",{defaultMessage:"Field to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.min.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.min.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.MIN,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const moving_avg_fn_fnName="aggMovingAvg";const aggMovingAvg=()=>({name:moving_avg_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.moving_avg.help",{defaultMessage:"Generates a serialized agg config for a Moving Average agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.moving_avg.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.moving_avg.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.moving_avg.schema.help",{defaultMessage:"Schema to use for this aggregation"})},metricAgg:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.moving_avg.metricAgg.help",{defaultMessage:"Id for finding agg config to use for building parent pipeline aggregations"})},customMetric:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.moving_avg.customMetric.help",{defaultMessage:"Agg config to use for building parent pipeline aggregations"})},window:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.moving_avg.window.help",{defaultMessage:'The size of window to "slide" across the histogram.'})},buckets_path:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.derivative.buckets_path.help",{defaultMessage:"Path to the metric of interest"})},script:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.moving_avg.script.help",{defaultMessage:"Id for finding agg config to use for building parent pipeline aggregations"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.moving_avg.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.moving_avg.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{var _args$customMetric;const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.MOVING_FN,params:{...rest,customMetric:(_args$customMetric=args.customMetric)===null||_args$customMetric===void 0?void 0:_args$customMetric.value,json:Object(get_parsed_value["a"])(args,"json")}}}}});const percentile_ranks_fn_fnName="aggPercentileRanks";const aggPercentileRanks=()=>({name:percentile_ranks_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.percentile_ranks.help",{defaultMessage:"Generates a serialized agg config for a Percentile Ranks agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentile_ranks.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentile_ranks.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentile_ranks.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentile_ranks.field.help",{defaultMessage:"Field to use for this aggregation"})},values:{types:["number"],multi:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentile_ranks.values.help",{defaultMessage:"Range of percentiles ranks"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentile_ranks.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentile_ranks.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.PERCENTILE_RANKS,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const percentiles_fn_fnName="aggPercentiles";const aggPercentiles=()=>({name:percentiles_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.percentiles.help",{defaultMessage:"Generates a serialized agg config for a Percentiles agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentiles.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentiles.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentiles.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentiles.field.help",{defaultMessage:"Field to use for this aggregation"})},percents:{types:["number"],multi:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentiles.percents.help",{defaultMessage:"Range of percentiles ranks"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentiles.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.percentiles.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.PERCENTILES,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const serial_diff_fn_fnName="aggSerialDiff";const aggSerialDiff=()=>({name:serial_diff_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.serial_diff.help",{defaultMessage:"Generates a serialized agg config for a Serial Differencing agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serial_diff.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serial_diff.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serial_diff.schema.help",{defaultMessage:"Schema to use for this aggregation"})},metricAgg:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serial_diff.metricAgg.help",{defaultMessage:"Id for finding agg config to use for building parent pipeline aggregations"})},customMetric:{types:["agg_type"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serial_diff.customMetric.help",{defaultMessage:"Agg config to use for building parent pipeline aggregations"})},buckets_path:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serial_diff.buckets_path.help",{defaultMessage:"Path to the metric of interest"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serial_diff.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.serial_diff.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{var _args$customMetric;const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.SERIAL_DIFF,params:{...rest,customMetric:(_args$customMetric=args.customMetric)===null||_args$customMetric===void 0?void 0:_args$customMetric.value,json:Object(get_parsed_value["a"])(args,"json")}}}}});const std_deviation_fn_fnName="aggStdDeviation";const aggStdDeviation=()=>({name:std_deviation_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.std_deviation.help",{defaultMessage:"Generates a serialized agg config for a Standard Deviation agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.std_deviation.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.std_deviation.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.std_deviation.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.std_deviation.field.help",{defaultMessage:"Field to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.std_deviation.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.std_deviation.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.STD_DEV,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const sum_fn_fnName="aggSum";const aggSum=()=>({name:sum_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.sum.help",{defaultMessage:"Generates a serialized agg config for a Sum agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.sum.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.sum.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.sum.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.sum.field.help",{defaultMessage:"Field to use for this aggregation"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.sum.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.sum.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.SUM,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const top_hit_fn_fnName="aggTopHit";const aggTopHit=()=>({name:top_hit_fn_fnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.metrics.top_hit.help",{defaultMessage:"Generates a serialized agg config for a Top Hit agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.schema.help",{defaultMessage:"Schema to use for this aggregation"})},field:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.field.help",{defaultMessage:"Field to use for this aggregation"})},aggregate:{types:["string"],required:true,options:["min","max","sum","average","concat"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.aggregate.help",{defaultMessage:"Aggregate type"})},size:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.size.help",{defaultMessage:"Max number of buckets to retrieve"})},sortOrder:{types:["string"],options:["desc","asc"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.sortOrder.help",{defaultMessage:"Order in which to return the results: asc or desc"})},sortField:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.sortField.help",{defaultMessage:"Field to order results by"})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.metrics.top_hit.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:METRIC_TYPES.TOP_HITS,params:{...rest,json:Object(get_parsed_value["a"])(args,"json")}}}}});const getAggTypes=()=>({metrics:[{name:METRIC_TYPES.COUNT,fn:getCountMetricAgg},{name:METRIC_TYPES.AVG,fn:getAvgMetricAgg},{name:METRIC_TYPES.SUM,fn:getSumMetricAgg},{name:METRIC_TYPES.MEDIAN,fn:getMedianMetricAgg},{name:METRIC_TYPES.MIN,fn:getMinMetricAgg},{name:METRIC_TYPES.MAX,fn:getMaxMetricAgg},{name:METRIC_TYPES.STD_DEV,fn:getStdDeviationMetricAgg},{name:METRIC_TYPES.CARDINALITY,fn:getCardinalityMetricAgg},{name:METRIC_TYPES.PERCENTILES,fn:getPercentilesMetricAgg},{name:METRIC_TYPES.PERCENTILE_RANKS,fn:getPercentileRanksMetricAgg},{name:METRIC_TYPES.TOP_HITS,fn:getTopHitMetricAgg},{name:METRIC_TYPES.DERIVATIVE,fn:getDerivativeMetricAgg},{name:METRIC_TYPES.CUMULATIVE_SUM,fn:getCumulativeSumMetricAgg},{name:METRIC_TYPES.MOVING_FN,fn:getMovingAvgMetricAgg},{name:METRIC_TYPES.SERIAL_DIFF,fn:getSerialDiffMetricAgg},{name:METRIC_TYPES.AVG_BUCKET,fn:getBucketAvgMetricAgg},{name:METRIC_TYPES.SUM_BUCKET,fn:getBucketSumMetricAgg},{name:METRIC_TYPES.MIN_BUCKET,fn:getBucketMinMetricAgg},{name:METRIC_TYPES.MAX_BUCKET,fn:getBucketMaxMetricAgg},{name:METRIC_TYPES.GEO_BOUNDS,fn:getGeoBoundsMetricAgg},{name:METRIC_TYPES.GEO_CENTROID,fn:getGeoCentroidMetricAgg}],buckets:[{name:BUCKET_TYPES.DATE_HISTOGRAM,fn:getDateHistogramBucketAgg},{name:BUCKET_TYPES.HISTOGRAM,fn:getHistogramBucketAgg},{name:BUCKET_TYPES.RANGE,fn:getRangeBucketAgg},{name:BUCKET_TYPES.DATE_RANGE,fn:getDateRangeBucketAgg},{name:BUCKET_TYPES.IP_RANGE,fn:getIpRangeBucketAgg},{name:BUCKET_TYPES.TERMS,fn:getTermsBucketAgg},{name:BUCKET_TYPES.FILTER,fn:getFilterBucketAgg},{name:BUCKET_TYPES.FILTERS,fn:getFiltersBucketAgg},{name:BUCKET_TYPES.SIGNIFICANT_TERMS,fn:getSignificantTermsBucketAgg},{name:BUCKET_TYPES.GEOHASH_GRID,fn:getGeoHashBucketAgg},{name:BUCKET_TYPES.GEOTILE_GRID,fn:getGeoTitleBucketAgg}]});const getAggTypesFunctions=()=>[aggAvg,aggBucketAvg,aggBucketMax,aggBucketMin,aggBucketSum,aggCardinality,aggCount,aggCumulativeSum,aggDerivative,aggGeoBounds,aggGeoCentroid,aggMax,aggMedian,aggMin,aggMovingAvg,aggPercentileRanks,aggPercentiles,aggSerialDiff,aggStdDeviation,aggSum,aggTopHit,aggFilter,aggFilters,aggSignificantTerms,aggIpRange,aggDateRange,aggRange,aggGeoTile,aggGeoHash,aggDateHistogram,aggHistogram,aggTerms];function agg_types_registry_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class AggTypesRegistry{constructor(){agg_types_registry_defineProperty(this,"bucketAggs",new Map);agg_types_registry_defineProperty(this,"metricAggs",new Map);agg_types_registry_defineProperty(this,"setup",()=>({registerBucket:(name,type)=>{if(this.bucketAggs.get(name)||this.metricAggs.get(name)){throw new Error("Agg has already been registered with name: ".concat(name))}this.bucketAggs.set(name,type)},registerMetric:(name,type)=>{if(this.bucketAggs.get(name)||this.metricAggs.get(name)){throw new Error("Agg has already been registered with name: ".concat(name))}this.metricAggs.set(name,type)}}));agg_types_registry_defineProperty(this,"start",_ref=>{let{uiSettings:uiSettings}=_ref;const disabledBucketAgg=uiSettings.get("visualize:disableBucketAgg");if(disabledBucketAgg!==undefined&&Array.isArray(disabledBucketAgg)){for(const k of this.bucketAggs.keys()){if(disabledBucketAgg.includes(k))this.bucketAggs.delete(k)}}return{get:name=>this.bucketAggs.get(name)||this.metricAggs.get(name),getAll:()=>({buckets:Array.from(this.bucketAggs.values()),metrics:Array.from(this.metricAggs.values())})}})}}function aggs_service_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const aggsRequiredUiSettings=["dateFormat","dateFormat:scaled","dateFormat:tz",common["UI_SETTINGS"].HISTOGRAM_BAR_TARGET,common["UI_SETTINGS"].HISTOGRAM_MAX_BARS,common["UI_SETTINGS"].SEARCH_QUERY_LANGUAGE,common["UI_SETTINGS"].QUERY_ALLOW_LEADING_WILDCARDS,common["UI_SETTINGS"].QUERY_STRING_OPTIONS,common["UI_SETTINGS"].COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX];class aggs_service_AggsCommonService{constructor(){aggs_service_defineProperty(this,"aggTypesRegistry",new AggTypesRegistry)}setup(_ref){let{registerFunction:registerFunction}=_ref;const aggTypesSetup=this.aggTypesRegistry.setup();const aggTypes=getAggTypes();aggTypes.buckets.forEach(_ref2=>{let{name:name,fn:fn}=_ref2;return aggTypesSetup.registerBucket(name,fn)});aggTypes.metrics.forEach(_ref3=>{let{name:name,fn:fn}=_ref3;return aggTypesSetup.registerMetric(name,fn)});const aggFunctions=getAggTypesFunctions();aggFunctions.forEach(fn=>registerFunction(fn));return{types:aggTypesSetup}}start(_ref4){let{getConfig:getConfig,uiSettings:uiSettings}=_ref4;const aggTypesStart=this.aggTypesRegistry.start({uiSettings:uiSettings});return{calculateAutoTimeExpression:Object(utils["e"])(getConfig),createAggConfigs:function(indexPattern){let configStates=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let schemas=arguments.length>2?arguments[2]:undefined;return new agg_configs_AggConfigs(indexPattern,configStates,{typesRegistry:aggTypesStart})},types:aggTypesStart}}}var param_types_agg=__webpack_require__(66);var base=__webpack_require__(23);var param_types_field=__webpack_require__(67);var json=__webpack_require__(69);var optioned=__webpack_require__(44);var string=__webpack_require__(68)},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/uiActions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AggConfig}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _osd_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);var _osd_i18n__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_osd_i18n__WEBPACK_IMPORTED_MODULE_1__);var _agg_params__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class AggConfig{static ensureIds(list){const have=[];const haveNot=[];list.forEach((function(obj){(obj.id?have:haveNot).push(obj)}));let nextId=AggConfig.nextId(have);haveNot.forEach((function(obj){obj.id=String(nextId++)}));return list}static nextId(list){return 1+list.reduce((function(max,obj){return Math.max(max,+obj.id||0)}),0)}constructor(aggConfigs,opts){_defineProperty(this,"aggConfigs",void 0);_defineProperty(this,"id",void 0);_defineProperty(this,"enabled",void 0);_defineProperty(this,"params",void 0);_defineProperty(this,"parent",void 0);_defineProperty(this,"brandNew",void 0);_defineProperty(this,"schema",void 0);_defineProperty(this,"__type",void 0);_defineProperty(this,"__typeDecorations",void 0);_defineProperty(this,"subAggs",[]);this.aggConfigs=aggConfigs;this.id=String(opts.id||AggConfig.nextId(aggConfigs.aggs));this.enabled=typeof opts.enabled==="boolean"?opts.enabled:true;this.params={};this.setType(opts.type);if(opts.schema){this.schema=opts.schema}this.setParams(opts.params||{});this.__type=this.__type}setParams(from){from=from||this.params||{};const to=this.params={};this.getAggParams().forEach(aggParam=>{let val=from[aggParam.name];if(val==null){if(aggParam.default==null)return;if(!lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isFunction(aggParam.default)){val=aggParam.default}else{val=aggParam.default(this);if(val==null)return}}if(aggParam.deserialize){const isTyped=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isFunction(aggParam.valueType);const isType=isTyped&&val instanceof aggParam.valueType;const isObject=!isTyped&&lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isObject(val);const isDeserialized=isType||isObject;if(!isDeserialized){val=aggParam.deserialize(val,this)}to[aggParam.name]=val;return}to[aggParam.name]=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.cloneDeep(val)})}getParam(key){return lodash__WEBPACK_IMPORTED_MODULE_0___default.a.get(this.params,key)}write(aggs){return Object(_agg_params__WEBPACK_IMPORTED_MODULE_2__["d"])(this.type.params,this,aggs)}isFilterable(){return lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isFunction(this.type.createFilter)}createFilter(key){let params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const createFilter=this.type.createFilter;if(!createFilter){throw new TypeError('The "'.concat(this.type.title,'" aggregation does not support filtering.'))}const field=this.getField();const label=this.getFieldDisplayName();if(field&&!field.filterable){let message='The "'.concat(label,'" field can not be used for filtering.');if(field.scripted){message='The "'.concat(label,'" field is scripted and can not be used for filtering.')}throw new TypeError(message)}return createFilter(this,key,params)}onSearchRequestStart(searchSource,options){if(!this.type){return Promise.resolve()}return Promise.all(this.type.params.map(param=>param.modifyAggConfigOnSearchRequestStart(this,searchSource,options)))}toDsl(aggConfigs){if(this.type.hasNoDsl)return;const output=this.write(aggConfigs);const configDsl={};configDsl[this.type.dslName||this.type.name]=output.params;if(this.subAggs.length&&!output.subAggs)output.subAggs=this.subAggs;if(output.subAggs){const subDslLvl=configDsl.aggs||(configDsl.aggs={});output.subAggs.forEach((function nestAdhocSubAggs(subAggConfig){subDslLvl[subAggConfig.id]=subAggConfig.toDsl(aggConfigs)}))}if(output.parentAggs){const subDslLvl=configDsl.parentAggs||(configDsl.parentAggs={});output.parentAggs.forEach((function nestAdhocSubAggs(subAggConfig){subDslLvl[subAggConfig.id]=subAggConfig.toDsl(aggConfigs)}))}return configDsl}serialize(){const params=this.params;const outParams=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.transform(this.getAggParams(),(out,aggParam)=>{let val=params[aggParam.name];if(val==null)return;if(aggParam.serialize)val=aggParam.serialize(val,this);if(val==null)return;out[aggParam.name]=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.cloneDeep(val)},{});return{id:this.id,enabled:this.enabled,type:this.type&&this.type.name,params:outParams,...this.schema&&{schema:this.schema}}}toJSON(){return this.serialize()}toSerializedFieldFormat(){return this.type?this.type.getSerializedFormat(this):{}}toExpressionAst(){const functionName=this.type&&this.type.expressionName;const{type:type,...rest}=this.serialize();if(!functionName||!rest.params){return}const params=Object.entries(rest.params).reduce((acc,_ref)=>{let[key,value]=_ref;const deserializedParam=this.getAggParams().find(p=>p.name===key);if(deserializedParam&&deserializedParam.toExpressionAst){const paramExpressionAst=deserializedParam.toExpressionAst(this.getParam(key));if(paramExpressionAst){acc[key]=[{type:"expression",chain:[paramExpressionAst]}]}}else if(typeof value==="object"){acc[key]=[JSON.stringify(value)]}else if(typeof value!=="undefined"){acc[key]=[value]}return acc},{});return{type:"function",function:functionName,arguments:{...params,id:[this.id],enabled:[this.enabled],...this.schema?{schema:[this.schema]}:{}}}}getAggParams(){return[...lodash__WEBPACK_IMPORTED_MODULE_0___default.a.hasIn(this,"type.params")?this.type.params:[]]}getRequestAggs(){return this.type&&this.type.getRequestAggs(this)||[this]}getResponseAggs(){return this.type&&this.type.getResponseAggs(this)||[this]}getValue(bucket){return this.type.getValue(this,bucket)}getKey(bucket,key){if(this.type.getKey){return this.type.getKey(bucket,key,this)}else{return""}}getFieldDisplayName(){const field=this.getField();return field?field.displayName||this.fieldName():""}getField(){return this.params.field}makeLabel(){let percentageMode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.params.customLabel){return this.params.customLabel}if(!this.type)return"";return percentageMode?_osd_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("data.search.aggs.percentageOfLabel",{defaultMessage:"Percentage of {label}",values:{label:this.type.makeLabel(this)}}):"".concat(this.type.makeLabel(this))}getIndexPattern(){return this.aggConfigs.indexPattern}getTimeRange(){return this.aggConfigs.timeRange}fieldName(){const field=this.getField();return field?field.name:""}fieldIsTimeField(){const indexPattern=this.getIndexPattern();if(!indexPattern)return false;const timeFieldName=indexPattern.timeFieldName;return timeFieldName&&this.fieldName()===timeFieldName}get type(){return this.__type}set type(type){if(this.__typeDecorations){lodash__WEBPACK_IMPORTED_MODULE_0___default.a.forOwn(this.__typeDecorations,(prop,name)=>{delete this[name]})}if(type&&lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isFunction(type.decorateAggConfig)){this.__typeDecorations=type.decorateAggConfig();Object.defineProperties(this,this.__typeDecorations)}this.__type=type;let availableFields=[];const fieldParam=this.type&&this.type.params.find(p=>p.type==="field");if(fieldParam){availableFields=fieldParam.getAvailableFields(this)}this.setParams({field:availableFields.find(field=>field.name===this.getField())})}setType(type){this.type=type}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _query_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65);var _osd_field_types_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4);__webpack_require__.d(__webpack_exports__,"b",(function(){return _osd_field_types_types__WEBPACK_IMPORTED_MODULE_1__["a"]}));__webpack_require__.d(__webpack_exports__,"c",(function(){return _osd_field_types_types__WEBPACK_IMPORTED_MODULE_1__["b"]}));var _index_patterns_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"h",(function(){return QuerySuggestionTypes}));__webpack_require__.d(__webpack_exports__,"f",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"g",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"d",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"e",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"a",(function(){return autocomplete_service_AutocompleteService}));__webpack_require__.d(__webpack_exports__,"b",(function(){return undefined}));let QuerySuggestionTypes;(function(QuerySuggestionTypes){QuerySuggestionTypes["Field"]="field";QuerySuggestionTypes["Value"]="value";QuerySuggestionTypes["Operator"]="operator";QuerySuggestionTypes["Conjunction"]="conjunction";QuerySuggestionTypes["RecentSearch"]="recentSearch"})(QuerySuggestionTypes||(QuerySuggestionTypes={}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var common=__webpack_require__(1);function resolver(title,field,query,boolFilter){const ttl=Math.floor(Date.now()/1e3/60);return[ttl,query,title,field.name,JSON.stringify(boolFilter)].join("|")}const getEmptyValueSuggestions=()=>Promise.resolve([]);const setupValueSuggestionProvider=core=>{const requestSuggestions=Object(external_osdSharedDeps_Lodash_["memoize"])((function(index,field,query){let boolFilter=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];let signal=arguments.length>4?arguments[4]:undefined;return core.http.fetch("/api/opensearch-dashboards/suggestions/values/".concat(index),{method:"POST",body:JSON.stringify({query:query,field:field.name,boolFilter:boolFilter}),signal:signal})}),resolver);return async _ref=>{let{indexPattern:indexPattern,field:field,query:query,boolFilter:boolFilter,signal:signal}=_ref;const shouldSuggestValues=core.uiSettings.get(common["UI_SETTINGS"].FILTERS_EDITOR_SUGGEST_VALUES);const{title:title}=indexPattern;if(field.type==="boolean"){return[true,false]}else if(!shouldSuggestValues||!field.aggregatable||field.type!=="string"){return[]}return await requestSuggestions(title,field,query,boolFilter,signal)}};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class autocomplete_service_AutocompleteService{constructor(initializerContext){_defineProperty(this,"autocompleteConfig",void 0);_defineProperty(this,"querySuggestionProviders",new Map);_defineProperty(this,"getValueSuggestions",void 0);_defineProperty(this,"addQuerySuggestionProvider",(language,provider)=>{if(language&&provider&&this.autocompleteConfig.querySuggestions.enabled){this.querySuggestionProviders.set(language,provider)}});_defineProperty(this,"getQuerySuggestions",args=>{const{language:language}=args;const provider=this.querySuggestionProviders.get(language);if(provider){return provider(args)}});_defineProperty(this,"hasQuerySuggestions",language=>this.querySuggestionProviders.has(language));const{autocomplete:autocomplete}=initializerContext.config.get();this.autocompleteConfig=autocomplete}setup(core){this.getValueSuggestions=this.autocompleteConfig.valueSuggestions.enabled?setupValueSuggestionProvider(core):getEmptyValueSuggestions;return{addQuerySuggestionProvider:this.addQuerySuggestionProvider,getQuerySuggestions:this.getQuerySuggestions}}start(){return{getQuerySuggestions:this.getQuerySuggestions,hasQuerySuggestions:this.hasQuerySuggestions,getValueSuggestions:this.getValueSuggestions}}clearProviders(){this.querySuggestionProviders.clear()}}},function(module,exports){module.exports=__osdSharedDeps__.MomentTimezone},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return index_pattern_select["IndexPatternSelectProps"]}));__webpack_require__.d(__webpack_exports__,"a",(function(){return filter_bar["a"]}));__webpack_require__.d(__webpack_exports__,"c",(function(){return QueryStringInput}));__webpack_require__.d(__webpack_exports__,"d",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"e",(function(){return search_bar["a"]}));__webpack_require__.d(__webpack_exports__,"f",(function(){return search_bar["SearchBarProps"]}));__webpack_require__.d(__webpack_exports__,"g",(function(){return search_bar["c"]}));__webpack_require__.d(__webpack_exports__,"h",(function(){return SuggestionsComponent}));var index_pattern_select=__webpack_require__(71);var filter_bar=__webpack_require__(81);var external_osdSharedDeps_React_=__webpack_require__(3);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var public_=__webpack_require__(20);const Fallback=()=>external_osdSharedDeps_React_default.a.createElement("div",null);const LazyQueryBarTopRow=external_osdSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(4)]).then(__webpack_require__.bind(null,163)));const QueryBarTopRow=props=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Suspense,{fallback:external_osdSharedDeps_React_default.a.createElement(Fallback,null)},external_osdSharedDeps_React_default.a.createElement(LazyQueryBarTopRow,props));const LazyQueryStringInputUI=Object(public_["withOpenSearchDashboards"])(external_osdSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(10)]).then(__webpack_require__.bind(null,162))));const QueryStringInput=props=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Suspense,{fallback:external_osdSharedDeps_React_default.a.createElement(Fallback,null)},external_osdSharedDeps_React_default.a.createElement(LazyQueryStringInputUI,props));var search_bar=__webpack_require__(45);const typeahead_Fallback=()=>external_osdSharedDeps_React_default.a.createElement("div",null);const LazySuggestionsComponent=external_osdSharedDeps_React_default.a.lazy(()=>__webpack_require__.e(5).then(__webpack_require__.bind(null,169)));const SuggestionsComponent=props=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Suspense,{fallback:external_osdSharedDeps_React_default.a.createElement(typeahead_Fallback,null)},external_osdSharedDeps_React_default.a.createElement(LazySuggestionsComponent,props))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return initParams}));__webpack_require__.d(__webpack_exports__,"d",(function(){return writeParams}));var _param_types_agg__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66);var _param_types_field__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67);var _param_types_optioned__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(44);var _param_types_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(68);var _param_types_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69);var _param_types_base__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(23);const paramTypeMap={field:_param_types_field__WEBPACK_IMPORTED_MODULE_1__["a"],optioned:_param_types_optioned__WEBPACK_IMPORTED_MODULE_2__["a"],string:_param_types_string__WEBPACK_IMPORTED_MODULE_3__["a"],json:_param_types_json__WEBPACK_IMPORTED_MODULE_4__["a"],agg:_param_types_agg__WEBPACK_IMPORTED_MODULE_0__["a"],_default:_param_types_base__WEBPACK_IMPORTED_MODULE_5__["a"]};const initParams=params=>params.map(config=>{const Class=paramTypeMap[config.type]||paramTypeMap._default;return new Class(config)});const writeParams=function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let aggConfig=arguments.length>1?arguments[1]:undefined;let aggs=arguments.length>2?arguments[2]:undefined;let locals=arguments.length>3?arguments[3]:undefined;const output={params:{}};locals=locals||{};params.forEach(param=>{if(param.write){param.write(aggConfig,output,aggs,locals)}else{if(param&&param.name){output.params[param.name]=aggConfig.params[param.name]}}});return output}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AggType}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _osd_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);var _osd_i18n__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_osd_i18n__WEBPACK_IMPORTED_MODULE_1__);var _agg_params__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35);var _param_types_base__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(23);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class AggType{constructor(config){_defineProperty(this,"name",void 0);_defineProperty(this,"type",void 0);_defineProperty(this,"subtype",void 0);_defineProperty(this,"dslName",void 0);_defineProperty(this,"expressionName",void 0);_defineProperty(this,"title",void 0);_defineProperty(this,"makeLabel",void 0);_defineProperty(this,"ordered",void 0);_defineProperty(this,"hasNoDsl",void 0);_defineProperty(this,"createFilter",void 0);_defineProperty(this,"params",void 0);_defineProperty(this,"getRequestAggs",void 0);_defineProperty(this,"getResponseAggs",void 0);_defineProperty(this,"decorateAggConfig",void 0);_defineProperty(this,"postFlightRequest",void 0);_defineProperty(this,"getSerializedFormat",void 0);_defineProperty(this,"getValue",void 0);_defineProperty(this,"getKey",void 0);_defineProperty(this,"paramByName",name=>this.params.find(p=>p.name===name));this.name=config.name;this.type=config.type||"metrics";this.dslName=config.dslName||config.name;this.expressionName=config.expressionName;this.title=config.title;this.makeLabel=config.makeLabel||Object(lodash__WEBPACK_IMPORTED_MODULE_0__["constant"])(this.name);this.ordered=config.ordered;this.hasNoDsl=!!config.hasNoDsl;if(config.createFilter){this.createFilter=config.createFilter}if(config.params&&config.params.length&&config.params[0]instanceof _param_types_base__WEBPACK_IMPORTED_MODULE_3__["a"]){this.params=config.params}else{const params=config.params?[...config.params]:[];if(config.json!==false){params.push({name:"json",type:"json",advanced:true})}if(config.customLabels!==false){params.push({name:"customLabel",displayName:_osd_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("data.search.aggs.string.customLabel",{defaultMessage:"Custom label"}),type:"string",write:lodash__WEBPACK_IMPORTED_MODULE_0__["noop"]})}this.params=Object(_agg_params__WEBPACK_IMPORTED_MODULE_2__["c"])(params)}this.getRequestAggs=config.getRequestAggs||lodash__WEBPACK_IMPORTED_MODULE_0__["noop"];this.getResponseAggs=config.getResponseAggs||(()=>{});this.decorateAggConfig=config.decorateAggConfig||(()=>({}));this.postFlightRequest=config.postFlightRequest||lodash__WEBPACK_IMPORTED_MODULE_0__["identity"];this.getSerializedFormat=config.getSerializedFormat||(agg=>agg.params.field?agg.aggConfigs.indexPattern.getFormatterForField(agg.params.field).toJSON():{});this.getValue=config.getValue||((agg,bucket)=>{})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return shortenDottedString}));__webpack_require__.d(__webpack_exports__,"a",(function(){return abort_utils["AbortError"]}));__webpack_require__.d(__webpack_exports__,"d",(function(){return abort_utils["toPromise"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return abort_utils["getCombinedSignal"]}));const DOT_PREFIX_RE=/(.).+?\./g;function shortenDottedString(input){return typeof input!=="string"?input:input.replace(DOT_PREFIX_RE,"$1.")}var abort_utils=__webpack_require__(52)},function(module,exports,__webpack_require__){"use strict";module.exports=function(cssWithMappingToString){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"findByTitle",(function(){return findByTitle}));__webpack_require__.d(__webpack_exports__,"validateDataSourceReference",(function(){return validateDataSourceReference}));__webpack_require__.d(__webpack_exports__,"getIndexPatternTitle",(function(){return getIndexPatternTitle}));async function findByTitle(client,title,dataSourceId){if(title){const savedObjects=(await client.find({type:"index-pattern",perPage:10,search:'"'.concat(title,'"'),searchFields:["title"],fields:["title"]})).filter(obj=>obj&&obj.attributes&&validateDataSourceReference(obj,dataSourceId));return savedObjects.find(obj=>obj.attributes.title.toLowerCase()===title.toLowerCase())}}const validateDataSourceReference=(indexPattern,dataSourceId)=>{const references=indexPattern.references;if(dataSourceId){return references.some(ref=>ref.id===dataSourceId&&ref.type==="data-source")}else{return references.length===0}};const getIndexPatternTitle=async(indexPatternTitle,references,getDataSource)=>{const DATA_SOURCE_INDEX_PATTERN_DELIMITER=".";let dataSourceTitle;const dataSourceReference=references.find(ref=>ref.type==="data-source");if(dataSourceReference){const dataSourceId=dataSourceReference.id;try{const{attributes:{title:title},error:error}=await getDataSource(dataSourceId);dataSourceTitle=error?dataSourceId:title}catch(e){dataSourceTitle=dataSourceId}return dataSourceTitle.concat(DATA_SOURCE_INDEX_PATTERN_DELIMITER).concat(indexPatternTitle)}else{return indexPatternTitle}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return setup}));__webpack_require__.d(__webpack_exports__,"b",(function(){return TEXT_CONTEXT_TYPE}));__webpack_require__.d(__webpack_exports__,"c",(function(){return html_content_type_setup}));__webpack_require__.d(__webpack_exports__,"a",(function(){return HTML_CONTEXT_TYPE}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var utils=__webpack_require__(25);const TEXT_CONTEXT_TYPE="text";const setup=function(format){let convert=arguments.length>1&&arguments[1]!==undefined?arguments[1]:utils["a"];const recurse=value=>{if(!value||!Object(external_osdSharedDeps_Lodash_["isFunction"])(value.map)){return convert.call(format,value)}return JSON.stringify(value.map(recurse))};return recurse};const HTML_CONTEXT_TYPE="html";const getConvertFn=(format,convert)=>{const fallbackHtml=function(value){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{field:field,hit:hit}=options;const formatted=Object(external_osdSharedDeps_Lodash_["escape"])(format.convert(value,"text"));return!field||!hit||!hit.highlight||!hit.highlight[field.name]?formatted:Object(utils["b"])(formatted,hit.highlight[field.name])};return convert||fallbackHtml};const html_content_type_setup=(format,htmlContextTypeConvert)=>{const convert=getConvertFn(format,htmlContextTypeConvert);const recurse=function(value){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(value==null){return Object(utils["a"])(value)}if(!value||!Object(external_osdSharedDeps_Lodash_["isFunction"])(value.map)){return convert.call(format,value,options)}const subValues=value.map(v=>recurse(v,options));const useMultiLine=subValues.some(sub=>sub.indexOf("\n")>-1);return subValues.join(","+(useMultiLine?"\n":" "))};const wrap=(value,options)=>"<span ng-non-bindable>".concat(recurse(value,options),"</span>");return wrap}},function(module,exports){module.exports=__osdSharedDeps__.OsdI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return convertDateRangeToString}));function convertDateRangeToString(_ref,format){let{from:from,to:to}=_ref;if(!from){return"Before "+format(to)}else if(!to){return"After "+format(from)}else{return format(from)+" to "+format(to)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return convertIPRangeToString}));const convertIPRangeToString=(range,format)=>{if(range.type==="mask"){return format(range.mask)}const from=range.from?format(range.from):"-Infinity";const to=range.to?format(range.to):"Infinity";return"".concat(from," to ").concat(to)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OptionedParamType}));var _base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class OptionedParamType extends _base__WEBPACK_IMPORTED_MODULE_0__["a"]{constructor(config){super(config);_defineProperty(this,"options",void 0);if(!config.write){this.write=(aggConfig,output)=>{output.params[this.name]=aggConfig.params[this.name].value}}if(!config.serialize){this.serialize=selected=>selected.value}if(!config.deserialize){this.deserialize=value=>this.options.find(option=>option.value===value)}this.options=config.options||[]}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SearchBar}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _osd_i18n_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41);var _osd_i18n_react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_osd_i18n_react__WEBPACK_IMPORTED_MODULE_1__);var _opensearch_dashboards_react_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20);var _opensearch_dashboards_react_public__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_opensearch_dashboards_react_public__WEBPACK_IMPORTED_MODULE_2__);var _create_search_bar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(70);__webpack_require__.d(__webpack_exports__,"c",(function(){return _create_search_bar__WEBPACK_IMPORTED_MODULE_3__["StatefulSearchBarProps"]}));const Fallback=()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null);const LazySearchBar=react__WEBPACK_IMPORTED_MODULE_0___default.a.lazy(()=>Promise.all([__webpack_require__.e(6),__webpack_require__.e(0),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,159)));const WrappedSearchBar=props=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Fallback,null)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LazySearchBar,props));const SearchBar=Object(_osd_i18n_react__WEBPACK_IMPORTED_MODULE_1__["injectI18n"])(Object(_opensearch_dashboards_react_public__WEBPACK_IMPORTED_MODULE_2__["withOpenSearchDashboards"])(WrappedSearchBar))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DuplicateIndexPatternError}));class DuplicateIndexPatternError extends Error{constructor(message){super(message);this.name="DuplicateIndexPatternError"}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return isFilterable}));__webpack_require__.d(__webpack_exports__,"d",(function(){return isNestedField}));__webpack_require__.d(__webpack_exports__,"b",(function(){return fieldList}));__webpack_require__.d(__webpack_exports__,"a",(function(){return index_pattern_field_IndexPatternField}));var osd_field_types=__webpack_require__(48);const filterableTypes=Object(osd_field_types["c"])();function isFilterable(field){return field.name==="_id"||field.scripted||Boolean(field.searchable&&filterableTypes.includes(field.type))}function isNestedField(field){var _field$subType;return!!((_field$subType=field.subType)!==null&&_field$subType!==void 0&&_field$subType.nested)}var external_osdSharedDeps_Lodash_=__webpack_require__(2);var types=__webpack_require__(4);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class index_pattern_field_IndexPatternField{constructor(spec,displayName){_defineProperty(this,"spec",void 0);_defineProperty(this,"displayName",void 0);_defineProperty(this,"osdFieldType",void 0);this.spec={...spec,type:spec.name==="_source"?"_source":spec.type};this.displayName=displayName;this.osdFieldType=Object(osd_field_types["d"])(spec.type)}get count(){return this.spec.count||0}set count(count){this.spec.count=count}get script(){return this.spec.script}set script(script){this.spec.script=script}get lang(){return this.spec.lang}set lang(lang){this.spec.lang=lang}get conflictDescriptions(){return this.spec.conflictDescriptions}set conflictDescriptions(conflictDescriptions){this.spec.conflictDescriptions=conflictDescriptions}get name(){return this.spec.name}get type(){return this.spec.type}get esTypes(){return this.spec.esTypes}get scripted(){return!!this.spec.scripted}get searchable(){return!!(this.spec.searchable||this.scripted)}get aggregatable(){return!!(this.spec.aggregatable||this.scripted)}get readFromDocValues(){return!!(this.spec.readFromDocValues&&!this.scripted)}get subType(){return this.spec.subType}get sortable(){return this.name==="_score"||(this.spec.indexed||this.aggregatable)&&this.osdFieldType.sortable}get filterable(){return this.name==="_id"||this.scripted||(this.spec.indexed||this.searchable)&&this.osdFieldType.filterable}get visualizable(){const notVisualizableFieldTypes=[types["b"].UNKNOWN,types["b"].CONFLICT];return this.aggregatable&&!notVisualizableFieldTypes.includes(this.spec.type)}toJSON(){return{count:this.count,script:this.script,lang:this.lang,conflictDescriptions:this.conflictDescriptions,name:this.name,type:this.type,esTypes:this.esTypes,scripted:this.scripted,searchable:this.searchable,aggregatable:this.aggregatable,readFromDocValues:this.readFromDocValues,subType:this.subType}}toSpec(){let{getFormatterForField:getFormatterForField}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{count:this.count,script:this.script,lang:this.lang,conflictDescriptions:this.conflictDescriptions,name:this.name,type:this.type,esTypes:this.esTypes,scripted:this.scripted,searchable:this.searchable,aggregatable:this.aggregatable,readFromDocValues:this.readFromDocValues,subType:this.subType,format:getFormatterForField?getFormatterForField(this).toJSON():undefined}}}var utils=__webpack_require__(37);function field_list_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const fieldList=function(){let specs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let shortDotsEnable=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;class FldList extends Array{constructor(){var _this;super();_this=this;field_list_defineProperty(this,"byName",new Map);field_list_defineProperty(this,"groups",new Map);field_list_defineProperty(this,"setByName",field=>this.byName.set(field.name,field));field_list_defineProperty(this,"setByGroup",field=>{if(typeof this.groups.get(field.type)==="undefined"){this.groups.set(field.type,new Map)}this.groups.get(field.type).set(field.name,field)});field_list_defineProperty(this,"removeByGroup",field=>this.groups.get(field.type).delete(field.name));field_list_defineProperty(this,"calcDisplayName",name=>shortDotsEnable?Object(utils["c"])(name):name);field_list_defineProperty(this,"getAll",()=>[...this.byName.values()]);field_list_defineProperty(this,"getByName",name=>this.byName.get(name));field_list_defineProperty(this,"getByType",type=>[...(this.groups.get(type)||new Map).values()]);field_list_defineProperty(this,"add",field=>{const newField=new index_pattern_field_IndexPatternField(field,this.calcDisplayName(field.name));this.push(newField);this.setByName(newField);this.setByGroup(newField)});field_list_defineProperty(this,"remove",field=>{this.removeByGroup(field);this.byName.delete(field.name);const fieldIndex=Object(external_osdSharedDeps_Lodash_["findIndex"])(this,{name:field.name});this.splice(fieldIndex,1)});field_list_defineProperty(this,"update",field=>{const newField=new index_pattern_field_IndexPatternField(field,this.calcDisplayName(field.name));const index=this.findIndex(f=>f.name===newField.name);this.splice(index,1,newField);this.setByName(newField);this.removeByGroup(newField);this.setByGroup(newField)});field_list_defineProperty(this,"removeAll",()=>{this.length=0;this.byName.clear();this.groups.clear()});field_list_defineProperty(this,"replaceAll",(function(){let spcs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_this.removeAll();spcs.forEach(_this.add)}));specs.map(field=>this.add(field))}toSpec(){let{getFormatterForField:getFormatterForField}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{...this.reduce((collector,field)=>{collector[field.name]=field.toSpec({getFormatterForField:getFormatterForField});return collector},{})}}}return new FldList}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return osd_field_type_OsdFieldType}));__webpack_require__.d(__webpack_exports__,"b",(function(){return castOpenSearchToOsdFieldTypeName}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getOsdFieldType}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getOsdTypeNames}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getFilterableOsdTypeNames}));var types=__webpack_require__(4);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class osd_field_type_OsdFieldType{constructor(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_defineProperty(this,"name",void 0);_defineProperty(this,"sortable",void 0);_defineProperty(this,"filterable",void 0);_defineProperty(this,"esTypes",void 0);this.name=options.name||types["b"].UNKNOWN;this.sortable=options.sortable||false;this.filterable=options.filterable||false;this.esTypes=Object.freeze((options.esTypes||[]).slice())}}const OsdFieldTypeUnknown=new osd_field_type_OsdFieldType({name:types["b"].UNKNOWN});const createOsdFieldTypes=()=>[new osd_field_type_OsdFieldType({name:types["b"].STRING,sortable:true,filterable:true,esTypes:[types["a"].STRING,types["a"].TEXT,types["a"].KEYWORD,types["a"]._TYPE,types["a"]._ID]}),new osd_field_type_OsdFieldType({name:types["b"].NUMBER,sortable:true,filterable:true,esTypes:[types["a"].FLOAT,types["a"].HALF_FLOAT,types["a"].SCALED_FLOAT,types["a"].DOUBLE,types["a"].INTEGER,types["a"].LONG,types["a"].UNSIGNED_LONG,types["a"].SHORT,types["a"].BYTE,types["a"].TOKEN_COUNT]}),new osd_field_type_OsdFieldType({name:types["b"].DATE,sortable:true,filterable:true,esTypes:[types["a"].DATE,types["a"].DATE_NANOS]}),new osd_field_type_OsdFieldType({name:types["b"].IP,sortable:true,filterable:true,esTypes:[types["a"].IP]}),new osd_field_type_OsdFieldType({name:types["b"].BOOLEAN,sortable:true,filterable:true,esTypes:[types["a"].BOOLEAN]}),new osd_field_type_OsdFieldType({name:types["b"].OBJECT,esTypes:[types["a"].OBJECT]}),new osd_field_type_OsdFieldType({name:types["b"].NESTED,esTypes:[types["a"].NESTED]}),new osd_field_type_OsdFieldType({name:types["b"].GEO_POINT,esTypes:[types["a"].GEO_POINT]}),new osd_field_type_OsdFieldType({name:types["b"].GEO_SHAPE,esTypes:[types["a"].GEO_SHAPE]}),new osd_field_type_OsdFieldType({name:types["b"].ATTACHMENT,esTypes:[types["a"].ATTACHMENT]}),new osd_field_type_OsdFieldType({name:types["b"].MURMUR3,esTypes:[types["a"].MURMUR3]}),new osd_field_type_OsdFieldType({name:types["b"]._SOURCE,esTypes:[types["a"]._SOURCE]}),new osd_field_type_OsdFieldType({name:types["b"].HISTOGRAM,filterable:true,esTypes:[types["a"].HISTOGRAM]}),new osd_field_type_OsdFieldType({name:types["b"].CONFLICT}),OsdFieldTypeUnknown];const registeredOsdTypes=createOsdFieldTypes();const getOsdFieldType=typeName=>registeredOsdTypes.find(t=>t.name===typeName)||OsdFieldTypeUnknown;const getOsdTypeNames=()=>registeredOsdTypes.filter(type=>type.name).map(type=>type.name);const castOpenSearchToOsdFieldTypeName=opensearchType=>{const type=registeredOsdTypes.find(t=>t.esTypes.includes(opensearchType));return type&&type.name?type.name:types["b"].UNKNOWN};const getFilterableOsdTypeNames=()=>registeredOsdTypes.filter(type=>type.filterable).map(type=>type.name)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTimeZoneFromSettings}));var moment_timezone__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33);var moment_timezone__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_0__);function getTimeZoneFromSettings(dateFormatTZ){const detectedTimezone=moment_timezone__WEBPACK_IMPORTED_MODULE_0___default.a.tz.guess();return dateFormatTZ==="Browser"?detectedTimezone:dateFormatTZ}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return kuery_syntax_error_DQLSyntaxError}));__webpack_require__.d(__webpack_exports__,"e",(function(){return nodeTypes}));__webpack_require__.d(__webpack_exports__,"d",(function(){return fromLiteralExpression}));__webpack_require__.d(__webpack_exports__,"c",(function(){return fromKueryExpression}));__webpack_require__.d(__webpack_exports__,"b",(function(){return doesKueryExpressionHaveLuceneSyntaxError}));__webpack_require__.d(__webpack_exports__,"f",(function(){return ast_toOpenSearchQuery}));var literal_namespaceObject={};__webpack_require__.r(literal_namespaceObject);__webpack_require__.d(literal_namespaceObject,"buildNode",(function(){return buildNode}));__webpack_require__.d(literal_namespaceObject,"toOpenSearchQuery",(function(){return toOpenSearchQuery}));var wildcard_namespaceObject={};__webpack_require__.r(wildcard_namespaceObject);__webpack_require__.d(wildcard_namespaceObject,"wildcardSymbol",(function(){return wildcardSymbol}));__webpack_require__.d(wildcard_namespaceObject,"buildNode",(function(){return wildcard_buildNode}));__webpack_require__.d(wildcard_namespaceObject,"test",(function(){return test}));__webpack_require__.d(wildcard_namespaceObject,"toOpenSearchQuery",(function(){return wildcard_toOpenSearchQuery}));__webpack_require__.d(wildcard_namespaceObject,"toQueryStringQuery",(function(){return toQueryStringQuery}));__webpack_require__.d(wildcard_namespaceObject,"hasLeadingWildcard",(function(){return hasLeadingWildcard}));var is_namespaceObject={};__webpack_require__.r(is_namespaceObject);__webpack_require__.d(is_namespaceObject,"buildNodeParams",(function(){return buildNodeParams}));__webpack_require__.d(is_namespaceObject,"toOpenSearchQuery",(function(){return is_toOpenSearchQuery}));var and_namespaceObject={};__webpack_require__.r(and_namespaceObject);__webpack_require__.d(and_namespaceObject,"buildNodeParams",(function(){return and_buildNodeParams}));__webpack_require__.d(and_namespaceObject,"toOpenSearchQuery",(function(){return and_toOpenSearchQuery}));var or_namespaceObject={};__webpack_require__.r(or_namespaceObject);__webpack_require__.d(or_namespaceObject,"buildNodeParams",(function(){return or_buildNodeParams}));__webpack_require__.d(or_namespaceObject,"toOpenSearchQuery",(function(){return or_toOpenSearchQuery}));var not_namespaceObject={};__webpack_require__.r(not_namespaceObject);__webpack_require__.d(not_namespaceObject,"buildNodeParams",(function(){return not_buildNodeParams}));__webpack_require__.d(not_namespaceObject,"toOpenSearchQuery",(function(){return not_toOpenSearchQuery}));var range_namespaceObject={};__webpack_require__.r(range_namespaceObject);__webpack_require__.d(range_namespaceObject,"buildNodeParams",(function(){return range_buildNodeParams}));__webpack_require__.d(range_namespaceObject,"toOpenSearchQuery",(function(){return range_toOpenSearchQuery}));var exists_namespaceObject={};__webpack_require__.r(exists_namespaceObject);__webpack_require__.d(exists_namespaceObject,"buildNodeParams",(function(){return exists_buildNodeParams}));__webpack_require__.d(exists_namespaceObject,"toOpenSearchQuery",(function(){return exists_toOpenSearchQuery}));var geo_bounding_box_namespaceObject={};__webpack_require__.r(geo_bounding_box_namespaceObject);__webpack_require__.d(geo_bounding_box_namespaceObject,"buildNodeParams",(function(){return geo_bounding_box_buildNodeParams}));__webpack_require__.d(geo_bounding_box_namespaceObject,"toOpenSearchQuery",(function(){return geo_bounding_box_toOpenSearchQuery}));var geo_polygon_namespaceObject={};__webpack_require__.r(geo_polygon_namespaceObject);__webpack_require__.d(geo_polygon_namespaceObject,"buildNodeParams",(function(){return geo_polygon_buildNodeParams}));__webpack_require__.d(geo_polygon_namespaceObject,"toOpenSearchQuery",(function(){return geo_polygon_toOpenSearchQuery}));var nested_namespaceObject={};__webpack_require__.r(nested_namespaceObject);__webpack_require__.d(nested_namespaceObject,"buildNodeParams",(function(){return nested_buildNodeParams}));__webpack_require__.d(nested_namespaceObject,"toOpenSearchQuery",(function(){return nested_toOpenSearchQuery}));var function_namespaceObject={};__webpack_require__.r(function_namespaceObject);__webpack_require__.d(function_namespaceObject,"buildNode",(function(){return function_buildNode}));__webpack_require__.d(function_namespaceObject,"buildNodeWithArgumentNodes",(function(){return buildNodeWithArgumentNodes}));__webpack_require__.d(function_namespaceObject,"toOpenSearchQuery",(function(){return function_toOpenSearchQuery}));var named_arg_namespaceObject={};__webpack_require__.r(named_arg_namespaceObject);__webpack_require__.d(named_arg_namespaceObject,"buildNode",(function(){return named_arg_buildNode}));__webpack_require__.d(named_arg_namespaceObject,"toOpenSearchQuery",(function(){return named_arg_toOpenSearchQuery}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var external_osdSharedDeps_Lodash_default=__webpack_require__.n(external_osdSharedDeps_Lodash_);var external_osdSharedDeps_OsdI18n_=__webpack_require__(0);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const endOfInputText=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.common.dql.errors.endOfInputText",{defaultMessage:"end of input"});const grammarRuleTranslations={fieldName:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.common.dql.errors.fieldNameText",{defaultMessage:"field name"}),value:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.common.dql.errors.valueText",{defaultMessage:"value"}),literal:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.common.dql.errors.literalText",{defaultMessage:"literal"}),whitespace:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.common.dql.errors.whitespaceText",{defaultMessage:"whitespace"})};class kuery_syntax_error_DQLSyntaxError extends Error{constructor(error,expression){let message=error.message;if(error.expected){const translatedExpectations=error.expected.map(expected=>grammarRuleTranslations[expected.description]||expected.description);const translatedExpectationText=translatedExpectations.join(", ");message=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.common.dql.errors.syntaxError",{defaultMessage:"Expected {expectedList} but {foundInput} found.",values:{expectedList:translatedExpectationText,foundInput:error.found?'"'.concat(error.found,'"'):endOfInputText}})}const fullMessage=[message,expression,Object(external_osdSharedDeps_Lodash_["repeat"])("-",error.location.start.offset)+"^"].join("\n");super(fullMessage);_defineProperty(this,"shortMessage",void 0);this.name="DQLSyntaxError";this.shortMessage=message}}var filters=__webpack_require__(22);function buildNode(value){return{type:"literal",value:value}}function toOpenSearchQuery(node){return node.value}var kuery=__webpack_require__(57);const fromExpression=function(expression){let parseOptions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let parse=arguments.length>2&&arguments[2]!==undefined?arguments[2]:kuery["parse"];if(typeof expression==="undefined"){throw new Error("expression must be a string, got undefined instead")}return parse(expression,{...parseOptions,helpers:{nodeTypes:nodeTypes}})};const fromLiteralExpression=function(expression){let parseOptions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return fromExpression(expression,{...parseOptions,startRule:"Literal"},kuery["parse"])};const fromKueryExpression=function(expression){let parseOptions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{return fromExpression(expression,parseOptions,kuery["parse"])}catch(error){if(error.name==="SyntaxError"){throw new kuery_syntax_error_DQLSyntaxError(error,expression)}else{throw error}}};const doesKueryExpressionHaveLuceneSyntaxError=expression=>{try{fromExpression(expression,{errorOnLuceneSyntax:true},kuery["parse"]);return false}catch(e){return e.message.startsWith("Lucene")}};const ast_toOpenSearchQuery=(node,indexPattern,config,context)=>{if(!node||!node.type||!nodeTypes[node.type]){return ast_toOpenSearchQuery(nodeTypes.function.buildNode("and",[]),indexPattern)}const nodeType=nodeTypes[node.type];return nodeType.toOpenSearchQuery(node,indexPattern,config,context)};const wildcardSymbol="@kuery-wildcard@";function escapeRegExp(str){return str.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function escapeQueryString(str){return str.replace(/[+-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function wildcard_buildNode(value){if(!value.includes(wildcardSymbol)){return fromLiteralExpression(value)}return{type:"wildcard",value:value}}function test(node,str){const{value:value}=node;const regex=value.split(wildcardSymbol).map(escapeRegExp).join("[\\s\\S]*");const regexp=new RegExp("^".concat(regex,"$"));return regexp.test(str)}function wildcard_toOpenSearchQuery(node){const{value:value}=node;return value.split(wildcardSymbol).join("*")}function toQueryStringQuery(node){const{value:value}=node;return value.split(wildcardSymbol).map(escapeQueryString).join("*")}function hasLeadingWildcard(node){const{value:value}=node;return value.startsWith(wildcardSymbol)&&value.replace(wildcardSymbol,"").length>0}function getFields(node,indexPattern){if(!indexPattern)return[];if(node.type==="literal"){const fieldName=toOpenSearchQuery(node);const field=indexPattern.fields.find(fld=>fld.name===fieldName);if(!field){return[]}return[field]}else if(node.type==="wildcard"){const fields=indexPattern.fields.filter(fld=>test(node,fld.name));return fields}}var utils=__webpack_require__(49);function getFullFieldNameNode(rootNameNode,indexPattern,nestedPath){const fullFieldNameNode={...rootNameNode,value:nestedPath?"".concat(nestedPath,".").concat(rootNameNode.value):rootNameNode.value};if(!indexPattern||fullFieldNameNode.type==="wildcard"&&!nestedPath){return fullFieldNameNode}const fields=getFields(fullFieldNameNode,indexPattern);const errors=fields.reduce((acc,field)=>{const nestedPathFromField=field.subType&&field.subType.nested?field.subType.nested.path:undefined;if(nestedPath&&!nestedPathFromField){return[...acc,"".concat(field.name,' is not a nested field but is in nested group "').concat(nestedPath,'" in the DQL expression.')]}if(nestedPathFromField&&!nestedPath){return[...acc,"".concat(field.name," is a nested field, but is not in a nested group in the DQL expression.")]}if(nestedPathFromField!==nestedPath){return[...acc,"Nested field ".concat(field.name," is being queried with the incorrect nested path. The correct path is ").concat(field.subType.nested.path,".")]}return acc},[]);if(errors.length>0){throw new Error(errors.join("\n"))}return fullFieldNameNode}function buildNodeParams(fieldName,value){let isPhrase=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(Object(external_osdSharedDeps_Lodash_["isUndefined"])(fieldName)){throw new Error("fieldName is a required argument")}if(Object(external_osdSharedDeps_Lodash_["isUndefined"])(value)){throw new Error("value is a required argument")}const fieldNode=typeof fieldName==="string"?fromLiteralExpression(fieldName):buildNode(fieldName);const valueNode=typeof value==="string"?fromLiteralExpression(value):buildNode(value);const isPhraseNode=buildNode(isPhrase);return{arguments:[fieldNode,valueNode,isPhraseNode]}}function is_toOpenSearchQuery(node,indexPattern){let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let context=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const{arguments:[fieldNameArg,valueArg,isPhraseArg]}=node;const fullFieldNameArg=getFullFieldNameNode(fieldNameArg,indexPattern,context!==null&&context!==void 0&&context.nested?context.nested.path:undefined);const fieldName=ast_toOpenSearchQuery(fullFieldNameArg);const value=!Object(external_osdSharedDeps_Lodash_["isUndefined"])(valueArg)?ast_toOpenSearchQuery(valueArg):valueArg;const type=isPhraseArg.value?"phrase":"best_fields";if(fullFieldNameArg.value===null){if(valueArg.type==="wildcard"){return{query_string:{query:toQueryStringQuery(valueArg)}}}return{multi_match:{type:type,query:value,lenient:true}}}const fields=indexPattern?getFields(fullFieldNameArg,indexPattern):[];if(fields&&fields.length===0){fields.push({name:ast_toOpenSearchQuery(fullFieldNameArg),scripted:false,type:""})}const isExistsQuery=valueArg.type==="wildcard"&&value==="*";const isAllFieldsQuery=fullFieldNameArg.type==="wildcard"&&fieldName==="*"||fields&&indexPattern&&fields.length===indexPattern.fields.length;const isMatchAllQuery=isExistsQuery&&isAllFieldsQuery;if(isMatchAllQuery){return{match_all:{}}}const queries=fields.reduce((accumulator,field)=>{const wrapWithNestedQuery=query=>{if(!(fullFieldNameArg.type==="wildcard")||!Object(external_osdSharedDeps_Lodash_["get"])(field,"subType.nested")||context!==null&&context!==void 0&&context.nested){return query}else{return{nested:{path:field.subType.nested.path,query:query,score_mode:"none"}}}};if(field.scripted){if(!isExistsQuery){return[...accumulator,{script:{...Object(filters["A"])(field,value)}}]}}else if(isExistsQuery){return[...accumulator,wrapWithNestedQuery({exists:{field:field.name}})]}else if(valueArg.type==="wildcard"){return[...accumulator,wrapWithNestedQuery({query_string:{fields:[field.name],query:toQueryStringQuery(valueArg)}})]}else if(field.type==="date"){const timeZoneParam=config.dateFormatTZ?{time_zone:Object(utils["a"])(config.dateFormatTZ)}:{};return[...accumulator,wrapWithNestedQuery({range:{[field.name]:{gte:value,lte:value,...timeZoneParam}}})]}else{const queryType=type==="phrase"?"match_phrase":"match";return[...accumulator,wrapWithNestedQuery({[queryType]:{[field.name]:value}})]}},[]);return{bool:{should:queries||[],minimum_should_match:1}}}function and_buildNodeParams(children){return{arguments:children}}function and_toOpenSearchQuery(node,indexPattern){let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let context=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const children=node.arguments||[];return{bool:{filter:children.map(child=>ast_toOpenSearchQuery(child,indexPattern,config,context))}}}function or_buildNodeParams(children){return{arguments:children}}function or_toOpenSearchQuery(node,indexPattern){let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let context=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const children=node.arguments||[];return{bool:{should:children.map(child=>ast_toOpenSearchQuery(child,indexPattern,config,context)),minimum_should_match:1}}}function not_buildNodeParams(child){return{arguments:[child]}}function not_toOpenSearchQuery(node,indexPattern){let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let context=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const[argument]=node.arguments;return{bool:{must_not:ast_toOpenSearchQuery(argument,indexPattern,config,context)}}}function range_buildNodeParams(fieldName,params){const paramsToMap=external_osdSharedDeps_Lodash_default.a.pick(params,"gt","lt","gte","lte","format");const fieldNameArg=typeof fieldName==="string"?fromLiteralExpression(fieldName):nodeTypes.literal.buildNode(fieldName);const args=external_osdSharedDeps_Lodash_default.a.map(paramsToMap,(value,key)=>nodeTypes.namedArg.buildNode(key,value));return{arguments:[fieldNameArg,...args]}}function range_toOpenSearchQuery(node,indexPattern){let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let context=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const[fieldNameArg,...args]=node.arguments;const fullFieldNameArg=getFullFieldNameNode(fieldNameArg,indexPattern,context!==null&&context!==void 0&&context.nested?context.nested.path:undefined);const fields=indexPattern?getFields(fullFieldNameArg,indexPattern):[];const namedArgs=extractArguments(args);const queryParams=external_osdSharedDeps_Lodash_default.a.mapValues(namedArgs,arg=>ast_toOpenSearchQuery(arg));if(fields&&fields.length===0){fields.push({name:ast_toOpenSearchQuery(fullFieldNameArg),scripted:false,type:""})}const queries=fields.map(field=>{const wrapWithNestedQuery=query=>{if(!(fullFieldNameArg.type==="wildcard")||!external_osdSharedDeps_Lodash_default.a.get(field,"subType.nested")||context.nested){return query}else{return{nested:{path:field.subType.nested.path,query:query,score_mode:"none"}}}};if(field.scripted){return{script:Object(filters["D"])(field,queryParams)}}else if(field.type==="date"){const timeZoneParam=config.dateFormatTZ?{time_zone:Object(utils["a"])(config.dateFormatTZ)}:{};return wrapWithNestedQuery({range:{[field.name]:{...queryParams,...timeZoneParam}}})}return wrapWithNestedQuery({range:{[field.name]:queryParams}})});return{bool:{should:queries,minimum_should_match:1}}}function extractArguments(args){if(args.gt&&args.gte||args.lt&&args.lte){throw new Error("range ends cannot be both inclusive and exclusive")}const unnamedArgOrder=["gte","lte","format"];return args.reduce((acc,arg,index)=>{if(arg.type==="namedArg"){acc[arg.name]=arg.value}else{acc[unnamedArgOrder[index]]=arg}return acc},{})}function exists_buildNodeParams(fieldName){return{arguments:[buildNode(fieldName)]}}function exists_toOpenSearchQuery(node,indexPattern){let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let context=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const{arguments:[fieldNameArg]}=node;const fullFieldNameArg={...fieldNameArg,value:context!==null&&context!==void 0&&context.nested?"".concat(context.nested.path,".").concat(fieldNameArg.value):fieldNameArg.value};const fieldName=toOpenSearchQuery(fullFieldNameArg);const field=Object(external_osdSharedDeps_Lodash_["get"])(indexPattern,"fields",[]).find(fld=>fld.name===fieldName);if(field&&field.scripted){throw new Error("Exists query does not support scripted fields")}return{exists:{field:fieldName}}}function geo_bounding_box_buildNodeParams(fieldName,params){params=external_osdSharedDeps_Lodash_default.a.pick(params,"topLeft","bottomRight");const fieldNameArg=nodeTypes.literal.buildNode(fieldName);const args=external_osdSharedDeps_Lodash_default.a.map(params,(value,key)=>{const latLon="".concat(value.lat,", ").concat(value.lon);return nodeTypes.namedArg.buildNode(key,latLon)});return{arguments:[fieldNameArg,...args]}}function geo_bounding_box_toOpenSearchQuery(node,indexPattern){var _indexPattern$fields;let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let context=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const[fieldNameArg,...args]=node.arguments;const fullFieldNameArg={...fieldNameArg,value:context!==null&&context!==void 0&&context.nested?"".concat(context.nested.path,".").concat(fieldNameArg.value):fieldNameArg.value};const fieldName=nodeTypes.literal.toOpenSearchQuery(fullFieldNameArg);const fieldList=(_indexPattern$fields=indexPattern===null||indexPattern===void 0?void 0:indexPattern.fields)!==null&&_indexPattern$fields!==void 0?_indexPattern$fields:[];const field=fieldList.find(fld=>fld.name===fieldName);const queryParams=args.reduce((acc,arg)=>{const snakeArgName=external_osdSharedDeps_Lodash_default.a.snakeCase(arg.name);return{...acc,[snakeArgName]:ast_toOpenSearchQuery(arg)}},{});if(field!==null&&field!==void 0&&field.scripted){throw new Error("Geo bounding box query does not support scripted fields")}return{geo_bounding_box:{[fieldName]:queryParams,ignore_unmapped:true}}}function geo_polygon_buildNodeParams(fieldName,points){const fieldNameArg=nodeTypes.literal.buildNode(fieldName);const args=points.map(point=>{const latLon="".concat(point.lat,", ").concat(point.lon);return nodeTypes.literal.buildNode(latLon)});return{arguments:[fieldNameArg,...args]}}function geo_polygon_toOpenSearchQuery(node,indexPattern){var _indexPattern$fields;let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let context=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const[fieldNameArg,...points]=node.arguments;const fullFieldNameArg={...fieldNameArg,value:context!==null&&context!==void 0&&context.nested?"".concat(context.nested.path,".").concat(fieldNameArg.value):fieldNameArg.value};const fieldName=nodeTypes.literal.toOpenSearchQuery(fullFieldNameArg);const fieldList=(_indexPattern$fields=indexPattern===null||indexPattern===void 0?void 0:indexPattern.fields)!==null&&_indexPattern$fields!==void 0?_indexPattern$fields:[];const field=fieldList.find(fld=>fld.name===fieldName);const queryParams={points:points.map(point=>ast_toOpenSearchQuery(point,indexPattern,config,context))};if(field!==null&&field!==void 0&&field.scripted){throw new Error("Geo polygon query does not support scripted fields")}return{geo_polygon:{[fieldName]:queryParams,ignore_unmapped:true}}}function nested_buildNodeParams(path,child){const pathNode=typeof path==="string"?fromLiteralExpression(path):buildNode(path);return{arguments:[pathNode,child]}}function nested_toOpenSearchQuery(node,indexPattern){var _context$nested;let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let context=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const[path,child]=node.arguments;const stringPath=ast_toOpenSearchQuery(path);const fullPath=context!==null&&context!==void 0&&(_context$nested=context.nested)!==null&&_context$nested!==void 0&&_context$nested.path?"".concat(context.nested.path,".").concat(stringPath):stringPath;return{nested:{path:fullPath,query:ast_toOpenSearchQuery(child,indexPattern,config,{...context,nested:{path:fullPath}}),score_mode:"none"}}}const functions={is:is_namespaceObject,and:and_namespaceObject,or:or_namespaceObject,not:not_namespaceObject,range:range_namespaceObject,exists:exists_namespaceObject,geoBoundingBox:geo_bounding_box_namespaceObject,geoPolygon:geo_polygon_namespaceObject,nested:nested_namespaceObject};function function_buildNode(functionName){const kueryFunction=functions[functionName];if(external_osdSharedDeps_Lodash_default.a.isUndefined(kueryFunction)){throw new Error('Unknown function "'.concat(functionName,'"'))}for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}return{type:"function",function:functionName,...kueryFunction.buildNodeParams(...args)}}function buildNodeWithArgumentNodes(functionName,args){if(external_osdSharedDeps_Lodash_default.a.isUndefined(functions[functionName])){throw new Error('Unknown function "'.concat(functionName,'"'))}return{type:"function",function:functionName,arguments:args}}function function_toOpenSearchQuery(node,indexPattern,config,context){const kueryFunction=functions[node.function];return kueryFunction.toOpenSearchQuery(node,indexPattern,config,context)}function named_arg_buildNode(name,value){const argumentNode=external_osdSharedDeps_Lodash_default.a.get(value,"type")==="literal"?value:nodeTypes.literal.buildNode(value);return{type:"namedArg",name:name,value:argumentNode}}function named_arg_toOpenSearchQuery(node){return ast_toOpenSearchQuery(node.value)}const nodeTypes={function:function_namespaceObject,literal:literal_namespaceObject,namedArg:named_arg_namespaceObject,wildcard:wildcard_namespaceObject}},function(module,exports){module.exports=__osdSharedDeps__.ElasticNumeral},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"AbortError",(function(){return AbortError}));__webpack_require__.d(__webpack_exports__,"toPromise",(function(){return toPromise}));__webpack_require__.d(__webpack_exports__,"getCombinedSignal",(function(){return getCombinedSignal}));class AbortError extends Error{constructor(){let message=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"Aborted";super(message);this.message=message;this.name="AbortError"}}function toPromise(signal){let abortHandler;const cleanup=()=>{if(abortHandler){signal.removeEventListener("abort",abortHandler)}};const promise=new Promise((resolve,reject)=>{if(signal.aborted)reject(new AbortError);abortHandler=()=>{cleanup();reject(new AbortError)};signal.addEventListener("abort",abortHandler)});return{promise:promise,cleanup:cleanup}}function getCombinedSignal(signals){const controller=new AbortController;let cleanup=()=>{};if(signals.some(signal=>signal.aborted)){controller.abort()}else{const promises=signals.map(signal=>toPromise(signal));cleanup=()=>{promises.forEach(p=>p.cleanup());controller.signal.removeEventListener("abort",cleanup)};controller.signal.addEventListener("abort",cleanup);Promise.race(promises.map(p=>p.promise)).catch(()=>{cleanup();controller.abort()})}return{signal:controller.signal,cleanup:cleanup}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _fields__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47);__webpack_require__.d(__webpack_exports__,"c",(function(){return _fields__WEBPACK_IMPORTED_MODULE_0__["a"]}));__webpack_require__.d(__webpack_exports__,"e",(function(){return _fields__WEBPACK_IMPORTED_MODULE_0__["b"]}));__webpack_require__.d(__webpack_exports__,"g",(function(){return _fields__WEBPACK_IMPORTED_MODULE_0__["c"]}));__webpack_require__.d(__webpack_exports__,"h",(function(){return _fields__WEBPACK_IMPORTED_MODULE_0__["d"]}));var _types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(58);var _index_patterns__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63);__webpack_require__.d(__webpack_exports__,"d",(function(){return _index_patterns__WEBPACK_IMPORTED_MODULE_2__["b"]}));var _errors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46);__webpack_require__.d(__webpack_exports__,"a",(function(){return _errors__WEBPACK_IMPORTED_MODULE_3__["a"]}));var _utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(39);__webpack_require__.d(__webpack_exports__,"i",(function(){return _utils__WEBPACK_IMPORTED_MODULE_4__["validateDataSourceReference"]}));__webpack_require__.d(__webpack_exports__,"f",(function(){return _utils__WEBPACK_IMPORTED_MODULE_4__["getIndexPatternTitle"]}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return buildOpenSearchQuery}));__webpack_require__.d(__webpack_exports__,"a",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"c",(function(){return buildQueryFromFilters}));__webpack_require__.d(__webpack_exports__,"f",(function(){return luceneStringToDsl}));__webpack_require__.d(__webpack_exports__,"d",(function(){return decorateQuery}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getOpenSearchQueryConfig}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var kuery=__webpack_require__(50);function buildQueryFromKuery(indexPattern){let queries=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let allowLeadingWildcards=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let dateFormatTZ=arguments.length>3?arguments[3]:undefined;const queryASTs=queries.map(query=>Object(kuery["c"])(query.query,{allowLeadingWildcards:allowLeadingWildcards}));return buildQuery(indexPattern,queryASTs,{dateFormatTZ:dateFormatTZ})}function buildQuery(indexPattern,queryASTs){let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const compoundQueryAST=kuery["e"].function.buildNode("and",queryASTs);const kueryQuery=Object(kuery["f"])(compoundQueryAST,indexPattern,config);return Object.assign({must:[],filter:[],should:[],must_not:[]},kueryQuery.bool)}var opensearch_query_filters=__webpack_require__(22);function isDeprecatedMatchPhraseFilter(filter){const fieldName=filter.query&&filter.query.match&&Object.keys(filter.query.match)[0];return Boolean(fieldName&&Object(external_osdSharedDeps_Lodash_["get"])(filter,["query","match",fieldName,"type"])==="phrase")}function migrateFilter(filter,indexPattern){if(isDeprecatedMatchPhraseFilter(filter)){const fieldName=Object.keys(filter.query.match)[0];const params=Object(external_osdSharedDeps_Lodash_["get"])(filter,["query","match",fieldName]);let query=params.query;if(indexPattern){const field=indexPattern.fields.find(f=>f.name===fieldName);if(field){query=Object(opensearch_query_filters["o"])(field,params.query)}}return{...filter,query:{match_phrase:{[fieldName]:Object(external_osdSharedDeps_Lodash_["omit"])({...params,query:query},"type")}}}}return filter}function filterMatchesIndex(filter,indexPattern){var _filter$meta;if(!((_filter$meta=filter.meta)!==null&&_filter$meta!==void 0&&_filter$meta.key)||!indexPattern){return true}return indexPattern.fields.some(field=>field.name===filter.meta.key)}const handleNestedFilter=(filter,indexPattern)=>{if(!indexPattern)return filter;const fieldName=Object(opensearch_query_filters["r"])(filter);if(!fieldName){return filter}const field=indexPattern.fields.find(indexPatternField=>indexPatternField.name===fieldName);if(!field||!field.subType||!field.subType.nested||!field.subType.nested.path){return filter}const query=Object(opensearch_query_filters["l"])(filter);return{meta:filter.meta,nested:{path:field.subType.nested.path,query:query.query||query}}};const filterNegate=reverse=>filter=>{if(Object(external_osdSharedDeps_Lodash_["isUndefined"])(filter.meta)||Object(external_osdSharedDeps_Lodash_["isUndefined"])(filter.meta.negate)){return!reverse}return filter.meta&&filter.meta.negate===reverse};const translateToQuery=filter=>{if(!filter)return;if(filter.query){return filter.query}return filter};const buildQueryFromFilters=function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let indexPattern=arguments.length>1?arguments[1]:undefined;let ignoreFilterIfFieldNotInIndex=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;filters=filters.filter(filter=>filter&&!Object(opensearch_query_filters["G"])(filter));const filtersToOpenSearchQueries=negate=>filters.filter(filterNegate(negate)).filter(filter=>!ignoreFilterIfFieldNotInIndex||filterMatchesIndex(filter,indexPattern)).map(filter=>migrateFilter(filter,indexPattern)).map(filter=>handleNestedFilter(filter,indexPattern)).map(translateToQuery).map(opensearch_query_filters["l"]);return{must:[],filter:filtersToOpenSearchQueries(false),should:[],must_not:filtersToOpenSearchQueries(true)}};var utils=__webpack_require__(49);const isOpenSearchQueryString=query=>Object(external_osdSharedDeps_Lodash_["has"])(query,"query_string.query");function decorateQuery(query,queryStringOptions,dateFormatTZ){if(isOpenSearchQueryString(query)){Object(external_osdSharedDeps_Lodash_["extend"])(query.query_string,queryStringOptions);if(dateFormatTZ){Object(external_osdSharedDeps_Lodash_["defaults"])(query.query_string,{time_zone:Object(utils["a"])(dateFormatTZ)})}}return query}function luceneStringToDsl(query){if(Object(external_osdSharedDeps_Lodash_["isString"])(query)){if(query.trim()===""){return{match_all:{}}}return{query_string:{query:query}}}return query}function buildQueryFromLucene(queries,queryStringOptions,dateFormatTZ){const combinedQueries=(queries||[]).map(query=>{const queryDsl=luceneStringToDsl(query.query);return decorateQuery(queryDsl,queryStringOptions,dateFormatTZ)});return{must:combinedQueries,filter:[],should:[],must_not:[]}}function buildOpenSearchQuery(indexPattern,queries,filters){let config=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{allowLeadingWildcards:false,queryStringOptions:{},ignoreFilterIfFieldNotInIndex:false};queries=Array.isArray(queries)?queries:[queries];filters=Array.isArray(filters)?filters:[filters];const validQueries=queries.filter(query=>Object(external_osdSharedDeps_Lodash_["has"])(query,"query"));const queriesByLanguage=Object(external_osdSharedDeps_Lodash_["groupBy"])(validQueries,"language");const kueryQuery=buildQueryFromKuery(indexPattern,queriesByLanguage.kuery,config.allowLeadingWildcards,config.dateFormatTZ);const luceneQuery=buildQueryFromLucene(queriesByLanguage.lucene,config.queryStringOptions,config.dateFormatTZ);const filterQuery=buildQueryFromFilters(filters,indexPattern,config.ignoreFilterIfFieldNotInIndex);return{bool:{must:[...kueryQuery.must,...luceneQuery.must,...filterQuery.must],filter:[...kueryQuery.filter,...luceneQuery.filter,...filterQuery.filter],should:[...kueryQuery.should,...luceneQuery.should,...filterQuery.should],must_not:[...kueryQuery.must_not,...luceneQuery.must_not,...filterQuery.must_not]}}}var common=__webpack_require__(1);function getOpenSearchQueryConfig(config){const allowLeadingWildcards=config.get(common["UI_SETTINGS"].QUERY_ALLOW_LEADING_WILDCARDS);const queryStringOptions=config.get(common["UI_SETTINGS"].QUERY_STRING_OPTIONS);const ignoreFilterIfFieldNotInIndex=config.get(common["UI_SETTINGS"].COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX);const dateFormatTZ=config.get("dateFormat:tz");return{allowLeadingWildcards:allowLeadingWildcards,queryStringOptions:queryStringOptions,ignoreFilterIfFieldNotInIndex:ignoreFilterIfFieldNotInIndex,dateFormatTZ:dateFormatTZ}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getRequestInspectorStats}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getResponseInspectorStats}));var external_osdSharedDeps_OsdI18n_=__webpack_require__(0);function getRequestInspectorStats(searchSource){const stats={};const index=searchSource.getField("index");if(index){stats.indexPattern={label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.indexPatternLabel",{defaultMessage:"Index pattern"}),value:index.title,description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.indexPatternDescription",{defaultMessage:"The index pattern that connected to the OpenSearch indices."})};stats.indexPatternId={label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.indexPatternIdLabel",{defaultMessage:"Index pattern ID"}),value:index.id,description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.indexPatternIdDescription",{defaultMessage:"The ID in the {opensearchDashboardsIndexPattern} index.",values:{opensearchDashboardsIndexPattern:".kibana"}})}}return stats}function getResponseInspectorStats(resp,searchSource){const lastRequest=(searchSource===null||searchSource===void 0?void 0:searchSource.history)&&searchSource.history[searchSource.history.length-1];const stats={};if(resp&&resp.took){stats.queryTime={label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.queryTimeLabel",{defaultMessage:"Query time"}),value:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.queryTimeValue",{defaultMessage:"{queryTime}ms",values:{queryTime:resp.took}}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.queryTimeDescription",{defaultMessage:"The time it took to process the query. "+"Does not include the time to send the request or parse it in the browser."})}}if(resp&&resp.hits){stats.hitsTotal={label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.hitsTotalLabel",{defaultMessage:"Hits (total)"}),value:"".concat(resp.hits.total),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.hitsTotalDescription",{defaultMessage:"The number of documents that match the query."})};stats.hits={label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.hitsLabel",{defaultMessage:"Hits"}),value:"".concat(resp.hits.hits.length),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.hitsDescription",{defaultMessage:"The number of documents returned by the query."})}}if(lastRequest&&(lastRequest.ms===0||lastRequest.ms)){stats.requestTime={label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.requestTimeLabel",{defaultMessage:"Request time"}),value:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.requestTimeValue",{defaultMessage:"{requestTime}ms",values:{requestTime:lastRequest.ms}}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.requestTimeDescription",{defaultMessage:"The time of the request from the browser to OpenSearch and back. "+"Does not include the time the requested waited in the queue."})}}return stats}},function(module,exports,__webpack_require__){exports.set=__webpack_require__(99);exports.setWith=__webpack_require__(142)},function(module,exports){module.exports=function(){"use strict";function peg$subclass(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor}function peg$SyntaxError(message,expected,found,location){this.message=message;this.expected=expected;this.found=found;this.location=location;this.name="SyntaxError";if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,peg$SyntaxError)}}peg$subclass(peg$SyntaxError,Error);function peg$parse(input){var options=arguments.length>1?arguments[1]:{},parser=this,peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart,Literal:peg$parseLiteral},peg$startRuleFunction=peg$parsestart,peg$c0=function(query,trailing){if(trailing.type==="cursor"){return{...trailing,suggestionTypes:["conjunction"]}}if(query!==null)return query;return nodeTypes.function.buildNode("is","*","*")},peg$c1=function(){return errorOnLuceneSyntax},peg$c2=function(left,right){const cursor=[left,right].find(node=>node.type==="cursor");if(cursor)return cursor;return buildFunctionNode("or",[left,right])},peg$c3=function(left,right){const cursor=[left,right].find(node=>node.type==="cursor");if(cursor)return cursor;return buildFunctionNode("and",[left,right])},peg$c4=function(query){if(query.type==="cursor")return query;return buildFunctionNode("not",[query])},peg$c5="(",peg$c6={type:"literal",value:"(",description:'"("'},peg$c7=")",peg$c8={type:"literal",value:")",description:'")"'},peg$c9=function(query,trailing){if(trailing.type==="cursor"){return{...trailing,suggestionTypes:["conjunction"]}}return query},peg$c10=":",peg$c11={type:"literal",value:":",description:'":"'},peg$c12="{",peg$c13={type:"literal",value:"{",description:'"{"'},peg$c14="}",peg$c15={type:"literal",value:"}",description:'"}"'},peg$c16=function(field,query,trailing){if(query.type==="cursor"){return{...query,nestedPath:query.nestedPath?"".concat(field.value,".").concat(query.nestedPath):field.value}}if(trailing.type==="cursor"){return{...trailing,suggestionTypes:["conjunction"]}}return buildFunctionNode("nested",[field,query])},peg$c17={type:"other",description:"fieldName"},peg$c18=function(field,operator,value){if(value.type==="cursor"){return{...value,suggestionTypes:["conjunction"]}}const range=buildNamedArgNode(operator,value);return buildFunctionNode("range",[field,range])},peg$c19=function(field,partial){if(partial.type==="cursor"){return{...partial,fieldName:field.value,suggestionTypes:["value","conjunction"]}}return partial(field)},peg$c20=function(partial){if(partial.type==="cursor"){const fieldName="".concat(partial.prefix).concat(partial.suffix).trim();return{...partial,fieldName:fieldName,suggestionTypes:["field","operator","conjunction"]}}const field=buildLiteralNode(null);return partial(field)},peg$c21=function(partial,trailing){if(trailing.type==="cursor"){return{...trailing,suggestionTypes:["conjunction"]}}return partial},peg$c22=function(partialLeft,partialRight){const cursor=[partialLeft,partialRight].find(node=>node.type==="cursor");if(cursor){return{...cursor,suggestionTypes:["value"]}}return field=>buildFunctionNode("or",[partialLeft(field),partialRight(field)])},peg$c23=function(partialLeft,partialRight){const cursor=[partialLeft,partialRight].find(node=>node.type==="cursor");if(cursor){return{...cursor,suggestionTypes:["value"]}}return field=>buildFunctionNode("and",[partialLeft(field),partialRight(field)])},peg$c24=function(partial){if(partial.type==="cursor"){return{...list,suggestionTypes:["value"]}}return field=>buildFunctionNode("not",[partial(field)])},peg$c25={type:"other",description:"value"},peg$c26=function(value){if(value.type==="cursor")return value;const isPhrase=buildLiteralNode(true);return field=>buildFunctionNode("is",[field,value,isPhrase])},peg$c27=function(value){if(value.type==="cursor")return value;if(!allowLeadingWildcards&&value.type==="wildcard"&&nodeTypes.wildcard.hasLeadingWildcard(value)){error("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.")}const isPhrase=buildLiteralNode(false);return field=>buildFunctionNode("is",[field,value,isPhrase])},peg$c28={type:"other",description:"OR"},peg$c29="or",peg$c30={type:"literal",value:"or",description:'"or"'},peg$c31={type:"other",description:"AND"},peg$c32="and",peg$c33={type:"literal",value:"and",description:'"and"'},peg$c34={type:"other",description:"NOT"},peg$c35="not",peg$c36={type:"literal",value:"not",description:'"not"'},peg$c37={type:"other",description:"literal"},peg$c38='"',peg$c39={type:"literal",value:'"',description:'"\\""'},peg$c40=function(prefix,cursor,suffix){const{start:start,end:end}=location();return{type:"cursor",start:start.offset,end:end.offset-cursor.length,prefix:prefix.join(""),suffix:suffix.join(""),text:text().replace(cursor,"")}},peg$c41=function(chars){return buildLiteralNode(chars.join(""))},peg$c42="\\",peg$c43={type:"literal",value:"\\",description:'"\\\\"'},peg$c44=/^[\\"]/,peg$c45={type:"class",value:'[\\\\"]',description:'[\\\\"]'},peg$c46=function(char){return char},peg$c47=/^[^"]/,peg$c48={type:"class",value:'[^"]',description:'[^"]'},peg$c49=function(chars){const sequence=chars.join("").trim();if(sequence==="null")return buildLiteralNode(null);if(sequence==="true")return buildLiteralNode(true);if(sequence==="false")return buildLiteralNode(false);if(chars.includes(wildcardSymbol))return buildWildcardNode(sequence);const isNumberPattern=/^(-?[1-9]+\d*([.]\d+)?)$|^(-?0[.]\d*[1-9]+)$|^0$|^0.0$|^[.]\d{1,}$/;return buildLiteralNode(isNumberPattern.test(sequence)?Number(sequence):sequence)},peg$c50={type:"any",description:"any character"},peg$c51="*",peg$c52={type:"literal",value:"*",description:'"*"'},peg$c53=function(){return wildcardSymbol},peg$c54="\\t",peg$c55={type:"literal",value:"\\t",description:'"\\\\t"'},peg$c56=function(){return"\t"},peg$c57="\\r",peg$c58={type:"literal",value:"\\r",description:'"\\\\r"'},peg$c59=function(){return"\r"},peg$c60="\\n",peg$c61={type:"literal",value:"\\n",description:'"\\\\n"'},peg$c62=function(){return"\n"},peg$c63=function(keyword){return keyword},peg$c64=/^[\\():<>"*{}]/,peg$c65={type:"class",value:'[\\\\():<>"*{}]',description:'[\\\\():<>"*{}]'},peg$c66="<=",peg$c67={type:"literal",value:"<=",description:'"<="'},peg$c68=function(){return"lte"},peg$c69=">=",peg$c70={type:"literal",value:">=",description:'">="'},peg$c71=function(){return"gte"},peg$c72="<",peg$c73={type:"literal",value:"<",description:'"<"'},peg$c74=function(){return"lt"},peg$c75=">",peg$c76={type:"literal",value:">",description:'">"'},peg$c77=function(){return"gt"},peg$c78={type:"other",description:"whitespace"},peg$c79=/^[ \t\r\n]/,peg$c80={type:"class",value:"[\\ \\t\\r\\n]",description:"[\\ \\t\\r\\n]"},peg$c81=function(){return parseCursor},peg$c82="@kuery-cursor@",peg$c83={type:"literal",value:"@kuery-cursor@",description:'"@kuery-cursor@"'},peg$c84=function(){return cursorSymbol},peg$c85="||",peg$c86={type:"literal",value:"||",description:'"||"'},peg$c87=function(){error("LuceneOr")},peg$c88="&&",peg$c89={type:"literal",value:"&&",description:'"&&"'},peg$c90=function(){error("LuceneAnd")},peg$c91="+",peg$c92={type:"literal",value:"+",description:'"+"'},peg$c93="-",peg$c94={type:"literal",value:"-",description:'"-"'},peg$c95=function(){error("LuceneNot")},peg$c96="!",peg$c97={type:"literal",value:"!",description:'"!"'},peg$c98="_exists_",peg$c99={type:"literal",value:"_exists_",description:'"_exists_"'},peg$c100=function(){error("LuceneExists")},peg$c101=function(){error("LuceneRange")},peg$c102="?",peg$c103={type:"literal",value:"?",description:'"?"'},peg$c104=function(){error("LuceneWildcard")},peg$c105="/",peg$c106={type:"literal",value:"/",description:'"/"'},peg$c107=/^[^\/]/,peg$c108={type:"class",value:"[^/]",description:"[^/]"},peg$c109=function(){error("LuceneRegex")},peg$c110="~",peg$c111={type:"literal",value:"~",description:'"~"'},peg$c112=/^[0-9]/,peg$c113={type:"class",value:"[0-9]",description:"[0-9]"},peg$c114=function(){error("LuceneFuzzy")},peg$c115=function(){error("LuceneProximity")},peg$c116="^",peg$c117={type:"literal",value:"^",description:'"^"'},peg$c118=function(){error("LuceneBoost")},peg$c119=function(){return char},peg$c120="=",peg$c121={type:"literal",value:"=",description:'"="'},peg$c122="[",peg$c123={type:"literal",value:"[",description:'"["'},peg$c124="]",peg$c125={type:"literal",value:"]",description:'"]"'},peg$c126="TO",peg$c127={type:"literal",value:"TO",description:'"TO"'},peg$currPos=0,peg$savedPos=0,peg$posDetailsCache=[{line:1,column:1,seenCR:false}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$result;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions)){throw new Error("Can't start parsing from rule \""+options.startRule+'".')}peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function text(){return input.substring(peg$savedPos,peg$currPos)}function location(){return peg$computeLocation(peg$savedPos,peg$currPos)}function expected(description){throw peg$buildException(null,[{type:"other",description:description}],input.substring(peg$savedPos,peg$currPos),peg$computeLocation(peg$savedPos,peg$currPos))}function error(message){throw peg$buildException(message,null,input.substring(peg$savedPos,peg$currPos),peg$computeLocation(peg$savedPos,peg$currPos))}function peg$computePosDetails(pos){var details=peg$posDetailsCache[pos],p,ch;if(details){return details}else{p=pos-1;while(!peg$posDetailsCache[p]){p--}details=peg$posDetailsCache[p];details={line:details.line,column:details.column,seenCR:details.seenCR};while(p<pos){ch=input.charAt(p);if(ch==="\n"){if(!details.seenCR){details.line++}details.column=1;details.seenCR=false}else if(ch==="\r"||ch==="\u2028"||ch==="\u2029"){details.line++;details.column=1;details.seenCR=true}else{details.column++;details.seenCR=false}p++}peg$posDetailsCache[pos]=details;return details}}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){if(peg$currPos<peg$maxFailPos){return}if(peg$currPos>peg$maxFailPos){peg$maxFailPos=peg$currPos;peg$maxFailExpected=[]}peg$maxFailExpected.push(expected)}function peg$buildException(message,expected,found,location){function cleanupExpected(expected){var i=1;expected.sort((function(a,b){if(a.description<b.description){return-1}else if(a.description>b.description){return 1}else{return 0}}));while(i<expected.length){if(expected[i-1]===expected[i]){expected.splice(i,1)}else{i++}}}function buildMessage(expected,found){function stringEscape(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(ch){return"\\x"+hex(ch)})).replace(/[\u0100-\u0FFF]/g,(function(ch){return"\\u0"+hex(ch)})).replace(/[\u1000-\uFFFF]/g,(function(ch){return"\\u"+hex(ch)}))}var expectedDescs=new Array(expected.length),expectedDesc,foundDesc,i;for(i=0;i<expected.length;i++){expectedDescs[i]=expected[i].description}expectedDesc=expected.length>1?expectedDescs.slice(0,-1).join(", ")+" or "+expectedDescs[expected.length-1]:expectedDescs[0];foundDesc=found?'"'+stringEscape(found)+'"':"end of input";return"Expected "+expectedDesc+" but "+foundDesc+" found."}if(expected!==null){cleanupExpected(expected)}return new peg$SyntaxError(message!==null?message:buildMessage(expected,found),expected,found,location)}function peg$parsestart(){var s0,s1,s2,s3;s0=peg$currPos;s1=[];s2=peg$parseSpace();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseSpace()}if(s1!==peg$FAILED){s2=peg$parseOrQuery();if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){s3=peg$parseOptionalSpace();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c0(s2,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseOrQuery(){var s0,s1,s2,s3;s0=peg$currPos;peg$savedPos=peg$currPos;s1=peg$c1();if(s1){s1=void 0}else{s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$parseLuceneQuery();if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseAndQuery();if(s1!==peg$FAILED){s2=peg$parseOr();if(s2!==peg$FAILED){s3=peg$parseOrQuery();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c2(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseAndQuery()}}return s0}function peg$parseAndQuery(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseNotQuery();if(s1!==peg$FAILED){s2=peg$parseAnd();if(s2!==peg$FAILED){s3=peg$parseAndQuery();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c3(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseNotQuery()}return s0}function peg$parseNotQuery(){var s0,s1,s2;s0=peg$currPos;s1=peg$parseNot();if(s1!==peg$FAILED){s2=peg$parseSubQuery();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c4(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseSubQuery()}return s0}function peg$parseSubQuery(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===40){s1=peg$c5;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}if(s2!==peg$FAILED){s3=peg$parseOrQuery();if(s3!==peg$FAILED){s4=peg$parseOptionalSpace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c7;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8)}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c9(s3,s4);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseNestedQuery()}return s0}function peg$parseNestedQuery(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;s0=peg$currPos;s1=peg$parseField();if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s3=peg$c10;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11)}}if(s3!==peg$FAILED){s4=[];s5=peg$parseSpace();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseSpace()}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===123){s5=peg$c12;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c13)}}if(s5!==peg$FAILED){s6=[];s7=peg$parseSpace();while(s7!==peg$FAILED){s6.push(s7);s7=peg$parseSpace()}if(s6!==peg$FAILED){s7=peg$parseOrQuery();if(s7!==peg$FAILED){s8=peg$parseOptionalSpace();if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s9=peg$c14;peg$currPos++}else{s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c15)}}if(s9!==peg$FAILED){peg$savedPos=s0;s1=peg$c16(s1,s7,s8);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseExpression()}return s0}function peg$parseExpression(){var s0;s0=peg$parseFieldRangeExpression();if(s0===peg$FAILED){s0=peg$parseFieldValueExpression();if(s0===peg$FAILED){s0=peg$parseValueExpression()}}return s0}function peg$parseField(){var s0,s1;peg$silentFails++;s0=peg$parseLiteral();peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17)}}return s0}function peg$parseFieldRangeExpression(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseField();if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}if(s2!==peg$FAILED){s3=peg$parseRangeOperator();if(s3!==peg$FAILED){s4=[];s5=peg$parseSpace();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseSpace()}if(s4!==peg$FAILED){s5=peg$parseLiteral();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c18(s1,s3,s5);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseFieldValueExpression(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseField();if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s3=peg$c10;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11)}}if(s3!==peg$FAILED){s4=[];s5=peg$parseSpace();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseSpace()}if(s4!==peg$FAILED){s5=peg$parseListOfValues();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c19(s1,s5);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseValueExpression(){var s0,s1;s0=peg$currPos;s1=peg$parseValue();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c20(s1)}s0=s1;return s0}function peg$parseListOfValues(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===40){s1=peg$c5;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}if(s2!==peg$FAILED){s3=peg$parseOrListOfValues();if(s3!==peg$FAILED){s4=peg$parseOptionalSpace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c7;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8)}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c21(s3,s4);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseValue()}return s0}function peg$parseOrListOfValues(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseAndListOfValues();if(s1!==peg$FAILED){s2=peg$parseOr();if(s2!==peg$FAILED){s3=peg$parseOrListOfValues();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c22(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseAndListOfValues()}return s0}function peg$parseAndListOfValues(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseNotListOfValues();if(s1!==peg$FAILED){s2=peg$parseAnd();if(s2!==peg$FAILED){s3=peg$parseAndListOfValues();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c23(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseNotListOfValues()}return s0}function peg$parseNotListOfValues(){var s0,s1,s2;s0=peg$currPos;s1=peg$parseNot();if(s1!==peg$FAILED){s2=peg$parseListOfValues();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c24(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseListOfValues()}return s0}function peg$parseValue(){var s0,s1;peg$silentFails++;s0=peg$currPos;s1=peg$parseQuotedString();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c26(s1)}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseUnquotedLiteral();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c27(s1)}s0=s1}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c25)}}return s0}function peg$parseOr(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;s1=[];s2=peg$parseSpace();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseSpace()}}else{s1=peg$FAILED}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2).toLowerCase()===peg$c29){s2=input.substr(peg$currPos,2);peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30)}}if(s2!==peg$FAILED){s3=[];s4=peg$parseSpace();if(s4!==peg$FAILED){while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseSpace()}}else{s3=peg$FAILED}if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;peg$savedPos=peg$currPos;s1=peg$c1();if(s1){s1=void 0}else{s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$parseLuceneOr();if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28)}}return s0}function peg$parseAnd(){var s0,s1,s2,s3,s4;peg$silentFails++;s0=peg$currPos;s1=[];s2=peg$parseSpace();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseSpace()}}else{s1=peg$FAILED}if(s1!==peg$FAILED){if(input.substr(peg$currPos,3).toLowerCase()===peg$c32){s2=input.substr(peg$currPos,3);peg$currPos+=3}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c33)}}if(s2!==peg$FAILED){s3=[];s4=peg$parseSpace();if(s4!==peg$FAILED){while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseSpace()}}else{s3=peg$FAILED}if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;peg$savedPos=peg$currPos;s1=peg$c1();if(s1){s1=void 0}else{s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$parseLuceneAnd();if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c31)}}return s0}function peg$parseNot(){var s0,s1,s2,s3;peg$silentFails++;s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c35){s1=input.substr(peg$currPos,3);peg$currPos+=3}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c36)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}}else{s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;peg$savedPos=peg$currPos;s1=peg$c1();if(s1){s1=void 0}else{s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$parseLuceneNot();if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c34)}}return s0}function peg$parseLiteral(){var s0,s1;peg$silentFails++;s0=peg$parseQuotedString();if(s0===peg$FAILED){s0=peg$parseUnquotedLiteral()}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c37)}}return s0}function peg$parseQuotedString(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===34){s1=peg$c38;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c39)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseQuotedCharacter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseQuotedCharacter()}if(s2!==peg$FAILED){s3=peg$parseCursor();if(s3!==peg$FAILED){s4=[];s5=peg$parseQuotedCharacter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseQuotedCharacter()}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s5=peg$c38;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c39)}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c40(s2,s3,s4);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===34){s1=peg$c38;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c39)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseQuotedCharacter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseQuotedCharacter()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s3=peg$c38;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c39)}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c41(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}return s0}function peg$parseQuotedCharacter(){var s0,s1,s2;s0=peg$parseEscapedWhitespace();if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c42;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43)}}if(s1!==peg$FAILED){if(peg$c44.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c45)}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c46(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$parseCursor();peg$silentFails--;if(s2===peg$FAILED){s1=void 0}else{peg$currPos=s1;s1=peg$FAILED}if(s1!==peg$FAILED){if(peg$c47.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c46(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}}return s0}function peg$parseUnquotedLiteral(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$parseUnquotedCharacter();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseUnquotedCharacter()}if(s1!==peg$FAILED){s2=peg$parseCursor();if(s2!==peg$FAILED){s3=[];s4=peg$parseUnquotedCharacter();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseUnquotedCharacter()}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c40(s1,s2,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;s1=[];s2=peg$parseUnquotedCharacter();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseUnquotedCharacter()}}else{s1=peg$FAILED}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c49(s1)}s0=s1}return s0}function peg$parseUnquotedCharacter(){var s0,s1,s2,s3,s4;s0=peg$parseEscapedWhitespace();if(s0===peg$FAILED){s0=peg$parseEscapedSpecialCharacter();if(s0===peg$FAILED){s0=peg$parseEscapedKeyword();if(s0===peg$FAILED){s0=peg$parseWildcard();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$parseSpecialCharacter();peg$silentFails--;if(s2===peg$FAILED){s1=void 0}else{peg$currPos=s1;s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseKeyword();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s3=peg$currPos;peg$silentFails++;s4=peg$parseCursor();peg$silentFails--;if(s4===peg$FAILED){s3=void 0}else{peg$currPos=s3;s3=peg$FAILED}if(s3!==peg$FAILED){if(input.length>peg$currPos){s4=input.charAt(peg$currPos);peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c50)}}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c46(s4);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}}}}return s0}function peg$parseWildcard(){var s0,s1;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===42){s1=peg$c51;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c53()}s0=s1;return s0}function peg$parseOptionalSpace(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$parseSpace();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseSpace()}if(s1!==peg$FAILED){s2=peg$parseCursor();if(s2!==peg$FAILED){s3=[];s4=peg$parseSpace();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseSpace()}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c40(s1,s2,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=[];s1=peg$parseSpace();while(s1!==peg$FAILED){s0.push(s1);s1=peg$parseSpace()}}return s0}function peg$parseEscapedWhitespace(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c54){s1=peg$c54;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c55)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c56()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c57){s1=peg$c57;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c58)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c59()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c60){s1=peg$c60;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c62()}s0=s1}}return s0}function peg$parseEscapedSpecialCharacter(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c42;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43)}}if(s1!==peg$FAILED){s2=peg$parseSpecialCharacter();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c46(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseEscapedKeyword(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c42;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43)}}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2).toLowerCase()===peg$c29){s2=input.substr(peg$currPos,2);peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,3).toLowerCase()===peg$c32){s2=input.substr(peg$currPos,3);peg$currPos+=3}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c33)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,3).toLowerCase()===peg$c35){s2=input.substr(peg$currPos,3);peg$currPos+=3}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c36)}}}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c63(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseKeyword(){var s0;s0=peg$parseOr();if(s0===peg$FAILED){s0=peg$parseAnd();if(s0===peg$FAILED){s0=peg$parseNot()}}return s0}function peg$parseSpecialCharacter(){var s0;if(peg$c64.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}return s0}function peg$parseRangeOperator(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c66){s1=peg$c66;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c67)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c68()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c69){s1=peg$c69;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c70)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c71()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===60){s1=peg$c72;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c73)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c74()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===62){s1=peg$c75;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c76)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c77()}s0=s1}}}return s0}function peg$parseSpace(){var s0,s1;peg$silentFails++;if(peg$c79.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80)}}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c78)}}return s0}function peg$parseCursor(){var s0,s1,s2;s0=peg$currPos;peg$savedPos=peg$currPos;s1=peg$c81();if(s1){s1=void 0}else{s1=peg$FAILED}if(s1!==peg$FAILED){if(input.substr(peg$currPos,14)===peg$c82){s2=peg$c82;peg$currPos+=14}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c83)}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c84();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneOr(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$parseSpace();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseSpace()}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c85){s2=peg$c85;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86)}}if(s2!==peg$FAILED){s3=[];s4=peg$parseSpace();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseSpace()}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c87();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneAnd(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$parseSpace();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseSpace()}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c88){s2=peg$c88;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89)}}if(s2!==peg$FAILED){s3=[];s4=peg$parseSpace();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseSpace()}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c90();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===43){s1=peg$c91;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c92)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c90()}s0=s1}return s0}function peg$parseLuceneNot(){var s0,s1;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===45){s1=peg$c93;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c94)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c95()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===33){s1=peg$c96;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c97)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c95()}s0=s1}return s0}function peg$parseLuceneQuery(){var s0;s0=peg$parseLuceneFieldQuery();if(s0===peg$FAILED){s0=peg$parseLuceneValue();if(s0===peg$FAILED){s0=peg$parseLuceneExists()}}return s0}function peg$parseLuceneFieldQuery(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseLuceneLiteral();if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s3=peg$c10;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11)}}if(s3!==peg$FAILED){s4=[];s5=peg$parseSpace();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseSpace()}if(s4!==peg$FAILED){s5=peg$parseLuceneValue();if(s5!==peg$FAILED){s1=[s1,s2,s3,s4,s5];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneValue(){var s0;s0=peg$parseLuceneRange();if(s0===peg$FAILED){s0=peg$parseLuceneWildcard();if(s0===peg$FAILED){s0=peg$parseLuceneRegex();if(s0===peg$FAILED){s0=peg$parseLuceneFuzzy();if(s0===peg$FAILED){s0=peg$parseLuceneProximity();if(s0===peg$FAILED){s0=peg$parseLuceneBoost()}}}}}return s0}function peg$parseLuceneExists(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,8)===peg$c98){s1=peg$c98;peg$currPos+=8}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c99)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s3=peg$c10;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11)}}if(s3!==peg$FAILED){s4=[];s5=peg$parseSpace();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseSpace()}if(s4!==peg$FAILED){s5=peg$parseLuceneLiteral();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c100();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneRange(){var s0,s1,s2,s3,s4,s5,s6;s0=peg$currPos;s1=peg$parseRangeOperator();if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}if(s2!==peg$FAILED){s3=peg$parseLuceneLiteral();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c101();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseLuceneRangeStart();if(s1!==peg$FAILED){s2=[];s3=peg$parseSpace();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSpace()}if(s2!==peg$FAILED){s3=peg$parseLuceneLiteral();if(s3!==peg$FAILED){s4=peg$parseLuceneTo();if(s4!==peg$FAILED){s5=peg$parseLuceneLiteral();if(s5!==peg$FAILED){s6=peg$parseLuceneRangeEnd();if(s6!==peg$FAILED){peg$savedPos=s0;s1=peg$c101();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}return s0}function peg$parseLuceneWildcard(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$parseLuceneUnquotedCharacter();if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===42){s2=peg$c51;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52)}}}while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseLuceneUnquotedCharacter();if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===42){s2=peg$c51;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52)}}}}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===63){s2=peg$c102;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c103)}}if(s2!==peg$FAILED){s3=[];s4=peg$parseLuceneWildcard();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseLuceneWildcard()}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c104();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneRegex(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===47){s1=peg$c105;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c106)}}if(s1!==peg$FAILED){s2=[];if(peg$c107.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c108)}}while(s3!==peg$FAILED){s2.push(s3);if(peg$c107.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c108)}}}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s3=peg$c105;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c106)}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c109();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneFuzzy(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parseLuceneUnquotedLiteral();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===126){s2=peg$c110;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c111)}}if(s2!==peg$FAILED){s3=[];if(peg$c112.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c113)}}while(s4!==peg$FAILED){s3.push(s4);if(peg$c112.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c113)}}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c114();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneProximity(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parseQuotedString();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===126){s2=peg$c110;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c111)}}if(s2!==peg$FAILED){s3=[];if(peg$c112.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c113)}}while(s4!==peg$FAILED){s3.push(s4);if(peg$c112.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c113)}}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c115();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneBoost(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parseLuceneLiteral();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===94){s2=peg$c116;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c117)}}if(s2!==peg$FAILED){s3=[];if(peg$c112.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c113)}}while(s4!==peg$FAILED){s3.push(s4);if(peg$c112.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c113)}}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c118();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneLiteral(){var s0;s0=peg$parseQuotedString();if(s0===peg$FAILED){s0=peg$parseLuceneUnquotedLiteral()}return s0}function peg$parseLuceneUnquotedLiteral(){var s0,s1;s0=[];s1=peg$parseLuceneUnquotedCharacter();if(s1!==peg$FAILED){while(s1!==peg$FAILED){s0.push(s1);s1=peg$parseLuceneUnquotedCharacter()}}else{s0=peg$FAILED}return s0}function peg$parseLuceneUnquotedCharacter(){var s0,s1,s2,s3;s0=peg$parseEscapedWhitespace();if(s0===peg$FAILED){s0=peg$parseEscapedLuceneSpecialCharacter();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$parseLuceneSpecialCharacter();peg$silentFails--;if(s2===peg$FAILED){s1=void 0}else{peg$currPos=s1;s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseLuceneKeyword();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){if(input.length>peg$currPos){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c50)}}if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}}return s0}function peg$parseLuceneKeyword(){var s0;s0=peg$parseOr();if(s0===peg$FAILED){s0=peg$parseAnd();if(s0===peg$FAILED){s0=peg$parseLuceneOr();if(s0===peg$FAILED){s0=peg$parseLuceneAnd();if(s0===peg$FAILED){s0=peg$parseLuceneNot();if(s0===peg$FAILED){s0=peg$parseLuceneTo()}}}}}return s0}function peg$parseEscapedLuceneSpecialCharacter(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c42;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43)}}if(s1!==peg$FAILED){s2=peg$parseLuceneSpecialCharacter();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c119();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneSpecialCharacter(){var s0;if(input.charCodeAt(peg$currPos)===43){s0=peg$c91;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c92)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===45){s0=peg$c93;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c94)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s0=peg$c120;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c121)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===62){s0=peg$c75;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c76)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===60){s0=peg$c72;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c73)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===33){s0=peg$c96;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c97)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===40){s0=peg$c5;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s0=peg$c7;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===123){s0=peg$c12;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c13)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s0=peg$c14;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c15)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===91){s0=peg$c122;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c123)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s0=peg$c124;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c125)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===94){s0=peg$c116;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c117)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s0=peg$c38;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c39)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===126){s0=peg$c110;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c111)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===42){s0=peg$c51;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===63){s0=peg$c102;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c103)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s0=peg$c10;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===92){s0=peg$c42;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s0=peg$c105;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c106)}}}}}}}}}}}}}}}}}}}}}return s0}function peg$parseLuceneTo(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$parseSpace();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseSpace()}}else{s1=peg$FAILED}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c126){s2=peg$c126;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c127)}}if(s2!==peg$FAILED){s3=[];s4=peg$parseSpace();if(s4!==peg$FAILED){while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseSpace()}}else{s3=peg$FAILED}if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLuceneRangeStart(){var s0;if(input.charCodeAt(peg$currPos)===91){s0=peg$c122;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c123)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===123){s0=peg$c12;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c13)}}}return s0}function peg$parseLuceneRangeEnd(){var s0;if(input.charCodeAt(peg$currPos)===93){s0=peg$c124;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c125)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s0=peg$c14;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c15)}}}return s0}const{errorOnLuceneSyntax:errorOnLuceneSyntax,parseCursor:parseCursor,cursorSymbol:cursorSymbol,allowLeadingWildcards:allowLeadingWildcards=true,helpers:{nodeTypes:nodeTypes}}=options;const buildFunctionNode=nodeTypes.function.buildNodeWithArgumentNodes;const buildLiteralNode=nodeTypes.literal.buildNode;const buildWildcardNode=nodeTypes.wildcard.buildNode;const buildNamedArgNode=nodeTypes.namedArg.buildNode;const{wildcardSymbol:wildcardSymbol}=nodeTypes.wildcard;peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length){return peg$result}else{if(peg$result!==peg$FAILED&&peg$currPos<input.length){peg$fail({type:"end",description:"end of input"})}throw peg$buildException(null,peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}}return{SyntaxError:peg$SyntaxError,parse:peg$parse}}()},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,exports,__webpack_require__){var getNative=__webpack_require__(74);var nativeCreate=getNative(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var eq=__webpack_require__(87);function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}module.exports=assocIndexOf},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(133);function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}module.exports=getMapData},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&typeof btoa!=="undefined"){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return createIndexPatternCache}));__webpack_require__.d(__webpack_exports__,"d",(function(){return flattenHitWrapper}));__webpack_require__.d(__webpack_exports__,"e",(function(){return formatHitProvider}));__webpack_require__.d(__webpack_exports__,"a",(function(){return index_pattern_IndexPattern}));__webpack_require__.d(__webpack_exports__,"b",(function(){return index_patterns_IndexPatternsService}));function createIndexPatternCache(){const vals={};const cache={get:id=>vals[id],set:(id,prom)=>{vals[id]=prom;return prom},clear:id=>{delete vals[id]},clearAll:()=>{for(const id in vals){if(vals.hasOwnProperty(id)){delete vals[id]}}}};return cache}var external_osdSharedDeps_Lodash_=__webpack_require__(2);var external_osdSharedDeps_Lodash_default=__webpack_require__.n(external_osdSharedDeps_Lodash_);function flattenHit(indexPattern,hit,deep){const flat={};const fields=indexPattern.fields.getByName;(function flatten(obj){let keyPrefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";keyPrefix=keyPrefix?keyPrefix+".":"";external_osdSharedDeps_Lodash_default.a.forOwn(obj,(function(val,key){key=keyPrefix+key;if(deep){const field=fields(key);const isNestedField=field&&field.type==="nested";const isArrayOfObjects=Array.isArray(val)&&external_osdSharedDeps_Lodash_default.a.isPlainObject(external_osdSharedDeps_Lodash_default.a.first(val));if(isArrayOfObjects&&!isNestedField){external_osdSharedDeps_Lodash_default.a.each(val,v=>flatten(v,key));return}}else if(flat[key]!==void 0){return}const field=fields(key);const hasValidMapping=field&&field.type!=="conflict";const isValue=!external_osdSharedDeps_Lodash_default.a.isPlainObject(val);if(hasValidMapping||isValue){if(!flat[key]){flat[key]=val}else if(Array.isArray(flat[key])){flat[key].push(val)}else{flat[key]=[flat[key],val]}return}flatten(val,key)}))})(hit._source);return flat}function decorateFlattenedWrapper(hit,metaFields){return function(flattened){external_osdSharedDeps_Lodash_default.a.each(metaFields,(function(meta){if(meta==="_source")return;flattened[meta]=hit[meta]}));external_osdSharedDeps_Lodash_default.a.forOwn(hit.fields,(function(val,key){if(key[0]==="_"&&!external_osdSharedDeps_Lodash_default.a.includes(metaFields,key))return;if(Array.isArray(val)&&val.length<=1){flattened[key]=val[0]}else{flattened[key]=val}}));return flattened}}function flattenHitWrapper(indexPattern){let metaFields=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let cache=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new WeakMap;return function cachedFlatten(hit){let deep=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const decorateFlattened=decorateFlattenedWrapper(hit,metaFields);const cached=cache.get(hit);const flattened=cached||flattenHit(indexPattern,hit,deep);if(!cached){cache.set(hit,{...flattened})}return decorateFlattened(flattened)}}function createFlattenHitWrapper(){const cache=new WeakMap;return external_osdSharedDeps_Lodash_default.a.partial(flattenHitWrapper,external_osdSharedDeps_Lodash_default.a,external_osdSharedDeps_Lodash_default.a,cache)}const formattedCache=new WeakMap;const partialFormattedCache=new WeakMap;function formatHitProvider(indexPattern,defaultFormat){function convert(hit,val,fieldName){let type=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"html";const field=indexPattern.fields.getByName(fieldName);const format=field?indexPattern.getFormatterForField(field):defaultFormat;return format.convert(val,type,{field:field,hit:hit,indexPattern:indexPattern})}function formatHit(hit){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"html";if(type==="text"){const flattened=indexPattern.flattenHit(hit);const result={};for(const[key,value]of Object.entries(flattened)){result[key]=convert(hit,value,key,type)}return result}const cached=formattedCache.get(hit);if(cached){return cached}const partials=partialFormattedCache.get(hit)||{};partialFormattedCache.set(hit,partials);const cache={};formattedCache.set(hit,cache);external_osdSharedDeps_Lodash_default.a.forOwn(indexPattern.flattenHit(hit),(function(val,fieldName){if(!fieldName){return}const formatted=partials[fieldName]==null?convert(hit,val,fieldName):partials[fieldName];cache[fieldName]=partials[fieldName]=formatted}));return cache}formatHit.formatField=function(hit,fieldName){let partials=partialFormattedCache.get(hit);if(partials&&partials[fieldName]!=null){return partials[fieldName]}if(!partials){partials={};partialFormattedCache.set(hit,partials)}const val=fieldName==="_source"?hit._source:indexPattern.flattenHit(hit)[fieldName];return convert(hit,val,fieldName)};return formatHit}var common_=__webpack_require__(16);var common=__webpack_require__(1);var index_patterns_fields=__webpack_require__(47);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const DATA_SOURCE_REFERNECE_NAME="dataSource";class index_pattern_IndexPattern{constructor(_ref){let{spec:spec={},fieldFormats:fieldFormats,shortDotsEnable:shortDotsEnable=false,metaFields:metaFields=[]}=_ref;_defineProperty(this,"id",void 0);_defineProperty(this,"title","");_defineProperty(this,"fieldFormatMap",void 0);_defineProperty(this,"typeMeta",void 0);_defineProperty(this,"fields",void 0);_defineProperty(this,"timeFieldName",void 0);_defineProperty(this,"intervalName",void 0);_defineProperty(this,"type",void 0);_defineProperty(this,"formatHit",void 0);_defineProperty(this,"formatField",void 0);_defineProperty(this,"flattenHit",void 0);_defineProperty(this,"metaFields",void 0);_defineProperty(this,"version",void 0);_defineProperty(this,"sourceFilters",void 0);_defineProperty(this,"dataSourceRef",void 0);_defineProperty(this,"originalSavedObjectBody",{});_defineProperty(this,"shortDotsEnable",false);_defineProperty(this,"fieldFormats",void 0);_defineProperty(this,"getOriginalSavedObjectBody",()=>({...this.originalSavedObjectBody}));_defineProperty(this,"resetOriginalSavedObjectBody",()=>{this.originalSavedObjectBody=this.getAsSavedObjectBody()});_defineProperty(this,"fieldSpecsToFieldFormatMap",(function(){let fldList=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return Object.values(fldList).reduce((col,fieldSpec)=>{if(fieldSpec.format){col[fieldSpec.name]={...fieldSpec.format}}return col},{})}));_defineProperty(this,"getSaveObjectReference",()=>this.dataSourceRef?[{id:this.dataSourceRef.id,type:this.dataSourceRef.type,name:DATA_SOURCE_REFERNECE_NAME}]:[]);this.fieldFormats=fieldFormats;this.shortDotsEnable=shortDotsEnable;this.metaFields=metaFields;this.fields=Object(index_patterns_fields["b"])([],this.shortDotsEnable);this.flattenHit=flattenHitWrapper(this,metaFields);this.formatHit=formatHitProvider(this,fieldFormats.getDefaultInstance(common["OSD_FIELD_TYPES"].STRING));this.formatField=this.formatHit.formatField;this.id=spec.id;const fieldFormatMap=this.fieldSpecsToFieldFormatMap(spec.fields);this.version=spec.version;this.title=spec.title||"";this.timeFieldName=spec.timeFieldName;this.sourceFilters=spec.sourceFilters;this.fields.replaceAll(Object.values(spec.fields||{}));this.type=spec.type;this.typeMeta=spec.typeMeta;this.fieldFormatMap=external_osdSharedDeps_Lodash_default.a.mapValues(fieldFormatMap,mapping=>this.deserializeFieldFormatMap(mapping));this.dataSourceRef=spec.dataSourceRef}deserializeFieldFormatMap(mapping){try{return this.fieldFormats.getInstance(mapping.id,mapping.params)}catch(err){if(err instanceof common["FieldFormatNotFoundError"]){return undefined}else{throw err}}}getComputedFields(){const scriptFields={};if(!this.fields){return{storedFields:["*"],scriptFields:scriptFields,docvalueFields:[]}}const docvalueFields=Object(external_osdSharedDeps_Lodash_["reject"])(this.fields.getByType("date"),"scripted").map(dateField=>({field:dateField.name,format:dateField.esTypes&&dateField.esTypes.indexOf("date_nanos")!==-1?"strict_date_time":"date_time"}));Object(external_osdSharedDeps_Lodash_["each"])(this.getScriptedFields(),(function(field){scriptFields[field.name]={script:{source:field.script,lang:field.lang}}}));return{storedFields:["*"],scriptFields:scriptFields,docvalueFields:docvalueFields}}toSpec(){return{id:this.id,version:this.version,title:this.title,timeFieldName:this.timeFieldName,sourceFilters:this.sourceFilters,fields:this.fields.toSpec({getFormatterForField:this.getFormatterForField.bind(this)}),typeMeta:this.typeMeta,type:this.type,dataSourceRef:this.dataSourceRef}}getSourceFiltering(){return{excludes:this.sourceFilters&&this.sourceFilters.map(filter=>filter.value)||[]}}async addScriptedField(name,script){let fieldType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"string";const scriptedFields=this.getScriptedFields();const names=external_osdSharedDeps_Lodash_default.a.map(scriptedFields,"name");if(external_osdSharedDeps_Lodash_default.a.includes(names,name)){throw new common_["DuplicateField"](name)}this.fields.add({name:name,script:script,type:fieldType,scripted:true,lang:"painless",aggregatable:true,searchable:true,count:0,readFromDocValues:false})}removeScriptedField(fieldName){const field=this.fields.getByName(fieldName);if(field){this.fields.remove(field)}}getNonScriptedFields(){return[...this.fields.getAll().filter(field=>!field.scripted)]}getScriptedFields(){return[...this.fields.getAll().filter(field=>field.scripted)]}getIndex(){if(!this.isUnsupportedTimePattern()){return this.title}const regex=/\[[^\]]*]/g;const splits=this.title.split(regex);const matches=this.title.match(regex)||[];return splits.map((split,i)=>{const match=i>=matches.length?"":matches[i].replace(/[\[\]]/g,"");return"".concat(split.length?"*":"").concat(match)}).join("")}isUnsupportedTimePattern(){return!!this.intervalName}isTimeBased(){return!!this.timeFieldName&&(!this.fields||!!this.getTimeField())}isTimeNanosBased(){const timeField=this.getTimeField();return timeField&&timeField.esTypes&&timeField.esTypes.indexOf("date_nanos")!==-1}getTimeField(){if(!this.timeFieldName||!this.fields||!this.fields.getByName)return undefined;return this.fields.getByName(this.timeFieldName)}getFieldByName(name){if(!this.fields||!this.fields.getByName)return undefined;return this.fields.getByName(name)}getAggregationRestrictions(){var _this$typeMeta;return(_this$typeMeta=this.typeMeta)===null||_this$typeMeta===void 0?void 0:_this$typeMeta.aggs}getAsSavedObjectBody(){const serializeFieldFormatMap=(flat,format,field)=>{if(format&&field){flat[field]=format}};const serialized=external_osdSharedDeps_Lodash_default.a.transform(this.fieldFormatMap,serializeFieldFormatMap);const fieldFormatMap=external_osdSharedDeps_Lodash_default.a.isEmpty(serialized)?undefined:JSON.stringify(serialized);return{title:this.title,timeFieldName:this.timeFieldName,intervalName:this.intervalName,sourceFilters:this.sourceFilters?JSON.stringify(this.sourceFilters):undefined,fields:this.fields?JSON.stringify(this.fields):undefined,fieldFormatMap:fieldFormatMap,type:this.type,typeMeta:this.typeMeta?JSON.stringify(this.typeMeta):undefined}}getFormatterForField(field){return this.fieldFormatMap[field.name]||this.fieldFormats.getDefaultInstance(field.type,field.esTypes)}}var external_osdSharedDeps_OsdI18n_=__webpack_require__(0);const createEnsureDefaultIndexPattern=(uiSettings,onRedirectNoIndexPattern)=>async function ensureDefaultIndexPattern(){const patterns=await this.getIds();let defaultId=await uiSettings.get("defaultIndex");let defined=!!defaultId;const exists=Object(external_osdSharedDeps_Lodash_["includes"])(patterns,defaultId);if(defined&&!exists){await uiSettings.remove("defaultIndex");defaultId=defined=false}if(defined){return}if(patterns.length>=1){defaultId=patterns[0];await uiSettings.set("defaultIndex",defaultId)}else{return onRedirectNoIndexPattern()}};var lib=__webpack_require__(27);var utils=__webpack_require__(39);var errors=__webpack_require__(46);function index_patterns_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const indexPatternCache=createIndexPatternCache();const MAX_ATTEMPTS_TO_RESOLVE_CONFLICTS=3;const savedObjectType="index-pattern";class index_patterns_IndexPatternsService{constructor(_ref){var _this=this;let{uiSettings:uiSettings,savedObjectsClient:savedObjectsClient,apiClient:apiClient,fieldFormats:fieldFormats,onNotification:onNotification,onError:onError,onUnsupportedTimePattern:onUnsupportedTimePattern,onRedirectNoIndexPattern:onRedirectNoIndexPattern=(()=>{})}=_ref;index_patterns_defineProperty(this,"config",void 0);index_patterns_defineProperty(this,"savedObjectsClient",void 0);index_patterns_defineProperty(this,"savedObjectsCache",void 0);index_patterns_defineProperty(this,"apiClient",void 0);index_patterns_defineProperty(this,"fieldFormats",void 0);index_patterns_defineProperty(this,"onNotification",void 0);index_patterns_defineProperty(this,"onError",void 0);index_patterns_defineProperty(this,"onUnsupportedTimePattern",void 0);index_patterns_defineProperty(this,"ensureDefaultIndexPattern",void 0);index_patterns_defineProperty(this,"getDataSource",async id=>await this.savedObjectsClient.get("data-source",id));index_patterns_defineProperty(this,"getIds",(async function(){let refresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!_this.savedObjectsCache||refresh){await _this.refreshSavedObjectsCache()}if(!_this.savedObjectsCache){return[]}return _this.savedObjectsCache.map(obj=>obj===null||obj===void 0?void 0:obj.id)}));index_patterns_defineProperty(this,"getTitles",(async function(){let refresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!_this.savedObjectsCache||refresh){await _this.refreshSavedObjectsCache()}if(!_this.savedObjectsCache){return[]}return _this.savedObjectsCache.map(obj=>{var _obj$attributes;return obj===null||obj===void 0?void 0:(_obj$attributes=obj.attributes)===null||_obj$attributes===void 0?void 0:_obj$attributes.title})}));index_patterns_defineProperty(this,"getIdsWithTitle",(async function(){let refresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!_this.savedObjectsCache||refresh){await _this.refreshSavedObjectsCache()}if(!_this.savedObjectsCache){return[]}return _this.savedObjectsCache.map(obj=>{var _obj$attributes2;return{id:obj===null||obj===void 0?void 0:obj.id,title:obj===null||obj===void 0?void 0:(_obj$attributes2=obj.attributes)===null||_obj$attributes2===void 0?void 0:_obj$attributes2.title}})}));index_patterns_defineProperty(this,"clearCache",id=>{this.savedObjectsCache=null;if(id){indexPatternCache.clear(id)}else{indexPatternCache.clearAll()}});index_patterns_defineProperty(this,"getCache",async()=>{if(!this.savedObjectsCache){await this.refreshSavedObjectsCache()}return this.savedObjectsCache});index_patterns_defineProperty(this,"getDefault",async()=>{const defaultIndexPatternId=await this.config.get("defaultIndex");if(defaultIndexPatternId){return await this.get(defaultIndexPatternId)}return null});index_patterns_defineProperty(this,"setDefault",(async function(id){let force=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(force||!_this.config.get("defaultIndex")){await _this.config.set("defaultIndex",id)}}));index_patterns_defineProperty(this,"getFieldsForWildcard",(async function(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const metaFields=await _this.config.get(common["UI_SETTINGS"].META_FIELDS);return _this.apiClient.getFieldsForWildcard({pattern:options.pattern,metaFields:metaFields,type:options.type,params:options.params||{},dataSourceId:options.dataSourceId})}));index_patterns_defineProperty(this,"getFieldsForIndexPattern",(async function(indexPattern){var _indexPattern$dataSou;let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this.getFieldsForWildcard({pattern:indexPattern.title,...options,type:indexPattern.type,params:indexPattern.typeMeta&&indexPattern.typeMeta.params,dataSourceId:(_indexPattern$dataSou=indexPattern.dataSourceRef)===null||_indexPattern$dataSou===void 0?void 0:_indexPattern$dataSou.id})}));index_patterns_defineProperty(this,"refreshFields",async indexPattern=>{try{const fields=await this.getFieldsForIndexPattern(indexPattern);const scripted=indexPattern.getScriptedFields().map(field=>field.spec);indexPattern.fields.replaceAll([...fields,...scripted])}catch(err){if(err instanceof lib["e"]){this.onNotification({title:err.message,color:"danger",iconType:"alert"})}this.onError(err,{title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.indexPatterns.fetchFieldErrorTitle",{defaultMessage:"Error fetching fields for index pattern {title} (ID: {id})",values:{id:indexPattern.id,title:indexPattern.title}})})}});index_patterns_defineProperty(this,"refreshFieldSpecMap",async(fields,id,title,options)=>{const scriptdFields=Object.values(fields).filter(field=>field.scripted);try{const newFields=await this.getFieldsForWildcard(options);return this.fieldArrayToMap([...newFields,...scriptdFields])}catch(err){if(err instanceof lib["e"]){this.onNotification({title:err.message,color:"danger",iconType:"alert"});return{}}this.onError(err,{title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.indexPatterns.fetchFieldErrorTitle",{defaultMessage:"Error fetching fields for index pattern {title} (ID: {id})",values:{id:id,title:title}})})}return fields});index_patterns_defineProperty(this,"addFormatsToFields",(fieldSpecs,fieldFormatMap)=>{Object.entries(fieldFormatMap).forEach(_ref2=>{let[fieldName,value]=_ref2;const field=fieldSpecs.find(fld=>fld.name===fieldName);if(field){field.format=value}})});index_patterns_defineProperty(this,"fieldArrayToMap",fields=>fields.reduce((collector,field)=>{collector[field.name]=field;return collector},{}));index_patterns_defineProperty(this,"savedObjectToSpec",savedObject=>{const{id:id,version:version,attributes:{title:title,timeFieldName:timeFieldName,intervalName:intervalName,fields:fields,sourceFilters:sourceFilters,fieldFormatMap:fieldFormatMap,typeMeta:typeMeta,type:type},references:references}=savedObject;const parsedSourceFilters=sourceFilters?JSON.parse(sourceFilters):undefined;const parsedTypeMeta=typeMeta?JSON.parse(typeMeta):undefined;const parsedFieldFormatMap=fieldFormatMap?JSON.parse(fieldFormatMap):{};const parsedFields=fields?JSON.parse(fields):[];const dataSourceRef=Array.isArray(references)?references[0]:undefined;this.addFormatsToFields(parsedFields,parsedFieldFormatMap);return{id:id,version:version,title:title,intervalName:intervalName,timeFieldName:timeFieldName,sourceFilters:parsedSourceFilters,fields:this.fieldArrayToMap(parsedFields),typeMeta:parsedTypeMeta,type:type,dataSourceRef:dataSourceRef}});index_patterns_defineProperty(this,"get",async id=>{const cache=indexPatternCache.get(id);if(cache){return cache}const savedObject=await this.savedObjectsClient.get(savedObjectType,id);if(!savedObject.version){throw new common_["SavedObjectNotFound"](savedObjectType,id,"management/opensearch-dashboards/indexPatterns")}const spec=this.savedObjectToSpec(savedObject);const{title:title,type:type,typeMeta:typeMeta,dataSourceRef:dataSourceRef}=spec;const parsedFieldFormats=savedObject.attributes.fieldFormatMap?JSON.parse(savedObject.attributes.fieldFormatMap):{};const isFieldRefreshRequired=this.isFieldRefreshRequired(spec.fields);let isSaveRequired=isFieldRefreshRequired;try{spec.fields=isFieldRefreshRequired?await this.refreshFieldSpecMap(spec.fields||{},id,spec.title,{pattern:title,metaFields:await this.config.get(common["UI_SETTINGS"].META_FIELDS),type:type,params:typeMeta&&typeMeta.params,dataSourceId:dataSourceRef===null||dataSourceRef===void 0?void 0:dataSourceRef.id}):spec.fields}catch(err){isSaveRequired=false;if(err instanceof lib["e"]){this.onNotification({title:err.message,color:"danger",iconType:"alert"})}else{this.onError(err,{title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.indexPatterns.fetchFieldErrorTitle",{defaultMessage:"Error fetching fields for index pattern {title} (ID: {id})",values:{id:id,title:title}})})}}Object.entries(parsedFieldFormats).forEach(_ref3=>{var _spec$fields;let[fieldName,value]=_ref3;const field=(_spec$fields=spec.fields)===null||_spec$fields===void 0?void 0:_spec$fields[fieldName];if(field){field.format=value}});const indexPattern=await this.create(spec,true);indexPatternCache.set(id,indexPattern);if(isSaveRequired){try{this.updateSavedObject(indexPattern)}catch(err){this.onError(err,{title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.indexPatterns.fetchFieldSaveErrorTitle",{defaultMessage:"Error saving after fetching fields for index pattern {title} (ID: {id})",values:{id:indexPattern.id,title:indexPattern.title}})})}}if(indexPattern.isUnsupportedTimePattern()){this.onUnsupportedTimePattern({id:indexPattern.id,title:indexPattern.title,index:indexPattern.getIndex()})}indexPattern.resetOriginalSavedObjectBody();return indexPattern});index_patterns_defineProperty(this,"find",(async function(search){let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;const savedObjects=await _this.savedObjectsClient.find({type:"index-pattern",fields:["title"],search:search,searchFields:["title"],perPage:size});const getIndexPatternPromises=savedObjects.map(async savedObject=>await _this.get(savedObject.id));return await Promise.all(getIndexPatternPromises)}));this.apiClient=apiClient;this.config=uiSettings;this.savedObjectsClient=savedObjectsClient;this.fieldFormats=fieldFormats;this.onNotification=onNotification;this.onError=onError;this.onUnsupportedTimePattern=onUnsupportedTimePattern;this.ensureDefaultIndexPattern=createEnsureDefaultIndexPattern(uiSettings,onRedirectNoIndexPattern)}async refreshSavedObjectsCache(){this.savedObjectsCache=await this.savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4});this.savedObjectsCache=await Promise.all(this.savedObjectsCache.map(async obj=>{if(obj.type==="index-pattern"){const result={...obj};result.attributes.title=await Object(utils["getIndexPatternTitle"])(obj.attributes.title,obj.references,this.getDataSource);return result}else{return obj}}))}isFieldRefreshRequired(specs){if(!specs){return true}return Object.values(specs).every(spec=>{const hasFieldCaps="aggregatable"in spec&&"searchable"in spec;const hasDocValuesFlag="readFromDocValues"in spec;return!hasFieldCaps||!hasDocValuesFlag})}migrate(indexPattern,newTitle){return this.savedObjectsClient.update(savedObjectType,indexPattern.id,{title:newTitle,intervalName:null},{version:indexPattern.version}).then(_ref4=>{let{attributes:{title:title,intervalName:intervalName}}=_ref4;indexPattern.title=title;indexPattern.intervalName=intervalName}).then(()=>this)}async create(spec){let skipFetchFields=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const shortDotsEnable=await this.config.get(common["UI_SETTINGS"].SHORT_DOTS_ENABLE);const metaFields=await this.config.get(common["UI_SETTINGS"].META_FIELDS);const indexPattern=new index_pattern_IndexPattern({spec:spec,savedObjectsClient:this.savedObjectsClient,fieldFormats:this.fieldFormats,shortDotsEnable:shortDotsEnable,metaFields:metaFields});if(!skipFetchFields){await this.refreshFields(indexPattern)}return indexPattern}async createAndSave(spec){let override=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let skipFetchFields=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const indexPattern=await this.create(spec,skipFetchFields);await this.createSavedObject(indexPattern,override);await this.setDefault(indexPattern.id);return indexPattern}async createSavedObject(indexPattern){var _indexPattern$dataSou2;let override=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const dupe=await Object(utils["findByTitle"])(this.savedObjectsClient,indexPattern.title,(_indexPattern$dataSou2=indexPattern.dataSourceRef)===null||_indexPattern$dataSou2===void 0?void 0:_indexPattern$dataSou2.id);if(dupe){if(override){await this.delete(dupe.id)}else{throw new errors["a"]("Duplicate index pattern: ".concat(indexPattern.title))}}const body=indexPattern.getAsSavedObjectBody();const references=indexPattern.getSaveObjectReference();const response=await this.savedObjectsClient.create(savedObjectType,body,{id:indexPattern.id,references:references});indexPattern.id=response.id;indexPatternCache.set(indexPattern.id,indexPattern);return indexPattern}async updateSavedObject(indexPattern){let saveAttempts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let ignoreErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!indexPattern.id)return;const body=indexPattern.getAsSavedObjectBody();const originalBody=indexPattern.getOriginalSavedObjectBody();const originalChangedKeys=[];Object.entries(body).forEach(_ref5=>{let[key,value]=_ref5;if(value!==originalBody[key]){originalChangedKeys.push(key)}});return this.savedObjectsClient.update(savedObjectType,indexPattern.id,body,{version:indexPattern.version}).then(resp=>{indexPattern.id=resp.id;indexPattern.version=resp.version}).catch(async err=>{var _err$res;if((err===null||err===void 0?void 0:(_err$res=err.res)===null||_err$res===void 0?void 0:_err$res.status)===409&&saveAttempts++<MAX_ATTEMPTS_TO_RESOLVE_CONFLICTS){const samePattern=await this.get(indexPattern.id);const updatedBody=samePattern.getAsSavedObjectBody();const serverChangedKeys=[];Object.entries(updatedBody).forEach(_ref6=>{let[key,value]=_ref6;if(value!==body[key]&&value!==originalBody[key]){serverChangedKeys.push(key)}});let unresolvedCollision=false;for(const originalKey of originalChangedKeys){for(const serverKey of serverChangedKeys){if(originalKey===serverKey){unresolvedCollision=true;break}}}if(unresolvedCollision){if(ignoreErrors){return}const title=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.indexPatterns.unableWriteLabel",{defaultMessage:"Unable to write index pattern! Refresh the page to get the most up to date changes for this index pattern."});this.onNotification({title:title,color:"danger"});throw err}serverChangedKeys.forEach(key=>{indexPattern[key]=samePattern[key]});indexPattern.version=samePattern.version;indexPatternCache.clear(indexPattern.id);return this.updateSavedObject(indexPattern,saveAttempts,ignoreErrors)}throw err})}async delete(indexPatternId){indexPatternCache.clear(indexPatternId);return this.savedObjectsClient.delete("index-pattern",indexPatternId)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"b",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"c",(function(){return expandShorthand}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var types=__webpack_require__(31);const expandShorthand=sh=>Object(external_osdSharedDeps_Lodash_["mapValues"])(sh,val=>{const fieldMap=Object(external_osdSharedDeps_Lodash_["isString"])(val)?{type:val}:val;const json={type:types["b"].TEXT,_serialize(v){if(v)return JSON.stringify(v)},_deserialize(v){if(v)return JSON.parse(v)}};return fieldMap.type==="json"?json:fieldMap})},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AggParamType}));var _agg_config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(30);var _base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class AggParamType extends _base__WEBPACK_IMPORTED_MODULE_1__["a"]{constructor(config){super(config);_defineProperty(this,"makeAgg",void 0);_defineProperty(this,"allowedAggs",[]);if(config.allowedAggs){this.allowedAggs=config.allowedAggs}if(!config.write){this.write=(aggConfig,output)=>{if(aggConfig.params[this.name]&&aggConfig.params[this.name].length){output.params[this.name]=aggConfig.params[this.name]}}}if(!config.serialize){this.serialize=agg=>agg.serialize()}if(!config.deserialize){this.deserialize=(state,agg)=>{if(!agg){throw new Error("aggConfig was not provided to AggParamType deserialize function")}return this.makeAgg(agg,state)}}if(!config.toExpressionAst){this.toExpressionAst=agg=>{if(!agg||!agg.toExpressionAst){throw new Error("aggConfig was not provided to AggParamType toExpressionAst function")}return agg.toExpressionAst()}}this.makeAgg=config.makeAgg;this.valueType=_agg_config__WEBPACK_IMPORTED_MODULE_0__["a"]}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldParamType}));var _osd_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _osd_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_osd_i18n__WEBPACK_IMPORTED_MODULE_0__);var _opensearch_dashboards_utils_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16);var _opensearch_dashboards_utils_common__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_opensearch_dashboards_utils_common__WEBPACK_IMPORTED_MODULE_1__);var _base__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23);var _utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24);var _index_patterns_fields__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(47);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const filterByType=Object(_utils__WEBPACK_IMPORTED_MODULE_3__["k"])("type");class FieldParamType extends _base__WEBPACK_IMPORTED_MODULE_2__["a"]{constructor(config){super(config);_defineProperty(this,"required",true);_defineProperty(this,"scriptable",true);_defineProperty(this,"filterFieldTypes",void 0);_defineProperty(this,"onlyAggregatable",void 0);_defineProperty(this,"getAvailableFields",aggConfig=>{const fields=aggConfig.getIndexPattern().fields;const filteredFields=fields.filter(field=>{const{onlyAggregatable:onlyAggregatable,scriptable:scriptable,filterFieldTypes:filterFieldTypes}=this;if(onlyAggregatable&&(!field.aggregatable||Object(_index_patterns_fields__WEBPACK_IMPORTED_MODULE_4__["d"])(field))||!scriptable&&field.scripted){return false}return filterByType([field],filterFieldTypes).length!==0});return filteredFields});this.filterFieldTypes=config.filterFieldTypes||"*";this.onlyAggregatable=config.onlyAggregatable!==false;if(!config.write){this.write=(aggConfig,output)=>{const field=aggConfig.getField();if(!field){throw new TypeError(_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.paramTypes.field.requiredFieldParameterErrorMessage",{defaultMessage:"{fieldParameter} is a required parameter",values:{fieldParameter:'"field"'}}))}if(field.scripted){output.params.script={source:field.script,lang:field.lang}}else{output.params.field=field.name}}}this.serialize=field=>field.name;this.deserialize=(fieldName,aggConfig)=>{if(!aggConfig){throw new Error("aggConfig was not provided to FieldParamType deserialize function")}const field=aggConfig.getIndexPattern().fields.getByName(fieldName);if(!field){throw new _opensearch_dashboards_utils_common__WEBPACK_IMPORTED_MODULE_1__["SavedObjectNotFound"]("index-pattern-field",fieldName)}const validField=this.getAvailableFields(aggConfig).find(f=>f.name===fieldName);if(!validField){var _aggConfig$type;throw new Error(_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.search.aggs.paramTypes.field.invalidSavedFieldParameterErrorMessage",{defaultMessage:'Saved field "{fieldParameter}" is invalid for use with the "{aggType}" aggregation. Please select a new field.',values:{fieldParameter:fieldName,aggType:aggConfig===null||aggConfig===void 0?void 0:(_aggConfig$type=aggConfig.type)===null||_aggConfig$type===void 0?void 0:_aggConfig$type.title}}))}return validField}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StringParamType}));var _base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23);class StringParamType extends _base__WEBPACK_IMPORTED_MODULE_0__["a"]{constructor(config){super(config);if(!config.write){this.write=(aggConfig,output)=>{if(aggConfig.params[this.name]&&aggConfig.params[this.name].length){output.params[this.name]=aggConfig.params[this.name]}}}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return JsonParamType}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23);class JsonParamType extends _base__WEBPACK_IMPORTED_MODULE_1__["a"]{constructor(config){super(config);this.name=config.name||"json";if(!config.write){this.write=(aggConfig,output)=>{let paramJson;const param=aggConfig.params[this.name];if(!param){return}try{paramJson=JSON.parse(param)}catch(err){return}function filteredCombine(srcA,srcB){function mergeObjs(a,b){return lodash__WEBPACK_IMPORTED_MODULE_0___default()(a).keys().union(lodash__WEBPACK_IMPORTED_MODULE_0___default.a.keys(b)).transform((function(dest,key){const val=compare(a[key],b[key]);if(val!==undefined)dest[key]=val}),{}).value()}function mergeArrays(a,b){return lodash__WEBPACK_IMPORTED_MODULE_0___default.a.times(Math.max(a.length,b.length),(function(i){return compare(a[i],b[i])}))}function compare(a,b){if(lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isPlainObject(a)&&lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isPlainObject(b))return mergeObjs(a,b);if(Array.isArray(a)&&Array.isArray(b))return mergeArrays(a,b);if(b===null)return undefined;if(b!==undefined)return b;return a}return compare(srcA,srcB)}output.params=filteredCombine(output.params,paramJson);return}}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return createSearchBar}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var external_osdSharedDeps_Lodash_default=__webpack_require__.n(external_osdSharedDeps_Lodash_);var external_osdSharedDeps_React_=__webpack_require__(3);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var public_=__webpack_require__(20);var search_bar=__webpack_require__(45);var external_osdSharedDeps_Rxjs_=__webpack_require__(9);const useFilterManager=props=>{const[filters,setFilters]=Object(external_osdSharedDeps_React_["useState"])(props.filters||props.filterManager.getFilters());Object(external_osdSharedDeps_React_["useEffect"])(()=>{const subscriptions=new external_osdSharedDeps_Rxjs_["Subscription"];subscriptions.add(props.filterManager.getUpdates$().subscribe({next:()=>{const newFilters=props.filterManager.getFilters();setFilters(newFilters)}}));return()=>{subscriptions.unsubscribe()}},[props.filterManager]);return{filters:filters}};const useTimefilter=props=>{const initialTimeRange={from:props.dateRangeFrom||props.timefilter.getTime().from,to:props.dateRangeTo||props.timefilter.getTime().to};const initialRefreshInterval={value:props.refreshInterval||props.timefilter.getRefreshInterval().value,pause:props.isRefreshPaused||props.timefilter.getRefreshInterval().pause};const[timeRange,setTimerange]=Object(external_osdSharedDeps_React_["useState"])(initialTimeRange);const[refreshInterval,setRefreshInterval]=Object(external_osdSharedDeps_React_["useState"])(initialRefreshInterval);Object(external_osdSharedDeps_React_["useEffect"])(()=>{const subscriptions=new external_osdSharedDeps_Rxjs_["Subscription"];subscriptions.add(props.timefilter.getRefreshIntervalUpdate$().subscribe({next:()=>{const newRefreshInterval=props.timefilter.getRefreshInterval();setRefreshInterval(newRefreshInterval)}}));subscriptions.add(props.timefilter.getTimeUpdate$().subscribe({next:()=>{setTimerange(props.timefilter.getTime())}}));return()=>{subscriptions.unsubscribe()}},[props.timefilter]);return{refreshInterval:refreshInterval,timeRange:timeRange}};var external_osdSharedDeps_OsdI18n_=__webpack_require__(0);const populateStateFromSavedQuery=(queryService,savedQuery)=>{const{timefilter:{timefilter:timefilter},filterManager:filterManager,queryString:queryString}=queryService;if(savedQuery.attributes.timefilter){timefilter.setTime({from:savedQuery.attributes.timefilter.from,to:savedQuery.attributes.timefilter.to});if(savedQuery.attributes.timefilter.refreshInterval){timefilter.setRefreshInterval(savedQuery.attributes.timefilter.refreshInterval)}}queryString.setQuery(savedQuery.attributes.query);const savedQueryFilters=savedQuery.attributes.filters||[];const globalFilters=filterManager.getGlobalFilters();filterManager.setFilters([...globalFilters,...savedQueryFilters])};const clearStateFromSavedQuery=queryService=>{queryService.filterManager.removeAll();queryService.queryString.clearQuery()};const useSavedQuery=props=>{const[savedQuery,setSavedQuery]=Object(external_osdSharedDeps_React_["useState"])();Object(external_osdSharedDeps_React_["useEffect"])(()=>{const fetchSavedQuery=async savedQueryId=>{try{const newSavedQuery=await props.queryService.savedQueries.getSavedQuery(savedQueryId);if(newSavedQuery&&newSavedQuery.id===savedQueryId){setSavedQuery(newSavedQuery);populateStateFromSavedQuery(props.queryService,newSavedQuery)}}catch(error){setSavedQuery(undefined);clearStateFromSavedQuery(props.queryService);props.notifications.toasts.addWarning({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.unableToGetSavedQueryToastTitle",{defaultMessage:"Unable to load saved query {savedQueryId}",values:{savedQueryId:savedQueryId}}),text:"".concat(error.message)})}};if(props.savedQueryId)fetchSavedQuery(props.savedQueryId);else setSavedQuery(undefined)},[props.notifications.toasts,props.queryService,props.queryService.savedQueries,props.savedQueryId]);return{savedQuery:savedQuery,setSavedQuery:q=>{setSavedQuery(q);populateStateFromSavedQuery(props.queryService,q)},clearSavedQuery:()=>{setSavedQuery(undefined);clearStateFromSavedQuery(props.queryService)}}};const useQueryStringManager=props=>{const[query,setQuery]=Object(external_osdSharedDeps_React_["useState"])(props.query||props.queryStringManager.getQuery());Object(external_osdSharedDeps_React_["useEffect"])(()=>{const subscriptions=new external_osdSharedDeps_Rxjs_["Subscription"];subscriptions.add(props.queryStringManager.getUpdates$().subscribe({next:()=>{const newQuery=props.queryStringManager.getQuery();setQuery(newQuery)}}));return()=>{subscriptions.unsubscribe()}},[props.queryStringManager]);return{query:query}};function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const defaultFiltersUpdated=queryService=>filters=>{queryService.filterManager.setFilters(filters)};const defaultOnRefreshChange=queryService=>{const{timefilter:timefilter}=queryService.timefilter;return options=>{timefilter.setRefreshInterval({value:options.refreshInterval,pause:options.isPaused})}};const defaultOnQuerySubmit=(props,queryService,currentQuery)=>{if(!props.useDefaultBehaviors)return props.onQuerySubmit;const{timefilter:timefilter}=queryService.timefilter;return payload=>{const isUpdate=!external_osdSharedDeps_Lodash_default.a.isEqual(timefilter.getTime(),payload.dateRange)||!external_osdSharedDeps_Lodash_default.a.isEqual(payload.query,currentQuery);if(isUpdate){timefilter.setTime(payload.dateRange);if(payload.query){queryService.queryString.setQuery(payload.query)}else{queryService.queryString.clearQuery()}}else{if(props.onQuerySubmit)props.onQuerySubmit({dateRange:timefilter.getTime(),query:currentQuery},false)}}};const defaultOnClearSavedQuery=(props,clearSavedQuery)=>{if(!props.useDefaultBehaviors)return props.onClearSavedQuery;return()=>{clearSavedQuery();if(props.onSavedQueryIdChange)props.onSavedQueryIdChange()}};const defaultOnSavedQueryUpdated=(props,setSavedQuery)=>{if(!props.useDefaultBehaviors)return props.onSavedQueryUpdated;return savedQuery=>{setSavedQuery(savedQuery);if(props.onSavedQueryIdChange)props.onSavedQueryIdChange(savedQuery.id)}};const overrideDefaultBehaviors=props=>props.useDefaultBehaviors?{}:props;function createSearchBar(_ref){let{core:core,storage:storage,data:data}=_ref;return props=>{const{useDefaultBehaviors:useDefaultBehaviors}=props;const onQuerySubmitRef=Object(external_osdSharedDeps_React_["useRef"])(props.onQuerySubmit);const{filters:filters}=useFilterManager({filters:props.filters,filterManager:data.query.filterManager});const{query:query}=useQueryStringManager({query:props.query,queryStringManager:data.query.queryString});const{timeRange:timeRange,refreshInterval:refreshInterval}=useTimefilter({dateRangeFrom:props.dateRangeFrom,dateRangeTo:props.dateRangeTo,refreshInterval:props.refreshInterval,isRefreshPaused:props.isRefreshPaused,timefilter:data.query.timefilter.timefilter});const{savedQuery:savedQuery,setSavedQuery:setSavedQuery,clearSavedQuery:clearSavedQuery}=useSavedQuery({queryService:data.query,savedQueryId:props.savedQueryId,notifications:core.notifications});Object(external_osdSharedDeps_React_["useEffect"])(()=>{if(!useDefaultBehaviors||!onQuerySubmitRef.current)return;onQuerySubmitRef.current({dateRange:timeRange,query:query},true)},[query,timeRange,useDefaultBehaviors]);return external_osdSharedDeps_React_default.a.createElement(public_["OpenSearchDashboardsContextProvider"],{services:{appName:props.appName,data:data,storage:storage,...core}},external_osdSharedDeps_React_default.a.createElement(search_bar["a"],_extends({showAutoRefreshOnly:props.showAutoRefreshOnly,showDatePicker:props.showDatePicker,showFilterBar:props.showFilterBar,showQueryBar:props.showQueryBar,showQueryInput:props.showQueryInput,showSaveQuery:props.showSaveQuery,screenTitle:props.screenTitle,indexPatterns:props.indexPatterns,indicateNoData:props.indicateNoData,timeHistory:data.query.timefilter.history,dateRangeFrom:timeRange.from,dateRangeTo:timeRange.to,refreshInterval:refreshInterval.value,isRefreshPaused:refreshInterval.pause,filters:filters,query:query,onFiltersUpdated:defaultFiltersUpdated(data.query),onRefreshChange:defaultOnRefreshChange(data.query),savedQuery:savedQuery,onQuerySubmit:defaultOnQuerySubmit(props,data.query,query),onClearSavedQuery:defaultOnClearSavedQuery(props,clearSavedQuery),onSavedQueryUpdated:defaultOnSavedQueryUpdated(props,setSavedQuery),onSaved:defaultOnSavedQueryUpdated(props,setSavedQuery)},overrideDefaultBehaviors(props))))}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return IndexPatternSelect}));__webpack_require__.d(__webpack_exports__,"c",(function(){return createIndexPatternSelect}));var external_osdSharedDeps_React_=__webpack_require__(3);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function createIndexPatternSelect(savedObjectsClient){return props=>external_osdSharedDeps_React_default.a.createElement(IndexPatternSelect,_extends({},props,{savedObjectsClient:savedObjectsClient}))}const Fallback=()=>external_osdSharedDeps_React_default.a.createElement("div",null);const LazyIndexPatternSelect=external_osdSharedDeps_React_default.a.lazy(()=>__webpack_require__.e(8).then(__webpack_require__.bind(null,166)));const IndexPatternSelect=props=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Suspense,{fallback:external_osdSharedDeps_React_default.a.createElement(Fallback,null)},external_osdSharedDeps_React_default.a.createElement(LazyIndexPatternSelect,props))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return time_buckets_TimeBuckets}));var external_osdSharedDeps_Lodash_=__webpack_require__(2);var external_osdSharedDeps_Moment_=__webpack_require__(5);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);var utils=__webpack_require__(24);const boundsDescending=[{bound:Infinity,interval:Number(external_osdSharedDeps_Moment_default.a.duration(1,"year"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(1,"year")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(1,"month"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(3,"week")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(1,"week"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(1,"week")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(1,"d"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(24,"hour")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(12,"hour"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(6,"hour")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(3,"hour"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(2,"hour")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(1,"hour"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(45,"minute")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(30,"minute"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(20,"minute")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(10,"minute"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(9,"minute")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(5,"minute"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(3,"minute")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(1,"minute"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(45,"second")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(30,"second"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(15,"second")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(10,"second"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(7.5,"second")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(5,"second"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(5,"second")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(1,"second"))},{bound:Number(external_osdSharedDeps_Moment_default.a.duration(500,"ms")),interval:Number(external_osdSharedDeps_Moment_default.a.duration(100,"ms"))}];function getPerBucketMs(count,duration){const ms=duration/count;return isFinite(ms)?ms:NaN}function normalizeMinimumInterval(targetMs){const value=isNaN(targetMs)?0:Math.max(Math.floor(targetMs),1);return external_osdSharedDeps_Moment_default.a.duration(value)}function calcAutoIntervalNear(targetBucketCount,duration){const targetPerBucketMs=getPerBucketMs(targetBucketCount,duration);const lowerBoundIndex=boundsDescending.findIndex(_ref=>{let{bound:bound}=_ref;const boundMs=Number(bound);return boundMs<=targetPerBucketMs});if(lowerBoundIndex!==-1){const nearestInterval=boundsDescending[lowerBoundIndex-1].interval;return external_osdSharedDeps_Moment_default.a.duration(nearestInterval)}return normalizeMinimumInterval(targetPerBucketMs)}function calcAutoIntervalLessThan(maxBucketCount,duration){const maxPerBucketMs=getPerBucketMs(maxBucketCount,duration);for(const{interval:interval}of boundsDescending){if(interval<=maxPerBucketMs){return external_osdSharedDeps_Moment_default.a.duration(interval)}}return normalizeMinimumInterval(maxPerBucketMs)}var target=__webpack_require__(15);var target_default=__webpack_require__.n(target);const unitsDesc=target_default.a.unitsDesc;const largeMax=unitsDesc.indexOf("M");function convertDurationToNormalizedOpenSearchInterval(duration){for(let i=0;i<unitsDesc.length;i++){const unit=unitsDesc[i];const val=duration.as(unit);if(val>=1&&Math.floor(val)===val){if(i<=largeMax&&val!==1){continue}return{value:val,unit:unit,expression:val+unit}}}const ms=duration.as("ms");return{value:ms,unit:"ms",expression:ms+"ms"}}function convertIntervalToOpenSearchInterval(interval){const{value:value,unit:unit}=Object(utils["j"])(interval);return{value:value,unit:unit,expression:interval}}var _interval_options=__webpack_require__(19);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function isObject(o){return Object(external_osdSharedDeps_Lodash_["isObject"])(o)}function isValidMoment(m){return m&&"isValid"in m&&m.isValid()}class time_buckets_TimeBuckets{constructor(timeBucketConfig){_defineProperty(this,"_timeBucketConfig",void 0);_defineProperty(this,"_lb",void 0);_defineProperty(this,"_ub",void 0);_defineProperty(this,"_originalInterval",null);_defineProperty(this,"_i",void 0);this._timeBucketConfig=timeBucketConfig}getDuration(){if(this._ub===undefined||this._lb===undefined||!this.hasBounds()){return}const difference=this._ub.valueOf()-this._lb.valueOf();return external_osdSharedDeps_Moment_default.a.duration(difference,"ms")}setBounds(input){if(!input)return this.clearBounds();let bounds;if(Object(external_osdSharedDeps_Lodash_["isPlainObject"])(input)&&!Array.isArray(input)){bounds=[input.min,input.max]}else{bounds=Array.isArray(input)?input:[]}const moments=Object(external_osdSharedDeps_Lodash_["sortBy"])(bounds,Number);const valid=moments.length===2&&moments.every(isValidMoment);if(!valid){this.clearBounds();throw new Error("invalid bounds set: "+input)}this._lb=moments.shift();this._ub=moments.pop();const duration=this.getDuration();if(!duration||duration.asSeconds()<0){throw new TypeError("Intervals must be positive")}}clearBounds(){this._lb=this._ub=undefined}hasBounds(){return isValidMoment(this._ub)&&isValidMoment(this._lb)}getBounds(){if(!this.hasBounds())return;return{min:this._lb,max:this._ub}}setInterval(input){let interval=input;if(isObject(input)&&!external_osdSharedDeps_Moment_default.a.isDuration(input)){interval=input.val}if(!interval||interval===_interval_options["a"]){this._i=_interval_options["a"];return}if(Object(external_osdSharedDeps_Lodash_["isString"])(interval)){input=interval;this._originalInterval=input;interval=Object(utils["i"])(interval);if(interval===null||+interval===0){interval=null}}if(!external_osdSharedDeps_Moment_default.a.isDuration(interval)){throw new TypeError('"'+input+'" is not a valid interval.')}this._i=interval}getInterval(){let useNormalizedOpenSearchInterval=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;const duration=this.getDuration();const readInterval=()=>{const interval=this._i;if(external_osdSharedDeps_Moment_default.a.isDuration(interval))return interval;return calcAutoIntervalNear(this._timeBucketConfig["histogram:barTarget"],Number(duration))};const parsedInterval=readInterval();const maybeScaleInterval=interval=>{if(!this.hasBounds()||!duration){return interval}const maxLength=this._timeBucketConfig["histogram:maxBars"];const approxLen=Number(duration)/Number(interval);let scaled;if(approxLen>maxLength){scaled=calcAutoIntervalLessThan(maxLength,Number(duration))}else{return interval}if(+scaled===+interval)return interval;interval=decorateInterval(interval);return Object.assign(scaled,{preScaled:interval,scale:Number(interval)/Number(scaled),scaled:true})};const decorateInterval=interval=>{const opensearchInterval=useNormalizedOpenSearchInterval?convertDurationToNormalizedOpenSearchInterval(interval):convertIntervalToOpenSearchInterval(String(this._originalInterval));const prettyUnits=external_osdSharedDeps_Moment_default.a.normalizeUnits(opensearchInterval.unit);return Object.assign(interval,{description:opensearchInterval.value===1?prettyUnits:opensearchInterval.value+" "+prettyUnits+"s",opensearchValue:opensearchInterval.value,opensearchUnit:opensearchInterval.unit,expression:opensearchInterval.expression})};if(useNormalizedOpenSearchInterval){return decorateInterval(maybeScaleInterval(parsedInterval))}else{return decorateInterval(parsedInterval)}}getScaledDateFormat(){const interval=this.getInterval();const rules=this._timeBucketConfig["dateFormat:scaled"];for(let i=rules.length-1;i>=0;i--){const rule=rules[i];if(!rule[0]||interval&&interval>=external_osdSharedDeps_Moment_default.a.duration(rule[0])){return rule[1]}}return this._timeBucketConfig.dateFormat}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getForceNow}));var query_string=__webpack_require__(89);function parseQueryString(){const hrefSplit=window.location.href.split("?");if(hrefSplit.length<=1){return{}}return Object(query_string["parse"])(hrefSplit[1],{sort:false})}function getForceNow(){const forceNow=parseQueryString().forceNow;if(!forceNow){return}const ticks=Date.parse(forceNow);if(isNaN(ticks)){throw new Error("forceNow query parameter, ".concat(forceNow,", can't be parsed by Date.parse"))}return new Date(ticks)}},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(103),getValue=__webpack_require__(110);function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}module.exports=getNative},function(module,exports,__webpack_require__){var root=__webpack_require__(76);var Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(104);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(86),isObjectLike=__webpack_require__(113);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/usageCollection/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FilterLabel}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);const Fallback=()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null);const LazyFilterLabel=react__WEBPACK_IMPORTED_MODULE_0___default.a.lazy(()=>__webpack_require__.e(3).then(__webpack_require__.bind(null,156)));const FilterLabel=props=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Fallback,null)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LazyFilterLabel,props))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer){__webpack_require__.d(__webpack_exports__,"a",(function(){return StringFormat}));var _osd_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _osd_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_osd_i18n__WEBPACK_IMPORTED_MODULE_0__);var _utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25);var _osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4);var _field_format__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14);var _types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7);var _utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(37);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const TRANSFORM_OPTIONS=[{kind:false,text:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.fieldFormats.string.transformOptions.none",{defaultMessage:"- None -"})},{kind:"lower",text:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.fieldFormats.string.transformOptions.lower",{defaultMessage:"Lower Case"})},{kind:"upper",text:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.fieldFormats.string.transformOptions.upper",{defaultMessage:"Upper Case"})},{kind:"title",text:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.fieldFormats.string.transformOptions.title",{defaultMessage:"Title Case"})},{kind:"short",text:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.fieldFormats.string.transformOptions.short",{defaultMessage:"Short Dots"})},{kind:"base64",text:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.fieldFormats.string.transformOptions.base64",{defaultMessage:"Base64 Decode"})},{kind:"urlparam",text:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.fieldFormats.string.transformOptions.url",{defaultMessage:"URL Param Decode"})}];const DEFAULT_TRANSFORM_OPTION=false;class StringFormat extends _field_format__WEBPACK_IMPORTED_MODULE_3__["a"]{constructor(){super(...arguments);_defineProperty(this,"textConvert",val=>{switch(this.param("transform")){case"lower":return String(val).toLowerCase();case"upper":return String(val).toUpperCase();case"title":return this.toTitleCase(val);case"short":return Object(_utils__WEBPACK_IMPORTED_MODULE_5__["c"])(val);case"base64":return this.base64Decode(val);case"urlparam":return decodeURIComponent(val);default:return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["a"])(val)}})}getParamDefaults(){return{transform:DEFAULT_TRANSFORM_OPTION}}base64Decode(val){try{return Buffer.from(val,"base64").toString("utf8")}catch(e){return Object(_utils__WEBPACK_IMPORTED_MODULE_1__["a"])(val)}}toTitleCase(val){return val.replace(/\w\S*/g,txt=>txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase())}}_defineProperty(StringFormat,"id",_types__WEBPACK_IMPORTED_MODULE_4__["a"].STRING);_defineProperty(StringFormat,"title",_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("data.fieldFormats.string.title",{defaultMessage:"String"}));_defineProperty(StringFormat,"fieldType",[_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].NUMBER,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].BOOLEAN,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].DATE,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].IP,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].ATTACHMENT,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].GEO_POINT,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].GEO_SHAPE,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].STRING,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].MURMUR3,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].UNKNOWN,_osd_field_types_types__WEBPACK_IMPORTED_MODULE_2__["b"].CONFLICT]);_defineProperty(StringFormat,"transformOptions",TRANSFORM_OPTIONS)}).call(this,__webpack_require__(95).Buffer)},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(100),castPath=__webpack_require__(111),isFunction=__webpack_require__(85),isIndex=__webpack_require__(140),isObject=__webpack_require__(77),toKey=__webpack_require__(141);function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(key=="prototype"&&isFunction(nested)){throw new Error("Illegal access of function prototype")}if(index!=lastIndex){var objValue=hasOwnProperty.call(nested,key)?nested[key]:undefined;newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}module.exports=baseSet},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(86),isObject=__webpack_require__(77);var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}module.exports=isFunction},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(75),getRawTag=__webpack_require__(105),objectToString=__webpack_require__(106);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},function(module,exports){module.exports=[{id:"be-nl",name:"Dutch (Belgium)",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:" mln",billion:" mld",trillion:" bln"},ordinal:function(number){var remainder=number%100;return number!==0&&remainder<=1||remainder===8||remainder>=20?"ste":"de"},currency:{symbol:"€ "}}},{id:"chs",name:"Simplified Chinese",lang:{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十亿",trillion:"兆"},ordinal:function(number){return"."},currency:{symbol:"¥"}}},{id:"cs",name:"Czech",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"Kč"}}},{id:"da-dk",name:"Danish (Denmark)",lang:{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(number){return"."},currency:{symbol:"DKK"}}},{id:"de-ch",name:"German (Switzerland)",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){return"."},currency:{symbol:"CHF"}}},{id:"de",name:"German",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){return"."},currency:{symbol:"€"}}},{id:"en-gb",name:"English (UK)",lang:{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th"},currency:{symbol:"£"}}},{id:"es-ES",name:"Spanish (Spain)",lang:{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return b===1||b===3?"er":b===2?"do":b===7||b===0?"mo":b===8?"vo":b===9?"no":"to"},currency:{symbol:"€"}}},{id:"es",name:"Spanish",lang:{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return b===1||b===3?"er":b===2?"do":b===7||b===0?"mo":b===8?"vo":b===9?"no":"to"},currency:{symbol:"$"}}},{id:"et",name:"Estonian",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(number){return"."},currency:{symbol:"€"}}},{id:"fi",name:"Finnish",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(number){return"."},currency:{symbol:"€"}}},{id:"fr-CA",name:"French (Canada)",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(number){return number===1?"er":"e"},currency:{symbol:"$"}}},{id:"fr-ch",name:"French (Switzerland)",lang:{delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){return number===1?"er":"e"},currency:{symbol:"CHF"}}},{id:"fr",name:"French",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){return number===1?"er":"e"},currency:{symbol:"€"}}},{id:"hu",name:"Hungarian",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(number){return"."},currency:{symbol:" Ft"}}},{id:"it",name:"Italian",lang:{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(number){return"º"},currency:{symbol:"€"}}},{id:"ja",name:"Japanese",lang:{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十億",trillion:"兆"},ordinal:function(number){return"."},currency:{symbol:"¥"}}},{id:"nl-nl",name:"Dutch (Netherlands)",lang:{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(number){var remainder=number%100;return number!==0&&remainder<=1||remainder===8||remainder>=20?"ste":"de"},currency:{symbol:"€ "}}},{id:"pl",name:"Polish",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(number){return"."},currency:{symbol:"PLN"}}},{id:"pt-br",name:"Portuguese (Brazil)",lang:{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhões",billion:"b",trillion:"t"},ordinal:function(number){return"º"},currency:{symbol:"R$"}}},{id:"pt-pt",name:"Portuguese",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){return"º"},currency:{symbol:"€"}}},{id:"ru-UA",name:"Russian (Ukraine)",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"₴"}}},{id:"ru",name:"Russian",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"руб."}}},{id:"sk",name:"Slovak",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€"}}},{id:"th",name:"Thai",lang:{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"พัน",million:"ล้าน",billion:"พันล้าน",trillion:"ล้านล้าน"},ordinal:function(number){return"."},currency:{symbol:"฿"}}},{id:"tr",name:"Turkish",lang:{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(){var suffixes={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return function(number){if(number===0){return"'ıncı"}var a=number%10,b=number%100-a,c=number>=100?100:null;return suffixes[a]||suffixes[b]||suffixes[c]}}(),currency:{symbol:"₺"}}},{id:"uk-UA",name:"Ukrainian",lang:{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тис.",million:"млн",billion:"млрд",trillion:"блн"},ordinal:function(){return""},currency:{symbol:"₴"}}}]},function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(143);const decodeComponent=__webpack_require__(144);const splitOnFirst=__webpack_require__(145);const filterObject=__webpack_require__(146);const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[",index,"]"].join("")]}return[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[]"].join("")]}return[...result,[encode(key,options),"[]=",encode(value,options)].join("")]};case"comma":case"separator":return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result}if(result.length===0){return[[encode(key,options),"=",encode(value,options)].join("")]}return[[result,encode(value,options)].join(options.arrayFormatSeparator)]};default:return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,encode(key,options)]}return[...result,[encode(key,options),"=",encode(value,options)].join("")]}}}function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};case"comma":case"separator":return(key,value,accumulator)=>{const isArray=typeof value==="string"&&value.includes(options.arrayFormatSeparator);const isEncodedArray=typeof value==="string"&&!isArray&&decode(value,options).includes(options.arrayFormatSeparator);value=isEncodedArray?decode(value,options):value;const newValue=isArray||isEncodedArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function validateArrayFormatSeparator(value){if(typeof value!=="string"||value.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function decode(value,options){if(options.decode){return decodeComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key])}return input}function removeHash(input){const hashStart=input.indexOf("#");if(hashStart!==-1){input=input.slice(0,hashStart)}return input}function getHash(url){let hash="";const hashStart=url.indexOf("#");if(hashStart!==-1){hash=url.slice(hashStart)}return hash}function extract(input){input=removeHash(input);const queryStart=input.indexOf("?");if(queryStart===-1){return""}return input.slice(queryStart+1)}function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==="string"&&value.trim()!=="")){value=Number(value)}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==="true"||value.toLowerCase()==="false")){value=value.toLowerCase()==="true"}return value}function parse(query,options){options=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof query!=="string"){return ret}query=query.trim().replace(/^[?#&]/,"");if(!query){return ret}for(const param of query.split("&")){if(param===""){continue}let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=value===undefined?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==="object"&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options)}}else{ret[key]=parseValue(value,options)}}if(options.sort===false){return ret}return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==="object"&&!Array.isArray(value)){result[key]=keysSorter(value)}else{result[key]=value}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return""}options=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&isNullOrUndefined(object[key])||options.skipEmptyString&&object[key]==="";const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key]}}const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort)}return keys.map(key=>{const value=object[key];if(value===undefined){return""}if(value===null){return encode(key,options)}if(Array.isArray(value)){return value.reduce(formatter(key),[]).join("&")}return encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")};exports.parseUrl=(url,options)=>{options=Object.assign({decode:true},options);const[url_,hash]=splitOnFirst(url,"#");return Object.assign({url:url_.split("?")[0]||"",query:parse(extract(url),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})};exports.stringifyUrl=(object,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(object.url).split("?")[0]||"";const queryFromUrl=exports.extract(object.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,object.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`}let hash=getHash(object.url);if(object.fragmentIdentifier){hash=`#${encode(object.fragmentIdentifier,options)}`}return`${url}${queryString}${hash}`};exports.pick=(input,filter,options)=>{options=Object.assign({parseFragmentIdentifier:true},options);const{url:url,query:query,fragmentIdentifier:fragmentIdentifier}=exports.parseUrl(input,options);return exports.stringifyUrl({url:url,query:filterObject(query,filter),fragmentIdentifier:fragmentIdentifier},options)};exports.exclude=(input,filter,options)=>{const exclusionFilter=Array.isArray(filter)?key=>!filter.includes(key):(key,value)=>!filter(key,value);return exports.pick(input,exclusionFilter,options)}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/inspector/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/inspector/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"opensearchFilters",(function(){return opensearchFilters}));__webpack_require__.d(__webpack_exports__,"RangeFilter",(function(){return common["RangeFilter"]}));__webpack_require__.d(__webpack_exports__,"RangeFilterMeta",(function(){return common["RangeFilterMeta"]}));__webpack_require__.d(__webpack_exports__,"RangeFilterParams",(function(){return common["RangeFilterParams"]}));__webpack_require__.d(__webpack_exports__,"ExistsFilter",(function(){return common["ExistsFilter"]}));__webpack_require__.d(__webpack_exports__,"PhrasesFilter",(function(){return common["PhrasesFilter"]}));__webpack_require__.d(__webpack_exports__,"PhraseFilter",(function(){return common["PhraseFilter"]}));__webpack_require__.d(__webpack_exports__,"CustomFilter",(function(){return common["CustomFilter"]}));__webpack_require__.d(__webpack_exports__,"MatchAllFilter",(function(){return common["MatchAllFilter"]}));__webpack_require__.d(__webpack_exports__,"opensearchKuery",(function(){return opensearchKuery}));__webpack_require__.d(__webpack_exports__,"opensearchQuery",(function(){return opensearchQuery}));__webpack_require__.d(__webpack_exports__,"OpenSearchQueryConfig",(function(){return common["OpenSearchQueryConfig"]}));__webpack_require__.d(__webpack_exports__,"KueryNode",(function(){return common["KueryNode"]}));__webpack_require__.d(__webpack_exports__,"baseFormattersPublic",(function(){return baseFormattersPublic}));__webpack_require__.d(__webpack_exports__,"FieldFormatsStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"fieldFormats",(function(){return public_fieldFormats}));__webpack_require__.d(__webpack_exports__,"IFieldFormat",(function(){return common["IFieldFormat"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatInstanceType",(function(){return common["FieldFormatInstanceType"]}));__webpack_require__.d(__webpack_exports__,"IFieldFormatsRegistry",(function(){return common["IFieldFormatsRegistry"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatsContentType",(function(){return common["FieldFormatsContentType"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatsGetConfigFn",(function(){return common["FieldFormatsGetConfigFn"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatConfig",(function(){return common["FieldFormatConfig"]}));__webpack_require__.d(__webpack_exports__,"FieldFormatId",(function(){return common["FieldFormatId"]}));__webpack_require__.d(__webpack_exports__,"FieldFormat",(function(){return common["FieldFormat"]}));__webpack_require__.d(__webpack_exports__,"indexPatterns",(function(){return public_indexPatterns}));__webpack_require__.d(__webpack_exports__,"IndexPatternsContract",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"IndexPattern",(function(){return index_patterns["a"]}));__webpack_require__.d(__webpack_exports__,"IIndexPatternFieldList",(function(){return common_index_patterns["IIndexPatternFieldList"]}));__webpack_require__.d(__webpack_exports__,"IndexPatternField",(function(){return common_index_patterns["c"]}));__webpack_require__.d(__webpack_exports__,"IIndexPattern",(function(){return common["IIndexPattern"]}));__webpack_require__.d(__webpack_exports__,"IFieldType",(function(){return common["IFieldType"]}));__webpack_require__.d(__webpack_exports__,"IFieldSubType",(function(){return common["IFieldSubType"]}));__webpack_require__.d(__webpack_exports__,"OPENSEARCH_FIELD_TYPES",(function(){return common["OPENSEARCH_FIELD_TYPES"]}));__webpack_require__.d(__webpack_exports__,"OSD_FIELD_TYPES",(function(){return common["OSD_FIELD_TYPES"]}));__webpack_require__.d(__webpack_exports__,"IndexPatternAttributes",(function(){return common["IndexPatternAttributes"]}));__webpack_require__.d(__webpack_exports__,"UI_SETTINGS",(function(){return common["UI_SETTINGS"]}));__webpack_require__.d(__webpack_exports__,"IndexPatternTypeMeta",(function(){return common["TypeMeta"]}));__webpack_require__.d(__webpack_exports__,"IndexPatternAggRestrictions",(function(){return common["AggregationRestrictions"]}));__webpack_require__.d(__webpack_exports__,"IndexPatternSpec",(function(){return common["IndexPatternSpec"]}));__webpack_require__.d(__webpack_exports__,"fieldList",(function(){return common["fieldList"]}));__webpack_require__.d(__webpack_exports__,"DuplicateIndexPatternError",(function(){return errors["a"]}));__webpack_require__.d(__webpack_exports__,"QuerySuggestion",(function(){return autocomplete["c"]}));__webpack_require__.d(__webpack_exports__,"QuerySuggestionTypes",(function(){return autocomplete["h"]}));__webpack_require__.d(__webpack_exports__,"QuerySuggestionGetFn",(function(){return autocomplete["f"]}));__webpack_require__.d(__webpack_exports__,"QuerySuggestionGetFnArgs",(function(){return autocomplete["g"]}));__webpack_require__.d(__webpack_exports__,"QuerySuggestionBasic",(function(){return autocomplete["d"]}));__webpack_require__.d(__webpack_exports__,"QuerySuggestionField",(function(){return autocomplete["e"]}));__webpack_require__.d(__webpack_exports__,"AutocompleteStart",(function(){return autocomplete["b"]}));__webpack_require__.d(__webpack_exports__,"AggConfigSerialized",(function(){return common["AggConfigSerialized"]}));__webpack_require__.d(__webpack_exports__,"AggGroupLabels",(function(){return common["AggGroupLabels"]}));__webpack_require__.d(__webpack_exports__,"AggGroupName",(function(){return common["AggGroupName"]}));__webpack_require__.d(__webpack_exports__,"AggGroupNames",(function(){return common["AggGroupNames"]}));__webpack_require__.d(__webpack_exports__,"AggParam",(function(){return common["AggParam"]}));__webpack_require__.d(__webpack_exports__,"AggParamOption",(function(){return common["AggParamOption"]}));__webpack_require__.d(__webpack_exports__,"AggParamType",(function(){return common["AggParamType"]}));__webpack_require__.d(__webpack_exports__,"AggConfigOptions",(function(){return common["AggConfigOptions"]}));__webpack_require__.d(__webpack_exports__,"BUCKET_TYPES",(function(){return common["BUCKET_TYPES"]}));__webpack_require__.d(__webpack_exports__,"OpenSearchaggsExpressionFunctionDefinition",(function(){return common["OpenSearchaggsExpressionFunctionDefinition"]}));__webpack_require__.d(__webpack_exports__,"IAggConfig",(function(){return common["IAggConfig"]}));__webpack_require__.d(__webpack_exports__,"IAggConfigs",(function(){return common["IAggConfigs"]}));__webpack_require__.d(__webpack_exports__,"IAggType",(function(){return common["IAggType"]}));__webpack_require__.d(__webpack_exports__,"IFieldParamType",(function(){return common["IFieldParamType"]}));__webpack_require__.d(__webpack_exports__,"IMetricAggType",(function(){return common["IMetricAggType"]}));__webpack_require__.d(__webpack_exports__,"METRIC_TYPES",(function(){return common["METRIC_TYPES"]}));__webpack_require__.d(__webpack_exports__,"OptionedParamType",(function(){return common["OptionedParamType"]}));__webpack_require__.d(__webpack_exports__,"OptionedValueProp",(function(){return common["OptionedValueProp"]}));__webpack_require__.d(__webpack_exports__,"ParsedInterval",(function(){return common["ParsedInterval"]}));__webpack_require__.d(__webpack_exports__,"TabbedAggColumn",(function(){return common["TabbedAggColumn"]}));__webpack_require__.d(__webpack_exports__,"TabbedAggRow",(function(){return common["TabbedAggRow"]}));__webpack_require__.d(__webpack_exports__,"TabbedTable",(function(){return common["TabbedTable"]}));__webpack_require__.d(__webpack_exports__,"OPENSEARCH_SEARCH_STRATEGY",(function(){return common_search["hb"]}));__webpack_require__.d(__webpack_exports__,"OpenSearchQuerySortValue",(function(){return common_search["OpenSearchQuerySortValue"]}));__webpack_require__.d(__webpack_exports__,"extractSearchSourceReferences",(function(){return common_search["Cb"]}));__webpack_require__.d(__webpack_exports__,"getOpenSearchPreference",(function(){return getOpenSearchPreference}));__webpack_require__.d(__webpack_exports__,"getSearchParamsFromRequest",(function(){return common_search["Vb"]}));__webpack_require__.d(__webpack_exports__,"IOpenSearchSearchRequest",(function(){return common_search["IOpenSearchSearchRequest"]}));__webpack_require__.d(__webpack_exports__,"IOpenSearchSearchResponse",(function(){return common_search["IOpenSearchSearchResponse"]}));__webpack_require__.d(__webpack_exports__,"IOpenSearchDashboardsSearchRequest",(function(){return common_search["IOpenSearchDashboardsSearchRequest"]}));__webpack_require__.d(__webpack_exports__,"IOpenSearchDashboardsSearchResponse",(function(){return common_search["IOpenSearchDashboardsSearchResponse"]}));__webpack_require__.d(__webpack_exports__,"injectSearchSourceReferences",(function(){return common_search["Yb"]}));__webpack_require__.d(__webpack_exports__,"ISearch",(function(){return common_search["ISearch"]}));__webpack_require__.d(__webpack_exports__,"ISearchSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ISearchStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ISearchStartSearchSource",(function(){return common_search["ISearchStartSearchSource"]}));__webpack_require__.d(__webpack_exports__,"ISearchGeneric",(function(){return common_search["ISearchGeneric"]}));__webpack_require__.d(__webpack_exports__,"ISearchSource",(function(){return common_search["ISearchSource"]}));__webpack_require__.d(__webpack_exports__,"parseSearchSourceJSON",(function(){return common_search["sc"]}));__webpack_require__.d(__webpack_exports__,"SearchInterceptor",(function(){return search_interceptor_SearchInterceptor}));__webpack_require__.d(__webpack_exports__,"SearchInterceptorDeps",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SearchRequest",(function(){return common_search["SearchRequest"]}));__webpack_require__.d(__webpack_exports__,"SearchSourceFields",(function(){return common_search["SearchSourceFields"]}));__webpack_require__.d(__webpack_exports__,"SortDirection",(function(){return common_search["rb"]}));__webpack_require__.d(__webpack_exports__,"OpenSearchdslExpressionFunctionDefinition",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"OpenSearchRawResponseExpressionTypeDefinition",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SearchError",(function(){return common_search["SearchError"]}));__webpack_require__.d(__webpack_exports__,"SearchTimeoutError",(function(){return timeout_error_SearchTimeoutError}));__webpack_require__.d(__webpack_exports__,"PainlessError",(function(){return painless_error_PainlessError}));__webpack_require__.d(__webpack_exports__,"ISearchOptions",(function(){return common["ISearchOptions"]}));__webpack_require__.d(__webpack_exports__,"isErrorResponse",(function(){return common["isErrorResponse"]}));__webpack_require__.d(__webpack_exports__,"isCompleteResponse",(function(){return common["isCompleteResponse"]}));__webpack_require__.d(__webpack_exports__,"isPartialResponse",(function(){return common["isPartialResponse"]}));__webpack_require__.d(__webpack_exports__,"search",(function(){return public_search}));__webpack_require__.d(__webpack_exports__,"SearchBar",(function(){return ui["e"]}));__webpack_require__.d(__webpack_exports__,"SearchBarProps",(function(){return ui["f"]}));__webpack_require__.d(__webpack_exports__,"StatefulSearchBarProps",(function(){return ui["g"]}));__webpack_require__.d(__webpack_exports__,"IndexPatternSelectProps",(function(){return ui["b"]}));__webpack_require__.d(__webpack_exports__,"QueryStringInput",(function(){return ui["c"]}));__webpack_require__.d(__webpack_exports__,"QueryStringInputProps",(function(){return ui["d"]}));__webpack_require__.d(__webpack_exports__,"Filter",(function(){return common["Filter"]}));__webpack_require__.d(__webpack_exports__,"Query",(function(){return common["Query"]}));__webpack_require__.d(__webpack_exports__,"RefreshInterval",(function(){return common["RefreshInterval"]}));__webpack_require__.d(__webpack_exports__,"TimeRange",(function(){return common["TimeRange"]}));__webpack_require__.d(__webpack_exports__,"createSavedQueryService",(function(){return public_query["q"]}));__webpack_require__.d(__webpack_exports__,"connectStorageToQueryState",(function(){return public_query["n"]}));__webpack_require__.d(__webpack_exports__,"connectToQueryState",(function(){return public_query["o"]}));__webpack_require__.d(__webpack_exports__,"syncQueryStateWithUrl",(function(){return public_query["A"]}));__webpack_require__.d(__webpack_exports__,"QueryState",(function(){return public_query["e"]}));__webpack_require__.d(__webpack_exports__,"getDefaultQuery",(function(){return public_query["v"]}));__webpack_require__.d(__webpack_exports__,"FilterManager",(function(){return public_query["a"]}));__webpack_require__.d(__webpack_exports__,"SavedQuery",(function(){return public_query["g"]}));__webpack_require__.d(__webpack_exports__,"SavedQueryService",(function(){return public_query["h"]}));__webpack_require__.d(__webpack_exports__,"SavedQueryTimeFilter",(function(){return public_query["i"]}));__webpack_require__.d(__webpack_exports__,"InputTimeRange",(function(){return public_query["InputTimeRange"]}));__webpack_require__.d(__webpack_exports__,"TimeHistory",(function(){return public_query["j"]}));__webpack_require__.d(__webpack_exports__,"TimefilterContract",(function(){return public_query["l"]}));__webpack_require__.d(__webpack_exports__,"TimeHistoryContract",(function(){return public_query["k"]}));__webpack_require__.d(__webpack_exports__,"QueryStateChange",(function(){return public_query["f"]}));__webpack_require__.d(__webpack_exports__,"QueryStart",(function(){return public_query["QueryStart"]}));__webpack_require__.d(__webpack_exports__,"AggsStart",(function(){return common["AggsStart"]}));__webpack_require__.d(__webpack_exports__,"getTime",(function(){return common["getTime"]}));__webpack_require__.d(__webpack_exports__,"castOpenSearchToOsdFieldTypeName",(function(){return common["castOpenSearchToOsdFieldTypeName"]}));__webpack_require__.d(__webpack_exports__,"getOsdTypeNames",(function(){return common["getOsdTypeNames"]}));__webpack_require__.d(__webpack_exports__,"isTimeRange",(function(){return common["isTimeRange"]}));__webpack_require__.d(__webpack_exports__,"isQuery",(function(){return common["isQuery"]}));__webpack_require__.d(__webpack_exports__,"isFilter",(function(){return common["isFilter"]}));__webpack_require__.d(__webpack_exports__,"isFilters",(function(){return common["isFilters"]}));__webpack_require__.d(__webpack_exports__,"ACTION_GLOBAL_APPLY_FILTER",(function(){return ACTION_GLOBAL_APPLY_FILTER}));__webpack_require__.d(__webpack_exports__,"ApplyGlobalFilterActionContext",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"FieldMappingSpec",(function(){return field_mapping["a"]}));__webpack_require__.d(__webpack_exports__,"MappingObject",(function(){return field_mapping["b"]}));__webpack_require__.d(__webpack_exports__,"expandShorthand",(function(){return field_mapping["c"]}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));__webpack_require__.d(__webpack_exports__,"DataPublicPluginSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DataPublicPluginStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"IDataPluginServices",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DataPublicPluginStartUi",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DataPublicPluginStartActions",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"Plugin",(function(){return plugin_DataPublicPlugin}));__webpack_require__.d(__webpack_exports__,"DataSource",(function(){return DataSource}));__webpack_require__.d(__webpack_exports__,"IDataSourceMetaData",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"IDataSetParams",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"IDataSourceQueryParams",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"IDataSourceQueryResult",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ISourceDataSet",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ConnectionStatus",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DataSourceFactory",(function(){return DataSourceFactory}));__webpack_require__.d(__webpack_exports__,"DataSourceConfig",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DataSourceRegistrationError",(function(){return DataSourceRegistrationError}));__webpack_require__.d(__webpack_exports__,"DataSourceService",(function(){return datasource_service_DataSourceService}));__webpack_require__.d(__webpack_exports__,"DataSourceType",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"IDataSourceFilter",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"IDataSourceRegistrationResult",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DataSourceSelectable",(function(){return DataSourceSelectable}));__webpack_require__.d(__webpack_exports__,"DataSourceSelectableProps",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DataSourceGroup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DataSourceOption",(function(){return undefined}));var common=__webpack_require__(1);var ui=__webpack_require__(34);var public_query=__webpack_require__(11);var field_formats=__webpack_require__(10);var external_osdSharedDeps_Lodash_=__webpack_require__(2);var search_aggs=__webpack_require__(28);var services=__webpack_require__(8);const deserialize_getConfig=(key,defaultOverride)=>Object(services["g"])().get(key,defaultOverride);const DefaultFieldFormat=common["FieldFormat"].from(external_osdSharedDeps_Lodash_["identity"]);const deserialize_deserializeFieldFormat=function(serializedFieldFormat){if(!serializedFieldFormat){return new DefaultFieldFormat}const getFormat=mapping=>{const{id:id,params:params={}}=mapping;if(id){const Format=this.getType(id);if(Format){return new Format(params,deserialize_getConfig)}}return new DefaultFieldFormat};const getFieldFormat=Object(search_aggs["ob"])(getFormat);return getFieldFormat(serializedFieldFormat)};var external_osdSharedDeps_OsdI18n_=__webpack_require__(0);var external_osdSharedDeps_Moment_=__webpack_require__(5);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class date_DateFormat extends common["FieldFormat"]{constructor(){super(...arguments);_defineProperty(this,"memoizedConverter",external_osdSharedDeps_Lodash_["noop"]);_defineProperty(this,"memoizedPattern","");_defineProperty(this,"timeZone","");_defineProperty(this,"textConvert",val=>{const pattern=this.param("pattern");const timezone=this.param("timezone");const timezoneChanged=this.timeZone!==timezone;const datePatternChanged=this.memoizedPattern!==pattern;if(timezoneChanged||datePatternChanged){this.timeZone=timezone;this.memoizedPattern=pattern;this.memoizedConverter=Object(external_osdSharedDeps_Lodash_["memoize"])((function converter(value){if(value===null||value===undefined){return"-"}const date=external_osdSharedDeps_Moment_default()(value);if(date.isValid()){return date.format(pattern)}else{return value}}))}return this.memoizedConverter(val)})}getParamDefaults(){return{pattern:this.getConfig("dateFormat"),timezone:this.getConfig("dateFormat:tz")}}}_defineProperty(date_DateFormat,"id",common["FIELD_FORMAT_IDS"].DATE);_defineProperty(date_DateFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.date.title",{defaultMessage:"Date"}));_defineProperty(date_DateFormat,"fieldType",common["OSD_FIELD_TYPES"].DATE);function date_nanos_shared_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function analysePatternForFract(pattern){const fracSecMatch=pattern.match("S+");const fracSecMatchStr=fracSecMatch?fracSecMatch[0]:"";return{length:fracSecMatchStr.length,patternNanos:fracSecMatchStr,pattern:pattern,patternEscaped:fracSecMatchStr?pattern.replace(fracSecMatch,"[".concat(fracSecMatch,"]")):""}}function formatWithNanos(dateMomentObj,valRaw,fracPatternObj){if(fracPatternObj.length<=3){return dateMomentObj.format(fracPatternObj.pattern)}else{const valFormatted=dateMomentObj.format(fracPatternObj.patternEscaped);const valNanos=valRaw.substr(20,valRaw.length-21).padEnd(9,"0").substr(0,fracPatternObj.patternNanos.length);return valFormatted.replace(fracPatternObj.patternNanos,valNanos)}}class date_nanos_shared_DateNanosFormat extends common["FieldFormat"]{constructor(){super(...arguments);date_nanos_shared_defineProperty(this,"memoizedConverter",external_osdSharedDeps_Lodash_["noop"]);date_nanos_shared_defineProperty(this,"memoizedPattern","");date_nanos_shared_defineProperty(this,"timeZone","");date_nanos_shared_defineProperty(this,"textConvert",val=>{const pattern=this.param("pattern");const timezone=this.param("timezone");const fractPattern=analysePatternForFract(pattern);const fallbackPattern=this.param("patternFallback");const timezoneChanged=this.timeZone!==timezone;const datePatternChanged=this.memoizedPattern!==pattern;if(timezoneChanged||datePatternChanged){this.timeZone=timezone;this.memoizedPattern=pattern;this.memoizedConverter=Object(external_osdSharedDeps_Lodash_["memoize"])((function converter(value){if(value===null||value===undefined){return"-"}const date=external_osdSharedDeps_Moment_default()(value);if(typeof value!=="string"&&date.isValid()){return date.format(fallbackPattern)}else if(date.isValid()){return formatWithNanos(date,value,fractPattern)}else{return value}}))}return this.memoizedConverter(val)})}getParamDefaults(){return{pattern:this.getConfig("dateNanosFormat"),fallbackPattern:this.getConfig("dateFormat"),timezone:this.getConfig("dateFormat:tz")}}}date_nanos_shared_defineProperty(date_nanos_shared_DateNanosFormat,"id",common["FIELD_FORMAT_IDS"].DATE_NANOS);date_nanos_shared_defineProperty(date_nanos_shared_DateNanosFormat,"title",external_osdSharedDeps_OsdI18n_["i18n"].translate("data.fieldFormats.date_nanos.title",{defaultMessage:"Date nanos"}));date_nanos_shared_defineProperty(date_nanos_shared_DateNanosFormat,"fieldType",common["OSD_FIELD_TYPES"].DATE);const baseFormattersPublic=[date_DateFormat,date_nanos_shared_DateNanosFormat,...common["baseFormatters"]];function field_formats_service_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class field_formats_service_FieldFormatsService{constructor(){field_formats_service_defineProperty(this,"fieldFormatsRegistry",new common["FieldFormatsRegistry"])}setup(core){core.uiSettings.getUpdate$().subscribe(_ref=>{let{key:key,newValue:newValue}=_ref;if(key===common["UI_SETTINGS"].FORMAT_DEFAULT_TYPE_MAP){this.fieldFormatsRegistry.parseDefaultTypeMap(newValue)}});const getConfig=core.uiSettings.get.bind(core.uiSettings);this.fieldFormatsRegistry.init(getConfig,{parsedUrl:{origin:window.location.origin,pathname:window.location.pathname,basePath:core.http.basePath.get()}},baseFormattersPublic);return this.fieldFormatsRegistry}start(){this.fieldFormatsRegistry.deserialize=deserialize_deserializeFieldFormat.bind(this.fieldFormatsRegistry);return this.fieldFormatsRegistry}}var lib=__webpack_require__(27);var index_patterns=__webpack_require__(63);var external_osdSharedDeps_ElasticEui_=__webpack_require__(21);var external_osdSharedDeps_React_=__webpack_require__(3);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var public_=__webpack_require__(20);let bannerId;const onRedirectNoIndexPattern=(capabilities,navigateToApp,overlays)=>()=>{const canManageIndexPatterns=capabilities.management.opensearchDashboards.indexPatterns;const redirectTarget=canManageIndexPatterns?"/management/opensearch-dashboards/indexPatterns":"/home";let timeoutId;if(timeoutId){clearTimeout(timeoutId)}const bannerMessage=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.indexPatterns.ensureDefaultIndexPattern.bannerLabel",{defaultMessage:"To visualize and explore data in OpenSearch Dashboards, you must create an index pattern to retrieve data from OpenSearch."});bannerId=overlays.banners.replace(bannerId,Object(public_["toMountPoint"])(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning",iconType:"iInCircle",title:bannerMessage})));timeoutId=setTimeout(()=>{overlays.banners.remove(bannerId);timeoutId=undefined},15e3);if(redirectTarget==="/home"){navigateToApp("home")}else{navigateToApp("management",{path:"/opensearch-dashboards/indexPatterns?bannerMessage=".concat(bannerMessage)})}return new Promise(()=>{})};var external_osdSharedDeps_OsdI18nReact_=__webpack_require__(41);const onUnsupportedTimePattern=(toasts,navigateToApp)=>_ref=>{let{id:id,title:title,index:index}=_ref;const warningTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.indexPatterns.warningTitle",{defaultMessage:"Support for time interval index patterns removed"});const warningText=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.indexPatterns.warningText",{defaultMessage:"Currently querying all indices matching {index}. {title} should be migrated to a wildcard-based index pattern.",values:{title:title,index:index}});toasts.addWarning({title:warningTitle,text:Object(public_["toMountPoint"])(external_osdSharedDeps_React_default.a.createElement("div",null,external_osdSharedDeps_React_default.a.createElement("p",null,warningText),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd",gutterSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{size:"s",onClick:()=>navigateToApp("management",{path:"/opensearch-dashboards/index_patterns/index_pattern/".concat(id||"")})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"data.indexPatterns.editIndexPattern",defaultMessage:"Edit index pattern"}))))))})};function index_patterns_api_client_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const API_BASE_URL="/api/index_patterns/";class index_patterns_api_client_IndexPatternsApiClient{constructor(http){index_patterns_api_client_defineProperty(this,"http",void 0);this.http=http}_request(url,query){return this.http.fetch(url,{query:query}).catch(resp=>{var _resp$body$attributes;if(resp.body.statusCode===404&&((_resp$body$attributes=resp.body.attributes)===null||_resp$body$attributes===void 0?void 0:_resp$body$attributes.code)==="no_matching_indices"){throw new lib["e"](resp.body.message)}throw new Error(resp.body.message||resp.body.error||"".concat(resp.body.statusCode," Response"))})}_getUrl(path){return API_BASE_URL+path.filter(Boolean).map(encodeURIComponent).join("/")}getFieldsForTimePattern(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{pattern:pattern,lookBack:lookBack,metaFields:metaFields,dataSourceId:dataSourceId}=options;const url=this._getUrl(["_fields_for_time_pattern"]);return this._request(url,{pattern:pattern,look_back:lookBack,meta_fields:metaFields,data_source:dataSourceId}).then(resp=>resp.fields)}getFieldsForWildcard(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{pattern:pattern,metaFields:metaFields,type:type,params:params,dataSourceId:dataSourceId}=options;let url;let query;if(type){url=this._getUrl([type,"_fields_for_wildcard"]);query={pattern:pattern,meta_fields:metaFields,params:JSON.stringify(params),data_source:dataSourceId}}else{url=this._getUrl(["_fields_for_wildcard"]);query={pattern:pattern,meta_fields:metaFields,data_source:dataSourceId}}return this._request(url,query).then(resp=>resp.fields)}}var common_index_patterns=__webpack_require__(53);function ui_settings_wrapper_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class UiSettingsPublicToCommon{constructor(uiSettings){ui_settings_wrapper_defineProperty(this,"uiSettings",void 0);this.uiSettings=uiSettings}get(key){return Promise.resolve(this.uiSettings.get(key))}getAll(){return Promise.resolve(this.uiSettings.getAll())}set(key,value){this.uiSettings.set(key,value);return Promise.resolve()}remove(key){this.uiSettings.remove(key);return Promise.resolve()}}function saved_objects_client_wrapper_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const simpleSavedObjectToSavedObject=simpleSavedObject=>({version:simpleSavedObject._version,...Object(external_osdSharedDeps_Lodash_["omit"])(simpleSavedObject,"_version")});class SavedObjectsClientPublicToCommon{constructor(savedObjectClient){saved_objects_client_wrapper_defineProperty(this,"savedObjectClient",void 0);this.savedObjectClient=savedObjectClient}async find(options){const response=(await this.savedObjectClient.find(options)).savedObjects;return response.map(simpleSavedObjectToSavedObject)}async get(type,id){const response=await this.savedObjectClient.get(type,id);return simpleSavedObjectToSavedObject(response)}async update(type,id,attributes,options){const response=await this.savedObjectClient.update(type,id,attributes,options);return simpleSavedObjectToSavedObject(response)}async create(type,attributes,options){const response=await this.savedObjectClient.create(type,attributes,options);return simpleSavedObjectToSavedObject(response)}delete(type,id){return this.savedObjectClient.delete(type,id)}}var errors=__webpack_require__(46);var autocomplete=__webpack_require__(32);var opensearch_safer_lodash_set=__webpack_require__(56);var inspector_public_=__webpack_require__(90);const getOtherBucketFilterTerms=(table,columnIndex,rowIndex)=>{if(rowIndex===-1){return[]}const rows=table.rows.filter(row=>table.columns.every((column,i)=>row[column.id]===table.rows[rowIndex][column.id]||i>=columnIndex));const terms=rows.map(row=>row[table.columns[columnIndex].id]);return[...new Set(terms.filter(term=>{const notOther=term!=="__other__";const notMissing=term!=="__missing__";return notOther&&notMissing}))]};const createFilter=(aggConfigs,table,columnIndex,rowIndex,cellValue)=>{const column=table.columns[columnIndex];const aggConfig=aggConfigs[columnIndex];let filter=[];const value=rowIndex>-1?table.rows[rowIndex][column.id]:cellValue;if(value===null||value===undefined||!aggConfig.isFilterable()){return}if(aggConfig.type.name==="terms"&&aggConfig.params.otherBucket){const terms=getOtherBucketFilterTerms(table,columnIndex,rowIndex);filter=aggConfig.createFilter(value,{terms:terms})}else{filter=aggConfig.createFilter(value)}if(!filter){return}if(!Array.isArray(filter)){filter=[filter]}return filter};async function buildTabularInspectorData(table,_ref){let{queryFilter:queryFilter,deserializeFieldFormat:deserializeFieldFormat}=_ref;const aggConfigs=table.columns.map(column=>column.aggConfig);const rows=table.rows.map(row=>table.columns.reduce((prev,cur,colIndex)=>{const value=row[cur.id];let format=cur.aggConfig.toSerializedFieldFormat();if(Object.keys(format).length<1){format={id:"string"}}const fieldFormatter=deserializeFieldFormat(format);prev["col-".concat(colIndex,"-").concat(cur.aggConfig.id)]=new inspector_public_["FormattedData"](value,fieldFormatter.convert(value));return prev},{}));const columns=table.columns.map((col,colIndex)=>{const field=col.aggConfig.getField();const isCellContentFilterable=col.aggConfig.isFilterable()&&(!field||field.filterable);return{name:col.name,field:"col-".concat(colIndex,"-").concat(col.aggConfig.id),filter:isCellContentFilterable&&(value=>{const rowIndex=rows.findIndex(row=>row["col-".concat(colIndex,"-").concat(col.aggConfig.id)].raw===value.raw);const filter=createFilter(aggConfigs,table,colIndex,rowIndex,value.raw);if(filter){queryFilter.addFilters(filter)}}),filterOut:isCellContentFilterable&&(value=>{const rowIndex=rows.findIndex(row=>row["col-".concat(colIndex,"-").concat(col.aggConfig.id)].raw===value.raw);const filter=createFilter(aggConfigs,table,colIndex,rowIndex,value.raw);if(filter){const notOther=value.raw!=="__other__";const notMissing=value.raw!=="__missing__";if(Array.isArray(filter)){filter.forEach(f=>Object(opensearch_safer_lodash_set["set"])(f,"meta.negate",notOther&&notMissing))}else{Object(opensearch_safer_lodash_set["set"])(filter,"meta.negate",notOther&&notMissing)}queryFilter.addFilters(filter)}})}});return{columns:columns,rows:rows}}const serializeAggConfig=aggConfig=>({type:aggConfig.type.name,indexPatternId:aggConfig.getIndexPattern().id,aggConfigParams:aggConfig.serialize().params});const deserializeAggConfig=_ref=>{let{type:type,aggConfigParams:aggConfigParams,indexPattern:indexPattern}=_ref;const{aggs:aggs}=Object(services["f"])();const aggConfigs=aggs.createAggConfigs(indexPattern);const aggConfig=aggConfigs.createAggConfig({enabled:true,type:type,params:aggConfigParams});return aggConfig};const opensearchaggs_name="opensearchaggs";const handleCourierRequest=async _ref=>{var _indexPattern$getTime;let{searchSource:searchSource,aggs:aggs,timeRange:timeRange,timeFields:timeFields,indexPattern:indexPattern,query:query,filters:filters,partialRows:partialRows,metricsAtAllLevels:metricsAtAllLevels,inspectorAdapters:inspectorAdapters,filterManager:filterManager,abortSignal:abortSignal}=_ref;const timeFilterSearchSource=searchSource.createChild({callParentStartHandlers:true});const requestSearchSource=timeFilterSearchSource.createChild({callParentStartHandlers:true});aggs.setTimeRange(timeRange);Object.defineProperty(requestSearchSource,"history",{get(){return searchSource.history},set(history){return searchSource.history=history}});requestSearchSource.setField("aggs",(function(){return aggs.toDsl(metricsAtAllLevels)}));requestSearchSource.onRequestStart((paramSearchSource,options)=>aggs.onSearchRequestStart(paramSearchSource,options));const defaultTimeField=indexPattern===null||indexPattern===void 0?void 0:(_indexPattern$getTime=indexPattern.getTimeField)===null||_indexPattern$getTime===void 0?void 0:_indexPattern$getTime.call(indexPattern);const defaultTimeFields=defaultTimeField?[defaultTimeField.name]:[];const allTimeFields=timeFields&&timeFields.length>0?timeFields:defaultTimeFields;if(timeRange&&allTimeFields.length>0){timeFilterSearchSource.setField("filter",()=>allTimeFields.map(fieldName=>Object(common["getTime"])(indexPattern,timeRange,{fieldName:fieldName})).filter(common["isRangeFilter"]))}requestSearchSource.setField("filter",filters);requestSearchSource.setField("query",query);inspectorAdapters.requests.reset();const request=inspectorAdapters.requests.start(external_osdSharedDeps_OsdI18n_["i18n"].translate("data.functions.opensearchaggs.inspector.dataRequest.title",{defaultMessage:"Data"}),{description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.functions.opensearchaggs.inspector.dataRequest.description",{defaultMessage:"This request queries OpenSearch to fetch the data for the visualization."})});request.stats(Object(common["getRequestInspectorStats"])(requestSearchSource));try{const response=await requestSearchSource.fetch({abortSignal:abortSignal});request.stats(Object(common["getResponseInspectorStats"])(response,searchSource)).ok({json:response});searchSource.rawResponse=response}catch(e){request.error({json:e});throw e}finally{requestSearchSource.getSearchRequestBody().then(req=>{request.json(req)})}let resp=searchSource.rawResponse;for(const agg of aggs.aggs){if(Object(external_osdSharedDeps_Lodash_["hasIn"])(agg,"type.postFlightRequest")){resp=await agg.type.postFlightRequest(resp,aggs,agg,requestSearchSource,inspectorAdapters.requests,abortSignal)}}searchSource.finalResponse=resp;const parsedTimeRange=timeRange?Object(common["calculateBounds"])(timeRange):null;const tabifyParams={metricsAtAllLevels:metricsAtAllLevels,partialRows:partialRows,timeRange:parsedTimeRange?{from:parsedTimeRange.min,to:parsedTimeRange.max,timeFields:allTimeFields}:undefined};searchSource.tabifiedResponse=Object(common["tabifyAggResponse"])(aggs,searchSource.finalResponse,tabifyParams);inspectorAdapters.data.setTabularLoader(()=>buildTabularInspectorData(searchSource.tabifiedResponse,{queryFilter:filterManager,deserializeFieldFormat:Object(services["a"])().deserialize}),{returnsFormattedValues:true});return searchSource.tabifiedResponse};const opensearchaggs=()=>({name:opensearchaggs_name,type:"opensearch_dashboards_datatable",inputTypes:["opensearch_dashboards_context","null"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.functions.opensearchaggs.help",{defaultMessage:"Run AggConfig aggregation"}),args:{index:{types:["string"],help:""},metricsAtAllLevels:{types:["boolean"],default:false,help:""},partialRows:{types:["boolean"],default:false,help:""},includeFormatHints:{types:["boolean"],default:false,help:""},aggConfigs:{types:["string"],default:'""',help:""},timeFields:{types:["string"],help:"",multi:true}},async fn(input,args,_ref2){let{inspectorAdapters:inspectorAdapters,abortSignal:abortSignal}=_ref2;const indexPatterns=Object(services["b"])();const{filterManager:filterManager}=Object(services["e"])();const searchService=Object(services["f"])();const aggConfigsState=JSON.parse(args.aggConfigs);const indexPattern=await indexPatterns.get(args.index);const aggs=searchService.aggs.createAggConfigs(indexPattern,aggConfigsState);const searchSource=await searchService.searchSource.create();searchSource.setField("index",indexPattern);searchSource.setField("size",0);const response=await handleCourierRequest({searchSource:searchSource,aggs:aggs,indexPattern:indexPattern,timeRange:Object(external_osdSharedDeps_Lodash_["get"])(input,"timeRange",undefined),query:Object(external_osdSharedDeps_Lodash_["get"])(input,"query",undefined),filters:Object(external_osdSharedDeps_Lodash_["get"])(input,"filters",undefined),timeFields:args.timeFields,metricsAtAllLevels:args.metricsAtAllLevels,partialRows:args.partialRows,inspectorAdapters:inspectorAdapters,filterManager:filterManager,abortSignal:abortSignal});const table={type:"opensearch_dashboards_datatable",rows:response.rows,columns:response.columns.map(column=>{const cleanedColumn={id:column.id,name:column.name,meta:serializeAggConfig(column.aggConfig)};if(args.includeFormatHints){cleanedColumn.formatHint=column.aggConfig.toSerializedFieldFormat()}return cleanedColumn})};return table}});const opensearch_raw_response_name="opensearch_raw_response";function flatten(obj){let keyPrefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";let topLevelKeys={};const nestedRows=[];const prefix=keyPrefix?keyPrefix+".":"";Object.keys(obj).forEach(key=>{if(Array.isArray(obj[key])){nestedRows.push(...obj[key].map(nestedRow=>flatten(nestedRow,prefix+key)).reduce((acc,object)=>[...acc,...object],[]))}else if(typeof obj[key]==="object"&&obj[key]!==null){const subRows=flatten(obj[key],prefix+key);if(subRows.length===1){topLevelKeys={...topLevelKeys,...subRows[0]}}else{nestedRows.push(...subRows)}}else{topLevelKeys[prefix+key]=obj[key]}});if(nestedRows.length===0){return[topLevelKeys]}else{return nestedRows.map(nestedRow=>({...nestedRow,...topLevelKeys}))}}const parseRawDocs=hits=>hits.hits.map(hit=>hit.fields||hit._source).filter(hit=>hit);const convertResult=body=>!body.aggregations?parseRawDocs(body.hits):flatten(body.aggregations);const opensearchRawResponse={name:opensearch_raw_response_name,to:{datatable:context=>{const rows=convertResult(context.body);const columns=rows.length?Object.keys(rows[0]).map(key=>({id:key,name:key,meta:{type:typeof rows[0][key],field:key,params:{}}})):[];return{type:"datatable",meta:{type:"opensearchdsl",source:"*"},columns:columns,rows:rows}}}};var common_=__webpack_require__(91);var opensearch_query=__webpack_require__(54);const opensearchdsl_name="opensearchdsl";const opensearchdsl=()=>({name:opensearchdsl_name,type:"opensearch_raw_response",inputTypes:["opensearch_dashboards_context","null"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearchdsl.help",{defaultMessage:"Run OpenSearch request"}),args:{dsl:{types:["string"],aliases:["_","q","query"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearchdsl.q.help",{defaultMessage:"Query DSL"}),required:true},index:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearchdsl.index.help",{defaultMessage:"OpenSearch index to query"}),required:true},size:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearchdsl.size.help",{defaultMessage:"OpenSearch searchAPI size parameter"}),default:10}},async fn(input,args,_ref){let{inspectorAdapters:inspectorAdapters,abortSignal:abortSignal}=_ref;const searchService=Object(services["f"])();const dsl=JSON.parse(args.dsl);if(input){const opensearchQueryConfigs=Object(opensearch_query["e"])(Object(services["g"])());const query=Object(opensearch_query["b"])(undefined,input.query||[],input.filters||[],opensearchQueryConfigs);if(!dsl.query){dsl.query=query}else{query.bool.must.push(dsl.query);dsl.query=query}}if(!inspectorAdapters.requests){inspectorAdapters.requests=new common_["RequestAdapter"]}const request=inspectorAdapters.requests.start(external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.dataRequest.title",{defaultMessage:"Data"}),{description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.dataRequest.description",{defaultMessage:"This request queries OpenSearch to fetch the data for the visualization."})});request.stats({indexPattern:{label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.indexPatternLabel",{defaultMessage:"Index pattern"}),value:args.index,description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.indexPatternDescription",{defaultMessage:"The index pattern that connected to the OpenSearch indices."})}});let res;try{res=await searchService.search({params:{index:args.index,size:args.size,body:dsl}},{abortSignal:abortSignal}).toPromise();const stats={};const resp=res.rawResponse;if(resp&&resp.took){stats.queryTime={label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.queryTimeLabel",{defaultMessage:"Query time"}),value:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.queryTimeValue",{defaultMessage:"{queryTime}ms",values:{queryTime:resp.took}}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.queryTimeDescription",{defaultMessage:"The time it took to process the query. "+"Does not include the time to send the request or parse it in the browser."})}}if(resp&&resp.hits){stats.hitsTotal={label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.hitsTotalLabel",{defaultMessage:"Hits (total)"}),value:"".concat(resp.hits.total),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.hitsTotalDescription",{defaultMessage:"The number of documents that match the query."})};stats.hits={label:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.hitsLabel",{defaultMessage:"Hits"}),value:"".concat(resp.hits.hits.length),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.opensearch_search.hitsDescription",{defaultMessage:"The number of documents returned by the query."})}}request.stats(stats).ok({json:resp});request.json(dsl);return{type:"opensearch_raw_response",body:resp}}catch(e){request.error({json:e});throw e}}});var common_search=__webpack_require__(12);var external_osdSharedDeps_RxjsOperators_=__webpack_require__(17);var usageCollection_public_=__webpack_require__(80);let SEARCH_EVENT_TYPE;(function(SEARCH_EVENT_TYPE){SEARCH_EVENT_TYPE["QUERY_TIMED_OUT"]="queryTimedOut";SEARCH_EVENT_TYPE["QUERIES_CANCELLED"]="queriesCancelled"})(SEARCH_EVENT_TYPE||(SEARCH_EVENT_TYPE={}));const createUsageCollector=(getStartServices,usageCollection)=>{const getCurrentApp=async()=>{const[{application:application}]=await getStartServices();return application.currentAppId$.pipe(Object(external_osdSharedDeps_RxjsOperators_["first"])()).toPromise()};return{trackQueryTimedOut:async()=>{const currentApp=await getCurrentApp();return usageCollection===null||usageCollection===void 0?void 0:usageCollection.reportUiStats(currentApp,usageCollection_public_["METRIC_TYPE"].LOADED,SEARCH_EVENT_TYPE.QUERY_TIMED_OUT)},trackQueriesCancelled:async()=>{const currentApp=await getCurrentApp();return usageCollection===null||usageCollection===void 0?void 0:usageCollection.reportUiStats(currentApp,usageCollection_public_["METRIC_TYPE"].LOADED,SEARCH_EVENT_TYPE.QUERIES_CANCELLED)}}};const defaultSessionId="".concat(Date.now());function getOpenSearchPreference(uiSettings){let sessionId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:defaultSessionId;const setPreference=uiSettings.get(common["UI_SETTINGS"].COURIER_SET_REQUEST_PREFERENCE);if(setPreference==="sessionId")return"".concat(sessionId);const customPreference=uiSettings.get(common["UI_SETTINGS"].COURIER_CUSTOM_REQUEST_PREFERENCE);return setPreference==="custom"?customPreference:undefined}var external_osdSharedDeps_Rxjs_=__webpack_require__(9);var opensearchDashboardsUtils_common_=__webpack_require__(16);function isOpenSearchError(e){var _e$body;return!!((_e$body=e.body)!==null&&_e$body!==void 0&&_e$body.attributes)}function painless_error_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class painless_error_PainlessError extends opensearchDashboardsUtils_common_["OsdError"]{constructor(err,request){const rootCause=getRootCause(err);super(external_osdSharedDeps_OsdI18n_["i18n"].translate("data.painlessError.painlessScriptedFieldErrorMessage",{defaultMessage:"Error executing Painless script: '{script}'.",values:{script:rootCause===null||rootCause===void 0?void 0:rootCause.script}}));painless_error_defineProperty(this,"painlessStack",void 0);this.painlessStack=rootCause!==null&&rootCause!==void 0&&rootCause.script_stack?rootCause===null||rootCause===void 0?void 0:rootCause.script_stack.join("\n"):undefined}getErrorMessage(application){function onClick(){application.navigateToApp("management",{path:"/opensearch-dashboards/indexPatterns"})}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,this.message,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),this.painlessStack?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCodeBlock"],{"data-test-subj":"painlessStackTrace",isCopyable:true,paddingSize:"s"},this.painlessStack):null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{textAlign:"right"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{color:"danger",onClick:onClick,size:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"data.painlessError.buttonTxt",defaultMessage:"Edit script"}))))}}function getFailedShards(err){var _err$body,_err$body$attributes,_err$body$attributes$,_err$body2,_err$body2$attributes,_err$body2$attributes2,_err$body2$attributes3;const failedShards=((_err$body=err.body)===null||_err$body===void 0?void 0:(_err$body$attributes=_err$body.attributes)===null||_err$body$attributes===void 0?void 0:(_err$body$attributes$=_err$body$attributes.error)===null||_err$body$attributes$===void 0?void 0:_err$body$attributes$.failed_shards)||((_err$body2=err.body)===null||_err$body2===void 0?void 0:(_err$body2$attributes=_err$body2.attributes)===null||_err$body2$attributes===void 0?void 0:(_err$body2$attributes2=_err$body2$attributes.error)===null||_err$body2$attributes2===void 0?void 0:(_err$body2$attributes3=_err$body2$attributes2.caused_by)===null||_err$body2$attributes3===void 0?void 0:_err$body2$attributes3.failed_shards);return failedShards?failedShards[0]:undefined}function getRootCause(err){var _getFailedShards;return(_getFailedShards=getFailedShards(err))===null||_getFailedShards===void 0?void 0:_getFailedShards.reason}function isPainlessError(err){if(!isOpenSearchError(err))return false;const rootCause=getRootCause(err);if(!rootCause)return false;const{lang:lang}=rootCause;return lang==="painless"}const TIMEOUT_MESSAGE="Your query has timed out. Contact your system administrator to review your index strategy or increase the run time.";class timeout_error_SearchTimeoutError extends opensearchDashboardsUtils_common_["OsdError"]{constructor(err){super("Request timeout: ".concat(JSON.stringify(err===null||err===void 0?void 0:err.message)))}getErrorMessage(application){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.timeoutContactAdmin",{defaultMessage:TIMEOUT_MESSAGE}))}}function search_interceptor_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class search_interceptor_SearchInterceptor{constructor(deps){this.deps=deps;search_interceptor_defineProperty(this,"abortController",new AbortController);search_interceptor_defineProperty(this,"pendingCount$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](0));search_interceptor_defineProperty(this,"application",void 0);search_interceptor_defineProperty(this,"showTimeoutError",Object(external_osdSharedDeps_Lodash_["debounce"])(e=>{this.deps.toasts.addDanger({title:"Timed out",text:Object(public_["toMountPoint"])(e.getErrorMessage(this.application))})},3e4,{leading:true,trailing:false}));this.deps.http.addLoadingCountSource(this.pendingCount$);this.deps.startServices.then(_ref=>{let[coreStart]=_ref;this.application=coreStart.application})}handleSearchError(e,request,timeoutSignal,appAbortSignal){if(timeoutSignal.aborted||Object(external_osdSharedDeps_Lodash_["get"])(e,"body.message")==="Request timed out"){const err=new timeout_error_SearchTimeoutError(e);this.showTimeoutError(err);return err}else if(appAbortSignal!==null&&appAbortSignal!==void 0&&appAbortSignal.aborted){return e}else if(isPainlessError(e)){return new painless_error_PainlessError(e,request)}else{return e}}runSearch(request,signal,strategy){const{id:id,...searchRequest}=request;const path=Object(external_osdSharedDeps_Lodash_["trimEnd"])("/internal/search/".concat(strategy||common["OPENSEARCH_SEARCH_STRATEGY"],"/").concat(id||""),"/");const body=JSON.stringify(searchRequest);return Object(external_osdSharedDeps_Rxjs_["from"])(this.deps.http.fetch({method:"POST",path:path,body:body,signal:signal}))}setupAbortSignal(_ref2){let{abortSignal:abortSignal,timeout:timeout}=_ref2;const timeoutController=new AbortController;const{signal:timeoutSignal}=timeoutController;const timeout$=timeout?Object(external_osdSharedDeps_Rxjs_["timer"])(timeout):external_osdSharedDeps_Rxjs_["NEVER"];const subscription=timeout$.subscribe(()=>{timeoutController.abort()});const signals=[this.abortController.signal,timeoutSignal,...abortSignal?[abortSignal]:[]];const{signal:combinedSignal,cleanup:cleanupCombinedSignal}=Object(common["getCombinedSignal"])(signals);const cleanup=()=>{subscription.unsubscribe();combinedSignal.removeEventListener("abort",cleanup);cleanupCombinedSignal()};combinedSignal.addEventListener("abort",cleanup);return{combinedSignal:combinedSignal,timeoutSignal:timeoutSignal,cleanup:cleanup}}search(request,options){return Object(external_osdSharedDeps_Rxjs_["defer"])(()=>{var _options$abortSignal;if(options!==null&&options!==void 0&&(_options$abortSignal=options.abortSignal)!==null&&_options$abortSignal!==void 0&&_options$abortSignal.aborted){return Object(external_osdSharedDeps_Rxjs_["throwError"])(new common["AbortError"])}const{timeoutSignal:timeoutSignal,combinedSignal:combinedSignal,cleanup:cleanup}=this.setupAbortSignal({abortSignal:options===null||options===void 0?void 0:options.abortSignal});this.pendingCount$.next(this.pendingCount$.getValue()+1);return this.runSearch(request,combinedSignal,options===null||options===void 0?void 0:options.strategy).pipe(Object(external_osdSharedDeps_RxjsOperators_["catchError"])(e=>Object(external_osdSharedDeps_Rxjs_["throwError"])(this.handleSearchError(e,request,timeoutSignal,options===null||options===void 0?void 0:options.abortSignal))),Object(external_osdSharedDeps_RxjsOperators_["finalize"])(()=>{this.pendingCount$.next(this.pendingCount$.getValue()-1);cleanup()}))})}showError(e){if(e instanceof common["AbortError"])return;if(e instanceof timeout_error_SearchTimeoutError){return}if(e instanceof painless_error_PainlessError){this.deps.toasts.addDanger({title:"Search Error",text:Object(public_["toMountPoint"])(e.getErrorMessage(this.application))});return}this.deps.toasts.addError(e,{title:"Search Error"})}}var get_force_now=__webpack_require__(73);function aggs_service_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function createGetConfig(uiSettings,requiredSettings,subscriptions){const settingsCache={};requiredSettings.forEach(setting=>{subscriptions.push(uiSettings.get$(setting).subscribe(value=>{settingsCache[setting]=value}))});return key=>settingsCache[key]}class aggs_service_AggsService{constructor(){aggs_service_defineProperty(this,"aggsCommonService",new search_aggs["E"]);aggs_service_defineProperty(this,"initializedAggTypes",new Map);aggs_service_defineProperty(this,"getConfig",void 0);aggs_service_defineProperty(this,"subscriptions",[]);aggs_service_defineProperty(this,"calculateBounds",timeRange=>Object(common["calculateBounds"])(timeRange,{forceNow:Object(get_force_now["a"])()}))}setup(_ref){let{registerFunction:registerFunction,uiSettings:uiSettings}=_ref;this.getConfig=createGetConfig(uiSettings,search_aggs["cb"],this.subscriptions);return this.aggsCommonService.setup({registerFunction:registerFunction})}start(_ref2){let{fieldFormats:fieldFormats,uiSettings:uiSettings}=_ref2;const{calculateAutoTimeExpression:calculateAutoTimeExpression,types:types}=this.aggsCommonService.start({uiSettings:uiSettings,getConfig:this.getConfig});const aggTypesDependencies={calculateBounds:this.calculateBounds,getConfig:this.getConfig,getFieldFormatsStart:()=>({deserialize:fieldFormats.deserialize,getDefaultInstance:fieldFormats.getDefaultInstance}),isDefaultTimezone:()=>uiSettings.isDefault("dateFormat:tz")};types.getAll().buckets.forEach(type=>{const agg=type(aggTypesDependencies);this.initializedAggTypes.set(agg.name,agg)});types.getAll().metrics.forEach(type=>{const agg=type(aggTypesDependencies);this.initializedAggTypes.set(agg.name,agg)});const typesRegistry={get:name=>this.initializedAggTypes.get(name),getAll:()=>({buckets:Array.from(this.initializedAggTypes.values()).filter(agg=>agg.type==="buckets"),metrics:Array.from(this.initializedAggTypes.values()).filter(agg=>agg.type==="metrics")})};return{calculateAutoTimeExpression:calculateAutoTimeExpression,createAggConfigs:function(indexPattern){let configStates=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let schemas=arguments.length>2?arguments[2]:undefined;return new search_aggs["c"](indexPattern,configStates,{typesRegistry:typesRegistry})},types:typesRegistry}}stop(){this.subscriptions.forEach(s=>s.unsubscribe());this.subscriptions=[]}}var uiActions_public_=__webpack_require__(29);const Fallback=()=>external_osdSharedDeps_React_default.a.createElement("div",null);const LazyApplyFiltersPopoverContent=external_osdSharedDeps_React_default.a.lazy(()=>__webpack_require__.e(7).then(__webpack_require__.bind(null,167)));const applyFiltersPopover=(filters,indexPatterns,onCancel,onSubmit)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Suspense,{fallback:external_osdSharedDeps_React_default.a.createElement(Fallback,null)},external_osdSharedDeps_React_default.a.createElement(LazyApplyFiltersPopoverContent,{indexPatterns:indexPatterns,filters:filters,onCancel:onCancel,onSubmit:onSubmit}));const ACTION_GLOBAL_APPLY_FILTER="ACTION_GLOBAL_APPLY_FILTER";async function isCompatible(context){return context.filters!==undefined}function createFilterAction(filterManager,timeFilter){return Object(uiActions_public_["createAction"])({type:ACTION_GLOBAL_APPLY_FILTER,id:ACTION_GLOBAL_APPLY_FILTER,order:100,getIconType:()=>"filter",getDisplayName:()=>external_osdSharedDeps_OsdI18n_["i18n"].translate("data.filter.applyFilterActionTitle",{defaultMessage:"Apply filter to current view"}),isCompatible:isCompatible,execute:async _ref=>{let{filters:filters,timeFieldName:timeFieldName}=_ref;if(!filters){throw new Error("Applying a filter requires a filter")}if(!await isCompatible({filters:filters})){throw new uiActions_public_["IncompatibleActionError"]}let selectedFilters=filters;if(selectedFilters.length>1){const indexPatterns=await Promise.all(filters.map(filter=>Object(services["b"])().get(filter.meta.index)));const filterSelectionPromise=new Promise(resolve=>{const overlay=Object(services["d"])().openModal(Object(public_["toMountPoint"])(applyFiltersPopover(filters,indexPatterns,()=>{overlay.close();resolve([])},filterSelection=>{overlay.close();resolve(filterSelection)})),{"data-test-subj":"test"})});selectedFilters=await filterSelectionPromise}if(timeFieldName){const{timeRangeFilter:timeRangeFilter,restOfFilters:restOfFilters}=opensearchFilters.extractTimeFilter(timeFieldName,selectedFilters);filterManager.addFilters(restOfFilters);if(timeRangeFilter){opensearchFilters.changeTimeFilter(timeFilter,timeRangeFilter)}}else{filterManager.addFilters(selectedFilters)}}})}const create_filters_from_value_click_getOtherBucketFilterTerms=(table,columnIndex,rowIndex)=>{if(rowIndex===-1){return[]}const rows=table.rows.filter(row=>table.columns.every((column,i)=>row[column.id]===table.rows[rowIndex][column.id]||i>=columnIndex));const terms=rows.map(row=>row[table.columns[columnIndex].id]);return[...new Set(terms.filter(term=>{const notOther=term!=="__other__";const notMissing=term!=="__missing__";return notOther&&notMissing}))]};const create_filters_from_value_click_createFilter=async(table,columnIndex,rowIndex)=>{if(!table||!table.columns||!table.columns[columnIndex]){return}const column=table.columns[columnIndex];if(!column.meta||!column.meta.indexPatternId){return}const aggConfig=deserializeAggConfig({type:column.meta.type,aggConfigParams:column.meta.aggConfigParams?column.meta.aggConfigParams:{},indexPattern:await Object(services["b"])().get(column.meta.indexPatternId)});let filter=[];const value=rowIndex>-1?table.rows[rowIndex][column.id]:null;if(value===null||value===undefined||!aggConfig.isFilterable()){return}if(aggConfig.type.name==="terms"&&aggConfig.params.otherBucket){const terms=create_filters_from_value_click_getOtherBucketFilterTerms(table,columnIndex,rowIndex);filter=aggConfig.createFilter(value,{terms:terms})}else{filter=aggConfig.createFilter(value)}if(!filter){return}if(!Array.isArray(filter)){filter=[filter]}return filter};const createFiltersFromValueClickAction=async _ref=>{let{data:data,negate:negate}=_ref;const filters=[];await Promise.all(data.filter(point=>point).map(async val=>{const{table:table,column:column,row:row}=val;const filter=await create_filters_from_value_click_createFilter(table,column,row)||[];if(filter){filter.forEach(f=>{if(negate){f=opensearchFilters.toggleFilterNegated(f)}filters.push(f)})}}));return opensearchFilters.mapAndFlattenFilters(filters)};async function createFiltersFromRangeSelectAction(event){const column=event.table.columns[event.column];if(!column||!column.meta){return[]}const indexPattern=await Object(services["b"])().get(column.meta.indexPatternId);const aggConfig=deserializeAggConfig({...column.meta,indexPattern:indexPattern});const field=aggConfig.params.field;if(!field||event.range.length<=1){return[]}const min=event.range[0];const max=Object(external_osdSharedDeps_Lodash_["last"])(event.range);if(min===max){return[]}const isDate=field.type==="date";const range={gte:isDate?external_osdSharedDeps_Moment_default()(min).toISOString():min,lt:isDate?external_osdSharedDeps_Moment_default()(max).toISOString():max};if(isDate){range.format="strict_date_optional_time"}return opensearchFilters.mapAndFlattenFilters([opensearchFilters.buildRangeFilter(field,range,indexPattern)])}const ACTION_SELECT_RANGE="ACTION_SELECT_RANGE";function createSelectRangeAction(getStartServices){return Object(uiActions_public_["createAction"])({type:ACTION_SELECT_RANGE,id:ACTION_SELECT_RANGE,shouldAutoExecute:async()=>true,execute:async context=>{try{const filters=await createFiltersFromRangeSelectAction(context.data);if(filters.length>0){await getStartServices().uiActions.getTrigger(uiActions_public_["APPLY_FILTER_TRIGGER"]).exec({filters:filters,embeddable:context.embeddable,timeFieldName:context.data.timeFieldName})}}catch(e){console.warn("Error [ACTION_SELECT_RANGE]: can't extract filters from action context")}}})}const ACTION_VALUE_CLICK="ACTION_VALUE_CLICK";function createValueClickAction(getStartServices){return Object(uiActions_public_["createAction"])({type:ACTION_VALUE_CLICK,id:ACTION_VALUE_CLICK,shouldAutoExecute:async()=>true,execute:async context=>{try{const filters=await createFiltersFromValueClickAction(context.data);if(filters.length>0){await getStartServices().uiActions.getTrigger(uiActions_public_["APPLY_FILTER_TRIGGER"]).exec({filters:filters,embeddable:context.embeddable,timeFieldName:context.data.timeFieldName})}}catch(e){console.warn("Error [ACTION_EMIT_APPLY_FILTER_TRIGGER]: can't extract filters from action context")}}})}var field_mapping=__webpack_require__(64);var public_0=__webpack_require__(147);var opensearchDashboardsUtils_public_=__webpack_require__(26);const shard_failure_modal_Fallback=()=>external_osdSharedDeps_React_default.a.createElement("div",null);const LazyShardFailureOpenModalButton=external_osdSharedDeps_React_default.a.lazy(()=>__webpack_require__.e(9).then(__webpack_require__.bind(null,168)));const ShardFailureOpenModalButton=props=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Suspense,{fallback:external_osdSharedDeps_React_default.a.createElement(shard_failure_modal_Fallback,null)},external_osdSharedDeps_React_default.a.createElement(LazyShardFailureOpenModalButton,props));function handleResponse(request,response){if(response.timed_out){Object(services["c"])().toasts.addWarning({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.fetch.requestTimedOutNotificationMessage",{defaultMessage:"Data might be incomplete because your request timed out"})})}if(response._shards&&response._shards.failed){const title=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.fetch.shardsFailedNotificationMessage",{defaultMessage:"{shardsFailed} of {shardsTotal} shards failed",values:{shardsFailed:response._shards.failed,shardsTotal:response._shards.total}});const description=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.searchSource.fetch.shardsFailedNotificationDescription",{defaultMessage:"The data you are seeing might be incomplete or wrong."});const text=Object(public_["toMountPoint"])(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,description,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(ShardFailureOpenModalButton,{request:request.body,response:response,title:title})));Object(services["c"])().toasts.addWarning({title:title,text:text})}return response}function getCallMsearch(_ref){let{http:http}=_ref;return async _ref2=>{let{body:body,signal:signal}=_ref2;return http.post("/internal/_msearch",{body:JSON.stringify(body),signal:signal})}}var bucket_agg_type=__webpack_require__(13);var get_parsed_value=__webpack_require__(6);const aggShardDelayFnName="aggShardDelay";const aggShardDelay=()=>({name:aggShardDelayFnName,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.function.buckets.shardDelay.help",{defaultMessage:"Generates a serialized agg config for a Shard Delay agg"}),type:"agg_type",args:{id:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.shardDelay.id.help",{defaultMessage:"ID for this aggregation"})},enabled:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.shardDelay.enabled.help",{defaultMessage:"Specifies whether this aggregation should be enabled"})},schema:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.shardDelay.schema.help",{defaultMessage:"Schema to use for this aggregation"})},delay:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.shardDelay.delay.help",{defaultMessage:"Delay in ms between shards to process."})},json:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.shardDelay.json.help",{defaultMessage:"Advanced json to include when the agg is sent to OpenSearch"})},customLabel:{types:["string"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.search.aggs.buckets.shardDelay.customLabel.help",{defaultMessage:"Represents a custom label for this aggregation"})}},fn:(input,args)=>{const{id:id,enabled:enabled,schema:schema,...rest}=args;return{type:"agg_type",value:{id:id,enabled:enabled,schema:schema,type:SHARD_DELAY_AGG_NAME,params:{...rest,json:Object(get_parsed_value["a"])(args,"json"),delay:Object(get_parsed_value["a"])(args,"delay")}}}}});const SHARD_DELAY_AGG_NAME="shard_delay";const getShardDelayBucketAgg=()=>new bucket_agg_type["a"]({name:SHARD_DELAY_AGG_NAME,title:"Shard Delay",expressionName:aggShardDelayFnName,createFilter:()=>({match_all:{}}),customLabels:false,params:[{name:"delay",type:"string",default:"5s",write(aggConfig,output){output.params={...output.params,value:aggConfig.params.delay}}}]});function search_service_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class search_service_SearchService{constructor(initializerContext){this.initializerContext=initializerContext;search_service_defineProperty(this,"aggsService",new aggs_service_AggsService);search_service_defineProperty(this,"searchSourceService",new common_search["qb"]);search_service_defineProperty(this,"searchInterceptor",void 0);search_service_defineProperty(this,"usageCollector",void 0)}setup(_ref,_ref2){let{http:http,getStartServices:getStartServices,notifications:notifications,uiSettings:uiSettings}=_ref;let{expressions:expressions,usageCollection:usageCollection}=_ref2;this.usageCollector=createUsageCollector(getStartServices,usageCollection);this.searchInterceptor=new search_interceptor_SearchInterceptor({toasts:notifications.toasts,http:http,uiSettings:uiSettings,startServices:getStartServices(),usageCollector:this.usageCollector});expressions.registerFunction(opensearchdsl);expressions.registerType(opensearchRawResponse);const aggs=this.aggsService.setup({registerFunction:expressions.registerFunction,uiSettings:uiSettings});if(this.initializerContext.config.get().search.aggs.shardDelay.enabled){aggs.types.registerBucket(SHARD_DELAY_AGG_NAME,getShardDelayBucketAgg);expressions.registerFunction(aggShardDelay)}return{aggs:aggs,usageCollector:this.usageCollector,__enhance:enhancements=>{this.searchInterceptor=enhancements.searchInterceptor}}}start(_ref3,_ref4){let{application:application,http:http,notifications:notifications,uiSettings:uiSettings}=_ref3;let{fieldFormats:fieldFormats,indexPatterns:indexPatterns}=_ref4;const search=(request,options)=>this.searchInterceptor.search(request,options);const loadingCount$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](0);http.addLoadingCountSource(loadingCount$);const searchSourceDependencies={getConfig:uiSettings.get.bind(uiSettings),search:(request,options)=>search(request,options).toPromise(),onResponse:handleResponse,legacy:{callMsearch:getCallMsearch({http:http}),loadingCount$:loadingCount$}};return{aggs:this.aggsService.start({fieldFormats:fieldFormats,uiSettings:uiSettings}),search:search,showError:e=>{this.searchInterceptor.showError(e)},searchSource:this.searchSourceService.start(indexPatterns,searchSourceDependencies)}}stop(){this.aggsService.stop();this.searchSourceService.stop()}}var index_pattern_select=__webpack_require__(71);var create_search_bar=__webpack_require__(70);const load_index_pattern_name="indexPatternLoad";const indexPatternLoad=()=>({name:load_index_pattern_name,type:"index_pattern",inputTypes:["null"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.functions.indexPatternLoad.help",{defaultMessage:"Loads an index pattern"}),args:{id:{types:["string"],required:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.functions.indexPatternLoad.id.help",{defaultMessage:"index pattern id to load"})}},async fn(input,args){const indexPatterns=Object(services["b"])();const indexPattern=await indexPatterns.get(args.id);return{type:"index_pattern",value:indexPattern.toSpec()}}});function types_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class DataSourceRegistrationError extends Error{constructor(message){super(message);types_defineProperty(this,"success",void 0);types_defineProperty(this,"info",void 0);this.success=false;this.info=message}}function datasource_service_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class datasource_service_DataSourceService{constructor(){datasource_service_defineProperty(this,"dataSources",{});datasource_service_defineProperty(this,"dataSourcesSubject",void 0);this.dataSourcesSubject=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](this.dataSources)}static getInstance(){if(!this.dataSourceService){this.dataSourceService=new datasource_service_DataSourceService}return this.dataSourceService}async registerMultipleDataSources(datasources){return Promise.all(datasources.map(ds=>this.registerDataSource(ds)))}async registerDataSource(ds){const dsName=ds.getName();if(dsName in this.dataSources){throw new DataSourceRegistrationError("Unable to register datasource ".concat(dsName,", error: datasource name exists."))}else{this.dataSources[dsName]=ds;this.dataSourcesSubject.next(this.dataSources);return{success:true,info:""}}}get dataSources$(){return this.dataSourcesSubject.asObservable()}getDataSources(filter){if(!filter||!Array.isArray(filter.names)||filter.names.length===0)return this.dataSources;return filter.names.reduce((filteredDataSources,dsName)=>{if(dsName in this.dataSources){filteredDataSources[dsName]=this.dataSources[dsName]}return filteredDataSources},{})}}datasource_service_defineProperty(datasource_service_DataSourceService,"dataSourceService",void 0);class DataSource{constructor(name,type,metadata){this.name=name;this.type=type;this.metadata=metadata}getName(){return this.name}getType(){return this.type}getMetadata(){return this.metadata}}function factory_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class DataSourceFactory{constructor(){factory_defineProperty(this,"dataSourceClasses",{})}static getInstance(){if(!this.factory){this.factory=new DataSourceFactory}return this.factory}registerDataSourceType(type,dataSourceClass){if(this.dataSourceClasses[type]){throw new Error("This data source type has already been registered")}this.dataSourceClasses[type]=dataSourceClass}getDataSourceInstance(type,config){const DataSourceClass=this.dataSourceClasses[type];if(!DataSourceClass){throw new Error("Unsupported data source type")}return new DataSourceClass(config)}}factory_defineProperty(DataSourceFactory,"factory",void 0);function default_datasource_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class default_datasource_DefaultDslDataSource extends DataSource{constructor(_ref){let{name:name,type:type,metadata:metadata,indexPatterns:indexPatterns}=_ref;super(name,type,metadata);default_datasource_defineProperty(this,"indexPatterns",void 0);this.indexPatterns=indexPatterns}async getDataSet(dataSetParams){await this.indexPatterns.ensureDefaultIndexPattern();const savedObjectLst=await this.indexPatterns.getCache();if(!Array.isArray(savedObjectLst)){return undefined}return savedObjectLst.map(savedObject=>({id:savedObject.id,title:savedObject.attributes.title}))}async testConnection(){return true}async runQuery(queryParams){return undefined}}const DEFAULT_DATASOURCE_TYPE="DEFAULT_INDEX_PATTERNS";const DEFAULT_DATASOURCE_NAME=external_osdSharedDeps_OsdI18n_["i18n"].translate("data.datasource.type.openSearchDefault",{defaultMessage:"OpenSearch Default"});const registerDefaultDatasource=data=>{const{dataSourceService:dataSourceService,dataSourceFactory:dataSourceFactory}=data.dataSources;dataSourceFactory.registerDataSourceType(DEFAULT_DATASOURCE_TYPE,default_datasource_DefaultDslDataSource);dataSourceService.registerDataSource(dataSourceFactory.getDataSourceInstance(DEFAULT_DATASOURCE_TYPE,{name:DEFAULT_DATASOURCE_NAME,type:DEFAULT_DATASOURCE_TYPE,metadata:null,indexPatterns:data.indexPatterns}))};function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class plugin_DataPublicPlugin{constructor(initializerContext){plugin_defineProperty(this,"autocomplete",void 0);plugin_defineProperty(this,"searchService",void 0);plugin_defineProperty(this,"fieldFormatsService",void 0);plugin_defineProperty(this,"queryService",void 0);plugin_defineProperty(this,"storage",void 0);this.searchService=new search_service_SearchService(initializerContext);this.queryService=new public_query["c"];this.fieldFormatsService=new field_formats_service_FieldFormatsService;this.autocomplete=new autocomplete["a"](initializerContext);this.storage=new opensearchDashboardsUtils_public_["Storage"](window.localStorage)}setup(core,_ref){let{expressions:expressions,uiActions:uiActions,usageCollection:usageCollection}=_ref;const startServices=Object(opensearchDashboardsUtils_public_["createStartServicesGetter"])(core.getStartServices);expressions.registerFunction(opensearchaggs);expressions.registerFunction(indexPatternLoad);const queryService=this.queryService.setup({uiSettings:core.uiSettings,storage:this.storage});uiActions.registerAction(createFilterAction(queryService.filterManager,queryService.timefilter.timefilter));uiActions.addTriggerAction(uiActions_public_["SELECT_RANGE_TRIGGER"],createSelectRangeAction(()=>({uiActions:startServices().plugins.uiActions})));uiActions.addTriggerAction(uiActions_public_["VALUE_CLICK_TRIGGER"],createValueClickAction(()=>({uiActions:startServices().plugins.uiActions})));const searchService=this.searchService.setup(core,{usageCollection:usageCollection,expressions:expressions});return{autocomplete:this.autocomplete.setup(core),search:searchService,fieldFormats:this.fieldFormatsService.setup(core),query:queryService,__enhance:enhancements=>{searchService.__enhance(enhancements.search)}}}start(core,_ref2){let{uiActions:uiActions}=_ref2;const{uiSettings:uiSettings,http:http,notifications:notifications,savedObjects:savedObjects,overlays:overlays,application:application}=core;Object(services["j"])(notifications);Object(services["k"])(overlays);Object(services["n"])(uiSettings);const fieldFormats=this.fieldFormatsService.start();Object(services["h"])(fieldFormats);const indexPatterns=new index_patterns["b"]({uiSettings:new UiSettingsPublicToCommon(uiSettings),savedObjectsClient:new SavedObjectsClientPublicToCommon(savedObjects.client),apiClient:new index_patterns_api_client_IndexPatternsApiClient(http),fieldFormats:fieldFormats,onNotification:toastInputFields=>{notifications.toasts.add(toastInputFields)},onError:notifications.toasts.addError.bind(notifications.toasts),onRedirectNoIndexPattern:onRedirectNoIndexPattern(application.capabilities,application.navigateToApp,overlays),onUnsupportedTimePattern:onUnsupportedTimePattern(notifications.toasts,application.navigateToApp)});Object(services["i"])(indexPatterns);const query=this.queryService.start({storage:this.storage,savedObjectsClient:savedObjects.client,uiSettings:uiSettings});Object(services["l"])(query);const search=this.searchService.start(core,{fieldFormats:fieldFormats,indexPatterns:indexPatterns});Object(services["m"])(search);uiActions.addTriggerAction(uiActions_public_["APPLY_FILTER_TRIGGER"],uiActions.getAction(ACTION_GLOBAL_APPLY_FILTER));const dataSourceService=datasource_service_DataSourceService.getInstance();const dataSourceFactory=DataSourceFactory.getInstance();const dataServices={actions:{createFiltersFromValueClickAction:createFiltersFromValueClickAction,createFiltersFromRangeSelectAction:createFiltersFromRangeSelectAction},autocomplete:this.autocomplete.start(),fieldFormats:fieldFormats,indexPatterns:indexPatterns,query:query,search:search,dataSources:{dataSourceService:dataSourceService,dataSourceFactory:dataSourceFactory}};registerDefaultDatasource(dataServices);const SearchBar=Object(create_search_bar["b"])({core:core,data:dataServices,storage:this.storage});return{...dataServices,ui:{IndexPatternSelect:Object(index_pattern_select["c"])(core.savedObjects.client),SearchBar:SearchBar}}}stop(){this.autocomplete.clearProviders();this.queryService.stop();this.searchService.stop()}}const DATASOURCE_TYPE_DISPLAY_NAME_MAP={DEFAULT_INDEX_PATTERNS:"Index patterns",s3glue:"Amazon S3",spark:"Spark"};const getDataSetWithSource=async ds=>{const dataSet=await ds.getDataSet();return{ds:ds,data_sets:dataSet}};const getDataSets=dataSources=>dataSources.map(ds=>getDataSetWithSource(ds));const isIndexPatterns=dataSet=>{if(typeof dataSet==="string")return false;return!!(dataSet.title&&dataSet.id)};const getSourceOptions=(dataSource,dataSet)=>{const optionContent={type:dataSource.getType(),name:dataSource.getName(),ds:dataSource};if(isIndexPatterns(dataSet)){return{...optionContent,label:dataSet.title,value:dataSet.id}}return{...optionContent,label:dataSource.getName(),value:dataSource.getName()}};const getSourceList=allDataSets=>{const finalList=[];allDataSets.forEach(curDataSet=>{const typeKey=curDataSet.ds.getType();const groupName=DATASOURCE_TYPE_DISPLAY_NAME_MAP[typeKey]||"Default Group";const existingGroup=finalList.find(item=>item.label===groupName);const mappedOptions=curDataSet.data_sets.map(dataSet=>getSourceOptions(curDataSet.ds,dataSet));if(existingGroup){const existingOptionIds=new Set(existingGroup.options.map(opt=>opt.label));const nonDuplicateOptions=mappedOptions.filter(opt=>!existingOptionIds.has(opt.label));existingGroup.options.push(...nonDuplicateOptions)}else{finalList.push({label:groupName,options:mappedOptions})}});return finalList};const DataSourceSelectable=_ref=>{let{dataSources:dataSources,dataSourceOptionList:dataSourceOptionList,selectedSources:selectedSources,onDataSourceSelect:onDataSourceSelect,setDataSourceOptionList:setDataSourceOptionList,onGetDataSetError:onGetDataSetError,singleSelection:singleSelection={asPlainText:true}}=_ref;Object(external_osdSharedDeps_React_["useEffect"])(()=>{Promise.all(getDataSets(dataSources)).then(results=>{setDataSourceOptionList(getSourceList(results))}).catch(e=>onGetDataSetError(e))},[dataSources,setDataSourceOptionList,onGetDataSetError]);const handleSourceChange=Object(external_osdSharedDeps_React_["useCallback"])(selectedOptions=>onDataSourceSelect(selectedOptions),[onDataSourceSelect]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiComboBox"],{"data-test-subj":"dataExplorerDSSelect",placeholder:external_osdSharedDeps_OsdI18n_["i18n"].translate("data.datasource.selectADatasource",{defaultMessage:"Select a datasource"}),options:dataSourceOptionList,selectedOptions:selectedSources,onChange:handleSourceChange,singleSelection:singleSelection,isClearable:false,async:true})};const opensearchFilters={FilterLabel:ui["a"],FILTERS:common["FILTERS"],FilterStateStore:common["FilterStateStore"],buildEmptyFilter:common["buildEmptyFilter"],buildPhrasesFilter:common["buildPhrasesFilter"],buildExistsFilter:common["buildExistsFilter"],buildPhraseFilter:common["buildPhraseFilter"],buildQueryFilter:common["buildQueryFilter"],buildRangeFilter:common["buildRangeFilter"],isPhraseFilter:common["isPhraseFilter"],isExistsFilter:common["isExistsFilter"],isPhrasesFilter:common["isPhrasesFilter"],isRangeFilter:common["isRangeFilter"],isMatchAllFilter:common["isMatchAllFilter"],isMissingFilter:common["isMissingFilter"],isQueryStringFilter:common["isQueryStringFilter"],isFilterPinned:common["isFilterPinned"],toggleFilterNegated:common["toggleFilterNegated"],disableFilter:common["disableFilter"],getPhraseFilterField:common["getPhraseFilterField"],getPhraseFilterValue:common["getPhraseFilterValue"],getDisplayValueFromFilter:common["getDisplayValueFromFilter"],compareFilters:common["compareFilters"],COMPARE_ALL_OPTIONS:common["COMPARE_ALL_OPTIONS"],generateFilters:public_query["u"],onlyDisabledFiltersChanged:public_query["z"],changeTimeFilter:public_query["m"],convertRangeFilterToTimeRangeString:public_query["p"],mapAndFlattenFilters:public_query["x"],extractTimeFilter:public_query["r"],extractTimeRange:public_query["s"]};const opensearchKuery={nodeTypes:common["nodeTypes"],fromKueryExpression:common["fromKueryExpression"],toOpenSearchQuery:common["toOpenSearchQuery"]};const opensearchQuery={buildOpenSearchQuery:common["buildOpenSearchQuery"],getOpenSearchQueryConfig:common["getOpenSearchQueryConfig"],buildQueryFromFilters:common["buildQueryFromFilters"],luceneStringToDsl:common["luceneStringToDsl"],decorateQuery:common["decorateQuery"]};const public_fieldFormats={FieldFormat:field_formats["g"],FieldFormatsRegistry:field_formats["n"],DEFAULT_CONVERTER_COLOR:field_formats["d"],HTML_CONTEXT_TYPE:field_formats["p"],TEXT_CONTEXT_TYPE:field_formats["y"],FIELD_FORMAT_IDS:field_formats["f"],BoolFormat:field_formats["a"],BytesFormat:field_formats["b"],ColorFormat:field_formats["c"],DateFormat:date_DateFormat,DateNanosFormat:date_nanos_shared_DateNanosFormat,DurationFormat:field_formats["e"],IpFormat:field_formats["r"],NumberFormat:field_formats["s"],PercentFormat:field_formats["t"],RelativeDateFormat:field_formats["u"],SourceFormat:field_formats["v"],StaticLookupFormat:field_formats["w"],UrlFormat:field_formats["A"],StringFormat:field_formats["x"],TruncateFormat:field_formats["z"]};const public_indexPatterns={ILLEGAL_CHARACTERS_KEY:lib["c"],CONTAINS_SPACES_KEY:lib["a"],ILLEGAL_CHARACTERS_VISIBLE:lib["d"],ILLEGAL_CHARACTERS:lib["b"],isDefault:lib["h"],isFilterable:common["isFilterable"],isNestedField:common["isNestedField"],validate:lib["i"],getFromSavedObject:lib["f"],flattenHitWrapper:index_patterns["d"],formatHitProvider:index_patterns["e"]};const public_search={aggs:{CidrMask:common["CidrMask"],dateHistogramInterval:common["dateHistogramInterval"],intervalOptions:common["intervalOptions"],InvalidOpenSearchCalendarIntervalError:common["InvalidOpenSearchCalendarIntervalError"],InvalidOpenSearchIntervalFormatError:common["InvalidOpenSearchIntervalFormatError"],Ipv4Address:common["Ipv4Address"],isDateHistogramBucketAggConfig:common["isDateHistogramBucketAggConfig"],isNumberType:common["isNumberType"],isStringType:common["isStringType"],isType:common["isType"],isValidOpenSearchInterval:common["isValidOpenSearchInterval"],isValidInterval:common["isValidInterval"],parentPipelineType:common["parentPipelineType"],parseOpenSearchInterval:common["parseOpenSearchInterval"],parseInterval:common["parseInterval"],propFilter:common["propFilter"],siblingPipelineType:common["siblingPipelineType"],termsAggFilter:common["termsAggFilter"],toAbsoluteDates:common["toAbsoluteDates"]},getRequestInspectorStats:common["getRequestInspectorStats"],getResponseInspectorStats:common["getResponseInspectorStats"],tabifyAggResponse:common["tabifyAggResponse"],tabifyGetColumns:common["tabifyGetColumns"]};function public_plugin(initializerContext){return new plugin_DataPublicPlugin(initializerContext)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_data_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(94);var _node_modules_val_loader_dist_cjs_js_key_data_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_data_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__osdBundles__.define("plugin/data/public",__webpack_require__,92);__osdBundles__.define("plugin/data/common",__webpack_require__,1);__osdBundles__.define("plugin/data/common/utils/abort_utils",__webpack_require__,52);__osdBundles__.define("plugin/data/common/index_patterns/utils.ts",__webpack_require__,39)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__osdPublicPath__["data"]},function(module,exports,__webpack_require__){"use strict";(function(global){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var base64=__webpack_require__(96);var ieee754=__webpack_require__(97);var isArray=__webpack_require__(98);exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();exports.kMaxLength=kMaxLength();function typedArraySupport(){try{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return arr.foo()===42&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length){throw new RangeError("Invalid typed array length")}if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{if(that===null){that=new Buffer(length)}that.length=length}return that}function Buffer(arg,encodingOrOffset,length){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer)){return new Buffer(arg,encodingOrOffset,length)}if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}Buffer.poolSize=8192;Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function from(that,value,encodingOrOffset,length){if(typeof value==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&value instanceof ArrayBuffer){return fromArrayBuffer(that,value,encodingOrOffset,length)}if(typeof value==="string"){return fromString(that,value,encodingOrOffset)}return fromObject(that,value)}Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}}function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be a number')}else if(size<0){throw new RangeError('"size" argument must not be negative')}}function alloc(that,size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(that,size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill)}return createBuffer(that,size)}Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,size<0?0:checked(size)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<size;++i){that[i]=0}}return that}Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)};function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError('"encoding" must be a valid string encoding')}var length=byteLength(string,encoding)|0;that=createBuffer(that,length);var actual=that.write(string,encoding);if(actual!==length){that=that.slice(0,actual)}return that}function fromArrayLike(that,array){var length=array.length<0?0:checked(array.length)|0;that=createBuffer(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError("'offset' is out of bounds")}if(array.byteLength<byteOffset+(length||0)){throw new RangeError("'length' is out of bounds")}if(byteOffset===undefined&&length===undefined){array=new Uint8Array(array)}else if(length===undefined){array=new Uint8Array(array,byteOffset)}else{array=new Uint8Array(array,byteOffset,length)}if(Buffer.TYPED_ARRAY_SUPPORT){that=array;that.__proto__=Buffer.prototype}else{that=fromArrayLike(that,array)}return that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;that=createBuffer(that,len);if(that.length===0){return that}obj.copy(that,0,0,len);return that}if(obj){if(typeof ArrayBuffer!=="undefined"&&obj.buffer instanceof ArrayBuffer||"length"in obj){if(typeof obj.length!=="number"||isnan(obj.length)){return createBuffer(that,0)}return fromArrayLike(that,obj)}if(obj.type==="Buffer"&&isArray(obj.data)){return fromArrayLike(that,obj.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){string=""+string}var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case undefined:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target)){throw new TypeError("Argument must be a Buffer")}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(isNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;++i){newBuf[i]=this[i+start]}}return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;++i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(val.length===1){var code=val.charCodeAt(0);if(code<256){val=code}}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString());var len=bytes.length;for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isnan(val){return val!==val}}).call(this,__webpack_require__(82))},function(module,exports,__webpack_require__){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;var i;for(i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},function(module,exports){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(84);function set(object,path,value){return object==null?object:baseSet(object,path,value)}module.exports=set},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(101),eq=__webpack_require__(87);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignValue},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(102);function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}module.exports=baseAssignValue},function(module,exports,__webpack_require__){var getNative=__webpack_require__(74);var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(85),isMasked=__webpack_require__(107),isObject=__webpack_require__(77),toSource=__webpack_require__(109);var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=baseIsNative},function(module,exports,__webpack_require__){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(82))},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(75);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(108);var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}module.exports=isMasked},function(module,exports,__webpack_require__){var root=__webpack_require__(76);var coreJsData=root["__core-js_shared__"];module.exports=coreJsData},function(module,exports){var funcProto=Function.prototype;var funcToString=funcProto.toString;function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}module.exports=toSource},function(module,exports){function getValue(object,key){return object==null?undefined:object[key]}module.exports=getValue},function(module,exports,__webpack_require__){var isArray=__webpack_require__(78),isKey=__webpack_require__(112),stringToPath=__webpack_require__(114),toString=__webpack_require__(137);function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}module.exports=castPath},function(module,exports,__webpack_require__){var isArray=__webpack_require__(78),isSymbol=__webpack_require__(79);var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}module.exports=isKey},function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(115);var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoizeCapped((function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}));return result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(116);var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,(function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key}));var cache=result.cache;return result}module.exports=memoizeCapped},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(117);var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;module.exports=memoize},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(118),mapCacheDelete=__webpack_require__(132),mapCacheGet=__webpack_require__(134),mapCacheHas=__webpack_require__(135),mapCacheSet=__webpack_require__(136);function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;module.exports=MapCache},function(module,exports,__webpack_require__){var Hash=__webpack_require__(119),ListCache=__webpack_require__(125),Map=__webpack_require__(131);function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(120),hashDelete=__webpack_require__(121),hashGet=__webpack_require__(122),hashHas=__webpack_require__(123),hashSet=__webpack_require__(124);function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(59);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}module.exports=hashClear},function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}module.exports=hashDelete},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(59);var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}module.exports=hashGet},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(59);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}module.exports=hashHas},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(59);var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}module.exports=hashSet},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(126),listCacheDelete=__webpack_require__(127),listCacheGet=__webpack_require__(128),listCacheHas=__webpack_require__(129),listCacheSet=__webpack_require__(130);function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;module.exports=ListCache},function(module,exports){function listCacheClear(){this.__data__=[];this.size=0}module.exports=listCacheClear},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(60);var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}module.exports=listCacheDelete},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(60);function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}module.exports=listCacheGet},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(60);function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}module.exports=listCacheHas},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(60);function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}module.exports=listCacheSet},function(module,exports,__webpack_require__){var getNative=__webpack_require__(74),root=__webpack_require__(76);var Map=getNative(root,"Map");module.exports=Map},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(61);function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}module.exports=mapCacheDelete},function(module,exports){function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}module.exports=isKeyable},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(61);function mapCacheGet(key){return getMapData(this,key).get(key)}module.exports=mapCacheGet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(61);function mapCacheHas(key){return getMapData(this,key).has(key)}module.exports=mapCacheHas},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(61);function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}module.exports=mapCacheSet},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(138);function toString(value){return value==null?"":baseToString(value)}module.exports=toString},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(75),arrayMap=__webpack_require__(139),isArray=__webpack_require__(78),isSymbol=__webpack_require__(79);var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=baseToString},function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}module.exports=isIndex},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(79);var INFINITY=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toKey},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(84);function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}module.exports=setWith},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp("("+token+")|([^%]+?)","gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return[decodeURIComponent(components.join(""))]}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher)||[];for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)||[]}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"��","%FF%FE":"��"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if(!(typeof string==="string"&&typeof separator==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(separator===""){return[string]}const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string]}return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},function(module,exports,__webpack_require__){"use strict";module.exports=function(obj,predicate){var ret={};var keys=Object.keys(obj);var isArr=Array.isArray(predicate);for(var i=0;i<keys.length;i++){var key=keys[i];var val=obj[key];if(isArr?predicate.indexOf(key)!==-1:predicate(key,val,obj)){ret[key]=val}}return ret}},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(148);case"v7light":return __webpack_require__(150);case"v8dark":return __webpack_require__(152);case"v8light":return __webpack_require__(154)}},function(module,exports,__webpack_require__){var api=__webpack_require__(62);var content=__webpack_require__(149);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.globalQueryBar {\n  padding: 0 8px 8px 8px; }\n\n.globalQueryBar:first-child {\n  padding-top: 8px; }\n\n.globalQueryBar:not(:empty) {\n  padding-bottom: 8px; }\n\n.globalFilterGroup__filterBar {\n  margin-top: 4px; }\n\n.globalFilterBar__addButton {\n  min-height: 28px; }\n\n.globalFilterGroup__branch {\n  padding: 8px 12px 0 0;\n  background-repeat: no-repeat;\n  background-position: 12px -8px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='28px' height='28px' viewBox='0 0 28 28' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='rgb%2852, 55, 65%29'%3E%3Crect x='14' y='27' width='14' height='1'%3E%3C/rect%3E%3C/g%3E%3C/svg%3E\"); }\n\n.globalFilterGroup__wrapper {\n  line-height: 1;\n  overflow: hidden;\n  transition: height 250ms cubic-bezier(0.694, 0.0482, 0.335, 1); }\n\n.globalFilterGroup__filterFlexItem {\n  overflow: hidden;\n  padding-bottom: 2px; }\n\n.globalFilterBar__flexItem {\n  max-width: calc(100% - 4px); }\n\n@media only screen and (max-width: 574px) {\n  .globalFilterGroup__wrapper-isVisible {\n    margin-top: -16px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .globalFilterGroup__wrapper-isVisible {\n    margin-top: -16px; } }\n\n.globalFilterItem {\n  line-height: 16px;\n  border: none;\n  color: #DFE5EF;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  white-space: normal;\n   }\n  .globalFilterItem .euiBadge__childButton {\n    flex-shrink: 1;\n     }\n  .globalFilterItem:not(.globalFilterItem-isDisabled) {\n    background-color: #16171c;\n    background-repeat: no-repeat;\n    background-size: 0% 100%;\n    box-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 3px 2px -2px rgba(0, 0, 0, 0.2), inset 0 0 0 1px rgba(255, 255, 255, 0.1);\n    transition: box-shadow 150ms ease-in, background-image 150ms ease-in, background-size 150ms ease-in, background-color 150ms ease-in;\n    box-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 3px 2px -2px rgba(0, 0, 0, 0.2), inset 0 0 0 1px #424752; }\n    @supports (-moz-appearance: none) {\n      .globalFilterItem:not(.globalFilterItem-isDisabled) {\n        transition-property: box-shadow, background-image, background-size; } }\n  .globalFilterItem:focus-within {\n    animation: none !important; }\n\n.globalFilterItem-isDisabled {\n  color: #98A2B3;\n  background-color: rgba(52, 55, 65, 0.5);\n  text-decoration: line-through;\n  font-weight: 400;\n  font-style: italic; }\n\n.globalFilterItem-isError,\n.globalFilterItem-isWarning {\n  text-decoration: none; }\n  .globalFilterItem-isError .globalFilterLabel__value,\n  .globalFilterItem-isWarning .globalFilterLabel__value {\n    font-weight: 700; }\n\n.globalFilterItem-isError .globalFilterLabel__value {\n  color: #ff7575; }\n\n.globalFilterItem-isWarning .globalFilterLabel__value {\n  color: #FFCE7A; }\n\n.globalFilterItem-isPinned {\n  position: relative; }\n  .globalFilterItem-isPinned::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    width: 4px;\n    background-color: #424752;\n    border-top-left-radius: 2px;\n    border-bottom-left-radius: 2px; }\n\n.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled) {\n  box-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 3px 2px -2px rgba(0, 0, 0, 0.2), inset 0 0 0 1px #803333; }\n  .globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled)::before {\n    background-color: #cc5252; }\n\n.globalFilterItem__editorForm {\n  padding: 12px; }\n\n.globalFilterItem__popover,\n.globalFilterItem__popoverAnchor {\n  display: block; }\n\n.osdTypeahead.osdTypeahead--small {\n  max-height: 20vh; }\n\n.osdTypeahead__popover--top {\n  box-shadow: 0 0 12px -1px rgba(0, 0, 0, 0.2), 0 0 4px -1px rgba(0, 0, 0, 0.2), 0 0 2px 0 rgba(0, 0, 0, 0.2);\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px; }\n\n.osdTypeahead__popover--bottom {\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1), 0 6px 12px 0 rgba(0, 0, 0, 0.1), 0 4px 4px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px; }\n\n.osdTypeahead {\n  max-height: 60vh; }\n  .osdTypeahead .osdTypeahead__popover {\n    max-height: inherit;\n    scrollbar-width: thin;\n    border: 1px solid;\n    border-color: #343741;\n    color: #DFE5EF;\n    background-color: #1D1E24;\n    position: relative;\n    z-index: 2000;\n    width: 100%;\n    overflow-y: auto; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-thumb {\n      background-color: rgba(152, 162, 179, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-corner, .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-track {\n      background-color: transparent; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item {\n      height: 32px;\n      white-space: nowrap;\n      font-size: 12px;\n      vertical-align: middle;\n      padding: 0;\n      border-bottom: none;\n      line-height: normal; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:hover {\n      cursor: pointer; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:last-child {\n      border-bottom: none;\n      border-radius: 0 0 4px 4px; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:first-child {\n      border-bottom: none;\n      border-radius: 4px 4px 0 0; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active {\n      background-color: #25262E; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__callout {\n        background: #1D1E24; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__text {\n        color: #FFF; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__type {\n        color: #FFF; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--field .osdSuggestionItem__type {\n        background-color: #665231; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--value .osdSuggestionItem__type {\n        background-color: #325a54; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--operator .osdSuggestionItem__type {\n        background-color: #0b4462; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--conjunction .osdSuggestionItem__type {\n        background-color: #3a2d4a; }\n\n.osdSuggestionItem {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  font-size: 12px;\n  white-space: nowrap; }\n  .osdSuggestionItem.osdSuggestionItem--field .osdSuggestionItem__type {\n    background-color: #80673d;\n    color: #FFCE7A; }\n  .osdSuggestionItem.osdSuggestionItem--value .osdSuggestionItem__type {\n    background-color: #3f7169;\n    color: #7DE2D1; }\n  .osdSuggestionItem.osdSuggestionItem--operator .osdSuggestionItem__type {\n    background-color: #0e557b;\n    color: #1BA9F5; }\n  .osdSuggestionItem.osdSuggestionItem--conjunction .osdSuggestionItem__type {\n    background-color: #49385c;\n    color: #9c7ebf; }\n  .osdSuggestionItem.osdSuggestionItem--recentSearch {\n     }\n    .osdSuggestionItem.osdSuggestionItem--recentSearch .osdSuggestionItem__type {\n      background-color: #343741;\n      color: #535966; }\n    .osdSuggestionItem.osdSuggestionItem--recentSearch .SuggestionItem__text {\n      width: auto; }\n\n.osdSuggestionItem__text,\n.osdSuggestionItem__type,\n.osdSuggestionItem__description {\n  flex-grow: 1;\n  flex-basis: 0%;\n  display: flex;\n  flex-direction: column; }\n\n.osdSuggestionItem__type {\n  flex: 0 0 auto;\n  width: 32px;\n  height: 32px;\n  text-align: center;\n  overflow: hidden;\n  padding: 4px;\n  justify-content: center;\n  align-items: center; }\n\n.osdSuggestionItem__text {\n  flex-grow: 0;\n    flex-basis: auto;\n    font-family: 'Roboto Mono', Consolas, Menlo, Courier, monospace;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 4px 8px;\n  color: #DFE5EF; }\n\n.osdSuggestionItem__description {\n  color: #98A2B3;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 32px; }\n  .osdSuggestionItem__description:empty {\n    flex-grow: 0;\n    margin-left: 0; }\n\n.osdSuggestionItem__callout {\n  font-family: 'Roboto Mono', Consolas, Menlo, Courier, monospace;\n  background: #25262E;\n  color: #FFF;\n  padding: 0 4px;\n  display: inline-block; }\n\n.osdSuggestionItem--value .osdSuggestionItem__text {\n  flex-basis: 50%;\n  flex-grow: 1; }\n\n.osdSavedQueryManagement__popover {\n  max-width: 400px; }\n\n.osdSavedQueryManagement__listWrapper {\n  max-height: 416px;\n  overflow-y: hidden; }\n\n.osdSavedQueryManagement__pagination {\n  justify-content: center;\n  padding: 6px 12px 12px; }\n\n.osdSavedQueryManagement__text {\n  padding: 12px 12px 6px 12px; }\n\n.osdSavedQueryManagement__list {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: inherit;\n  padding: 6px 4px !important; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar-thumb {\n    background-color: rgba(152, 162, 179, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar-corner, .osdSavedQueryManagement__list::-webkit-scrollbar-track {\n    background-color: transparent; }\n  .osdSavedQueryManagement__list:focus {\n    outline: none;\n     }\n  .osdSavedQueryManagement__list[tabindex='0']:focus:focus-visible {\n    outline-style: auto;\n     }\n\n.osdSavedQueryListItem {\n  margin-top: 0;\n  color: #1BA9F5; }\n\n.osdSavedQueryListItem-selected button {\n  font-weight: 700; }\n\n.osdSavedQueryListItem__label {\n  display: flex;\n  align-items: center; }\n\n.osdSavedQueryListItem__labelText {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important;\n  margin-right: 4px; }\n\n.osdQueryBar__wrap {\n  max-width: 100%;\n  z-index: 2000; }\n\n.dqlQueryBar__languageSwitcherButton {\n  border-right: none !important; }\n\n.osdQueryBar__textareaWrap {\n  overflow: visible !important;\n  display: flex;\n  flex: 1 1 100%;\n  position: relative; }\n\n.osdQueryBar__textarea {\n  z-index: 2000;\n  resize: none !important;\n  height: 40px;\n  padding: 8px;\n  padding-top: 11px;\n  transform: translateY(-1px) translateX(-1px); }\n  .osdQueryBar__textarea:not(:focus):not(:invalid) {\n    scrollbar-width: thin;\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%); }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-thumb {\n      background-color: rgba(152, 162, 179, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-corner, .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-track {\n      background-color: transparent; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid):focus {\n      outline: none;\n       }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)[tabindex='0']:focus:focus-visible {\n      outline-style: auto;\n       }\n  .osdQueryBar__textarea:not(:focus) {\n    white-space: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden; }\n  .osdQueryBar__textarea:focus {\n    overflow-x: auto;\n    overflow-y: auto;\n    white-space: normal; }\n\n@media only screen and (max-width: 574px) {\n  .osdQueryBar--withDatePicker > :first-child {\n    order: 1;\n    margin-top: -8px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .osdQueryBar--withDatePicker > :first-child {\n    order: 1;\n    margin-top: -8px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n@media only screen and (min-width: 1200px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n.shardFailureModal {\n  min-height: 75vh;\n  width: 768px; }\n\n.shardFailureModal__desc {\n  max-width: 686px; }\n\n.shardFailureModal__descTitle {\n  width: 20% !important;\n  margin-top: 8px; }\n\n.shardFailureModal__descValue {\n  width: 80% !important;\n  margin-top: 8px; }\n\n.shardFailureModal__keyValueTitle {\n  padding-right: 8px; }\n\n@media only screen and (max-width: 574px) {\n  .shardFailureModal__keyValueTitle {\n    display: block;\n    width: 100%; }\n  .shardFailureModal__descTitle {\n    display: block;\n    width: 100% !important; }\n  .shardFailureModal__descValue {\n    display: block;\n    width: 100% !important; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .shardFailureModal__keyValueTitle {\n    display: block;\n    width: 100%; }\n  .shardFailureModal__descTitle {\n    display: block;\n    width: 100% !important; }\n  .shardFailureModal__descValue {\n    display: block;\n    width: 100% !important; } }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(62);var content=__webpack_require__(151);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.globalQueryBar {\n  padding: 0 8px 8px 8px; }\n\n.globalQueryBar:first-child {\n  padding-top: 8px; }\n\n.globalQueryBar:not(:empty) {\n  padding-bottom: 8px; }\n\n.globalFilterGroup__filterBar {\n  margin-top: 4px; }\n\n.globalFilterBar__addButton {\n  min-height: 28px; }\n\n.globalFilterGroup__branch {\n  padding: 8px 12px 0 0;\n  background-repeat: no-repeat;\n  background-position: 12px -8px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='28px' height='28px' viewBox='0 0 28 28' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='rgb%28211, 218, 230%29'%3E%3Crect x='14' y='27' width='14' height='1'%3E%3C/rect%3E%3C/g%3E%3C/svg%3E\"); }\n\n.globalFilterGroup__wrapper {\n  line-height: 1;\n  overflow: hidden;\n  transition: height 250ms cubic-bezier(0.694, 0.0482, 0.335, 1); }\n\n.globalFilterGroup__filterFlexItem {\n  overflow: hidden;\n  padding-bottom: 2px; }\n\n.globalFilterBar__flexItem {\n  max-width: calc(100% - 4px); }\n\n@media only screen and (max-width: 574px) {\n  .globalFilterGroup__wrapper-isVisible {\n    margin-top: -16px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .globalFilterGroup__wrapper-isVisible {\n    margin-top: -16px; } }\n\n.globalFilterItem {\n  line-height: 16px;\n  border: none;\n  color: #343741;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  white-space: normal;\n   }\n  .globalFilterItem .euiBadge__childButton {\n    flex-shrink: 1;\n     }\n  .globalFilterItem:not(.globalFilterItem-isDisabled) {\n    background-color: #fbfcfd;\n    background-repeat: no-repeat;\n    background-size: 0% 100%;\n    box-shadow: 0 1px 1px -1px rgba(152, 162, 179, 0.2), 0 3px 2px -2px rgba(152, 162, 179, 0.2), inset 0 0 0 1px rgba(15, 39, 118, 0.1);\n    transition: box-shadow 150ms ease-in, background-image 150ms ease-in, background-size 150ms ease-in, background-color 150ms ease-in;\n    box-shadow: 0 1px 1px -1px rgba(152, 162, 179, 0.2), 0 3px 2px -2px rgba(152, 162, 179, 0.2), inset 0 0 0 1px #bcc3ce; }\n    @supports (-moz-appearance: none) {\n      .globalFilterItem:not(.globalFilterItem-isDisabled) {\n        transition-property: box-shadow, background-image, background-size; } }\n  .globalFilterItem:focus-within {\n    animation: none !important; }\n\n.globalFilterItem-isDisabled {\n  color: #69707D;\n  background-color: rgba(211, 218, 230, 0.5);\n  text-decoration: line-through;\n  font-weight: 400;\n  font-style: italic; }\n\n.globalFilterItem-isError,\n.globalFilterItem-isWarning {\n  text-decoration: none; }\n  .globalFilterItem-isError .globalFilterLabel__value,\n  .globalFilterItem-isWarning .globalFilterLabel__value {\n    font-weight: 700; }\n\n.globalFilterItem-isError .globalFilterLabel__value {\n  color: #b4251d; }\n\n.globalFilterItem-isWarning .globalFilterLabel__value {\n  color: #7e5600; }\n\n.globalFilterItem-isPinned {\n  position: relative; }\n  .globalFilterItem-isPinned::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    width: 4px;\n    background-color: #bcc3ce;\n    border-top-left-radius: 2px;\n    border-bottom-left-radius: 2px; }\n\n.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled) {\n  box-shadow: 0 1px 1px -1px rgba(152, 162, 179, 0.2), 0 3px 2px -2px rgba(152, 162, 179, 0.2), inset 0 0 0 1px #ebbebc; }\n  .globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled)::before {\n    background-color: #d16862; }\n\n.globalFilterItem__editorForm {\n  padding: 12px; }\n\n.globalFilterItem__popover,\n.globalFilterItem__popoverAnchor {\n  display: block; }\n\n.osdTypeahead.osdTypeahead--small {\n  max-height: 20vh; }\n\n.osdTypeahead__popover--top {\n  box-shadow: 0 0 12px -1px rgba(152, 162, 179, 0.2), 0 0 4px -1px rgba(152, 162, 179, 0.2), 0 0 2px 0 rgba(152, 162, 179, 0.2);\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px; }\n\n.osdTypeahead__popover--bottom {\n  box-shadow: 0 12px 24px 0 rgba(65, 78, 101, 0.1), 0 6px 12px 0 rgba(65, 78, 101, 0.1), 0 4px 4px 0 rgba(65, 78, 101, 0.1), 0 2px 2px 0 rgba(65, 78, 101, 0.1);\n  border-color: #d0d3d9;\n  border-top-color: #d9dce0;\n  border-bottom-color: #aaafba;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px; }\n\n.osdTypeahead {\n  max-height: 60vh; }\n  .osdTypeahead .osdTypeahead__popover {\n    max-height: inherit;\n    scrollbar-width: thin;\n    border: 1px solid;\n    border-color: #D3DAE6;\n    color: #343741;\n    background-color: #FFF;\n    position: relative;\n    z-index: 2000;\n    width: 100%;\n    overflow-y: auto; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-thumb {\n      background-color: rgba(105, 112, 125, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-corner, .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-track {\n      background-color: transparent; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item {\n      height: 32px;\n      white-space: nowrap;\n      font-size: 12px;\n      vertical-align: middle;\n      padding: 0;\n      border-bottom: none;\n      line-height: normal; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:hover {\n      cursor: pointer; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:last-child {\n      border-bottom: none;\n      border-radius: 0 0 4px 4px; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:first-child {\n      border-bottom: none;\n      border-radius: 4px 4px 0 0; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active {\n      background-color: #F5F7FA; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__callout {\n        background: #FFF; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__text {\n        color: #000; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__type {\n        color: #000; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--field .osdSuggestionItem__type {\n        background-color: #fdedcc; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--value .osdSuggestionItem__type {\n        background-color: #cce5e3; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--operator .osdSuggestionItem__type {\n        background-color: #cce1f0; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--conjunction .osdSuggestionItem__type {\n        background-color: #e9e2f1; }\n\n.osdSuggestionItem {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  font-size: 12px;\n  white-space: nowrap; }\n  .osdSuggestionItem.osdSuggestionItem--field .osdSuggestionItem__type {\n    background-color: #fef6e6;\n    color: #be8100; }\n  .osdSuggestionItem.osdSuggestionItem--value .osdSuggestionItem__type {\n    background-color: #e6f2f1;\n    color: #017D73; }\n  .osdSuggestionItem.osdSuggestionItem--operator .osdSuggestionItem__type {\n    background-color: #e6f0f8;\n    color: #006BB4; }\n  .osdSuggestionItem.osdSuggestionItem--conjunction .osdSuggestionItem__type {\n    background-color: #f4f1f8;\n    color: #9170B8; }\n  .osdSuggestionItem.osdSuggestionItem--recentSearch {\n     }\n    .osdSuggestionItem.osdSuggestionItem--recentSearch .osdSuggestionItem__type {\n      background-color: #D3DAE6;\n      color: #98A2B3; }\n    .osdSuggestionItem.osdSuggestionItem--recentSearch .SuggestionItem__text {\n      width: auto; }\n\n.osdSuggestionItem__text,\n.osdSuggestionItem__type,\n.osdSuggestionItem__description {\n  flex-grow: 1;\n  flex-basis: 0%;\n  display: flex;\n  flex-direction: column; }\n\n.osdSuggestionItem__type {\n  flex: 0 0 auto;\n  width: 32px;\n  height: 32px;\n  text-align: center;\n  overflow: hidden;\n  padding: 4px;\n  justify-content: center;\n  align-items: center; }\n\n.osdSuggestionItem__text {\n  flex-grow: 0;\n    flex-basis: auto;\n    font-family: 'Roboto Mono', Consolas, Menlo, Courier, monospace;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 4px 8px;\n  color: #343741; }\n\n.osdSuggestionItem__description {\n  color: #69707D;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 32px; }\n  .osdSuggestionItem__description:empty {\n    flex-grow: 0;\n    margin-left: 0; }\n\n.osdSuggestionItem__callout {\n  font-family: 'Roboto Mono', Consolas, Menlo, Courier, monospace;\n  background: #F5F7FA;\n  color: #000;\n  padding: 0 4px;\n  display: inline-block; }\n\n.osdSuggestionItem--value .osdSuggestionItem__text {\n  flex-basis: 50%;\n  flex-grow: 1; }\n\n.osdSavedQueryManagement__popover {\n  max-width: 400px; }\n\n.osdSavedQueryManagement__listWrapper {\n  max-height: 416px;\n  overflow-y: hidden; }\n\n.osdSavedQueryManagement__pagination {\n  justify-content: center;\n  padding: 6px 12px 12px; }\n\n.osdSavedQueryManagement__text {\n  padding: 12px 12px 6px 12px; }\n\n.osdSavedQueryManagement__list {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: inherit;\n  padding: 6px 4px !important; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar-thumb {\n    background-color: rgba(105, 112, 125, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar-corner, .osdSavedQueryManagement__list::-webkit-scrollbar-track {\n    background-color: transparent; }\n  .osdSavedQueryManagement__list:focus {\n    outline: none;\n     }\n  .osdSavedQueryManagement__list[tabindex='0']:focus:focus-visible {\n    outline-style: auto;\n     }\n\n.osdSavedQueryListItem {\n  margin-top: 0;\n  color: #006BB4; }\n\n.osdSavedQueryListItem-selected button {\n  font-weight: 700; }\n\n.osdSavedQueryListItem__label {\n  display: flex;\n  align-items: center; }\n\n.osdSavedQueryListItem__labelText {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important;\n  margin-right: 4px; }\n\n.osdQueryBar__wrap {\n  max-width: 100%;\n  z-index: 2000; }\n\n.dqlQueryBar__languageSwitcherButton {\n  border-right: none !important; }\n\n.osdQueryBar__textareaWrap {\n  overflow: visible !important;\n  display: flex;\n  flex: 1 1 100%;\n  position: relative; }\n\n.osdQueryBar__textarea {\n  z-index: 2000;\n  resize: none !important;\n  height: 40px;\n  padding: 8px;\n  padding-top: 11px;\n  transform: translateY(-1px) translateX(-1px); }\n  .osdQueryBar__textarea:not(:focus):not(:invalid) {\n    scrollbar-width: thin;\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%); }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-thumb {\n      background-color: rgba(105, 112, 125, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-corner, .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-track {\n      background-color: transparent; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid):focus {\n      outline: none;\n       }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)[tabindex='0']:focus:focus-visible {\n      outline-style: auto;\n       }\n  .osdQueryBar__textarea:not(:focus) {\n    white-space: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden; }\n  .osdQueryBar__textarea:focus {\n    overflow-x: auto;\n    overflow-y: auto;\n    white-space: normal; }\n\n@media only screen and (max-width: 574px) {\n  .osdQueryBar--withDatePicker > :first-child {\n    order: 1;\n    margin-top: -8px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .osdQueryBar--withDatePicker > :first-child {\n    order: 1;\n    margin-top: -8px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n@media only screen and (min-width: 1200px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n.shardFailureModal {\n  min-height: 75vh;\n  width: 768px; }\n\n.shardFailureModal__desc {\n  max-width: 686px; }\n\n.shardFailureModal__descTitle {\n  width: 20% !important;\n  margin-top: 8px; }\n\n.shardFailureModal__descValue {\n  width: 80% !important;\n  margin-top: 8px; }\n\n.shardFailureModal__keyValueTitle {\n  padding-right: 8px; }\n\n@media only screen and (max-width: 574px) {\n  .shardFailureModal__keyValueTitle {\n    display: block;\n    width: 100%; }\n  .shardFailureModal__descTitle {\n    display: block;\n    width: 100% !important; }\n  .shardFailureModal__descValue {\n    display: block;\n    width: 100% !important; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .shardFailureModal__keyValueTitle {\n    display: block;\n    width: 100%; }\n  .shardFailureModal__descTitle {\n    display: block;\n    width: 100% !important; }\n  .shardFailureModal__descValue {\n    display: block;\n    width: 100% !important; } }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(62);var content=__webpack_require__(153);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.globalQueryBar {\n  padding: 0 8px 8px 8px; }\n\n.globalQueryBar:first-child {\n  padding-top: 8px; }\n\n.globalQueryBar:not(:empty) {\n  padding-bottom: 8px; }\n\n.globalFilterGroup__filterBar {\n  margin-top: 4px; }\n\n.globalFilterBar__addButton {\n  min-height: 28px; }\n\n.globalFilterGroup__branch {\n  padding: 8px 12px 0 0;\n  background-repeat: no-repeat;\n  background-position: 12px -8px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='28px' height='28px' viewBox='0 0 28 28' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='rgb%2841, 56, 71%29'%3E%3Crect x='14' y='27' width='14' height='1'%3E%3C/rect%3E%3C/g%3E%3C/svg%3E\"); }\n\n.globalFilterGroup__wrapper {\n  line-height: 1;\n  overflow: hidden;\n  transition: height 250ms cubic-bezier(0.694, 0.0482, 0.335, 1); }\n\n.globalFilterGroup__filterFlexItem {\n  overflow: hidden;\n  padding-bottom: 2px; }\n\n.globalFilterBar__flexItem {\n  max-width: calc(100% - 4px); }\n\n@media only screen and (max-width: 574px) {\n  .globalFilterGroup__wrapper-isVisible {\n    margin-top: -16px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .globalFilterGroup__wrapper-isVisible {\n    margin-top: -16px; } }\n\n.globalFilterItem {\n  line-height: 16px;\n  border: none;\n  color: #DFE5EF;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  white-space: normal;\n   }\n  .globalFilterItem .euiBadge__childButton {\n    flex-shrink: 1;\n     }\n  .globalFilterItem:not(.globalFilterItem-isDisabled) {\n    background-color: #0e1721;\n    background-repeat: no-repeat;\n    background-size: 0% 100%;\n    box-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 3px 2px -2px rgba(0, 0, 0, 0.2), inset 0 0 0 1px rgba(252, 254, 255, 0.1);\n    transition: box-shadow 150ms ease-in, background-image 150ms ease-in, background-size 150ms ease-in, background-color 150ms ease-in;\n    box-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 3px 2px -2px rgba(0, 0, 0, 0.2), inset 0 0 0 1px #4b5763; }\n    @supports (-moz-appearance: none) {\n      .globalFilterItem:not(.globalFilterItem-isDisabled) {\n        transition-property: box-shadow, background-image, background-size; } }\n  .globalFilterItem:focus-within {\n    animation: none !important; }\n\n.globalFilterItem-isDisabled {\n  color: #8D98A3;\n  background-color: rgba(41, 56, 71, 0.5);\n  text-decoration: line-through;\n  font-weight: 400;\n  font-style: italic; }\n\n.globalFilterItem-isError,\n.globalFilterItem-isWarning {\n  text-decoration: none; }\n  .globalFilterItem-isError .globalFilterLabel__value,\n  .globalFilterItem-isWarning .globalFilterLabel__value {\n    font-weight: 700; }\n\n.globalFilterItem-isError .globalFilterLabel__value {\n  color: #ff7575; }\n\n.globalFilterItem-isWarning .globalFilterLabel__value {\n  color: #FFCE7A; }\n\n.globalFilterItem-isPinned {\n  position: relative; }\n  .globalFilterItem-isPinned::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    width: 4px;\n    background-color: #4b5763;\n    border-top-left-radius: 2px;\n    border-bottom-left-radius: 2px; }\n\n.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled) {\n  box-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 3px 2px -2px rgba(0, 0, 0, 0.2), inset 0 0 0 1px #853c40; }\n  .globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled)::before {\n    background-color: #ce5557; }\n\n.globalFilterItem__editorForm {\n  padding: 12px; }\n\n.globalFilterItem__popover,\n.globalFilterItem__popoverAnchor {\n  display: block; }\n\n.osdTypeahead.osdTypeahead--small {\n  max-height: 20vh; }\n\n.osdTypeahead__popover--top {\n  box-shadow: 0 0 12px -1px rgba(0, 0, 0, 0.2), 0 0 4px -1px rgba(0, 0, 0, 0.2), 0 0 2px 0 rgba(0, 0, 0, 0.2);\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px; }\n\n.osdTypeahead__popover--bottom {\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1), 0 6px 12px 0 rgba(0, 0, 0, 0.1), 0 4px 4px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px; }\n\n.osdTypeahead {\n  max-height: 60vh; }\n  .osdTypeahead .osdTypeahead__popover {\n    max-height: inherit;\n    scrollbar-width: thin;\n    border: 1px solid;\n    border-color: #293847;\n    color: #DFE5EF;\n    background-color: #0A121A;\n    position: relative;\n    z-index: 2000;\n    width: 100%;\n    overflow-y: auto; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-thumb {\n      background-color: rgba(141, 152, 163, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-corner, .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-track {\n      background-color: transparent; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item {\n      height: 32px;\n      white-space: nowrap;\n      font-size: 12px;\n      vertical-align: middle;\n      padding: 0;\n      border-bottom: none;\n      line-height: normal; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:hover {\n      cursor: pointer; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:last-child {\n      border-bottom: none;\n      border-radius: 0 0 4px 4px; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:first-child {\n      border-bottom: none;\n      border-radius: 4px 4px 0 0; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active {\n      background-color: #101B25; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__callout {\n        background: #0A121A; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__text {\n        color: #FCFEFF; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__type {\n        color: #FCFEFF; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--field .osdSuggestionItem__type {\n        background-color: #6c5d40; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--value .osdSuggestionItem__type {\n        background-color: #386563; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--operator .osdSuggestionItem__type {\n        background-color: #0e4a48; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--conjunction .osdSuggestionItem__type {\n        background-color: #403859; }\n\n.osdSuggestionItem {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  font-size: 12px;\n  white-space: nowrap; }\n  .osdSuggestionItem.osdSuggestionItem--field .osdSuggestionItem__type {\n    background-color: #85704a;\n    color: #FFCE7A; }\n  .osdSuggestionItem.osdSuggestionItem--value .osdSuggestionItem__type {\n    background-color: #447a76;\n    color: #7DE2D1; }\n  .osdSuggestionItem.osdSuggestionItem--operator .osdSuggestionItem__type {\n    background-color: #105854;\n    color: #40afa2; }\n  .osdSuggestionItem.osdSuggestionItem--conjunction .osdSuggestionItem__type {\n    background-color: #4e4169;\n    color: #a58ac5; }\n  .osdSuggestionItem.osdSuggestionItem--recentSearch {\n     }\n    .osdSuggestionItem.osdSuggestionItem--recentSearch .osdSuggestionItem__type {\n      background-color: #293847;\n      color: #5B6875; }\n    .osdSuggestionItem.osdSuggestionItem--recentSearch .SuggestionItem__text {\n      width: auto; }\n\n.osdSuggestionItem__text,\n.osdSuggestionItem__type,\n.osdSuggestionItem__description {\n  flex-grow: 1;\n  flex-basis: 0%;\n  display: flex;\n  flex-direction: column; }\n\n.osdSuggestionItem__type {\n  flex: 0 0 auto;\n  width: 32px;\n  height: 32px;\n  text-align: center;\n  overflow: hidden;\n  padding: 4px;\n  justify-content: center;\n  align-items: center; }\n\n.osdSuggestionItem__text {\n  flex-grow: 0;\n    flex-basis: auto;\n    font-family: 'Source Code Pro', Consolas, Menlo, Courier, monospace;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 4px 8px;\n  color: #DFE5EF; }\n\n.osdSuggestionItem__description {\n  color: #8D98A3;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 32px; }\n  .osdSuggestionItem__description:empty {\n    flex-grow: 0;\n    margin-left: 0; }\n\n.osdSuggestionItem__callout {\n  font-family: 'Source Code Pro', Consolas, Menlo, Courier, monospace;\n  background: #101B25;\n  color: #FCFEFF;\n  padding: 0 4px;\n  display: inline-block; }\n\n.osdSuggestionItem--value .osdSuggestionItem__text {\n  flex-basis: 50%;\n  flex-grow: 1; }\n\n.osdSavedQueryManagement__popover {\n  max-width: 400px; }\n\n.osdSavedQueryManagement__listWrapper {\n  max-height: 416px;\n  overflow-y: hidden; }\n\n.osdSavedQueryManagement__pagination {\n  justify-content: center;\n  padding: 6px 12px 12px; }\n\n.osdSavedQueryManagement__text {\n  padding: 12px 12px 6px 12px; }\n\n.osdSavedQueryManagement__list {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: inherit;\n  padding: 6px 4px !important; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar-thumb {\n    background-color: rgba(141, 152, 163, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar-corner, .osdSavedQueryManagement__list::-webkit-scrollbar-track {\n    background-color: transparent; }\n  .osdSavedQueryManagement__list:focus {\n    outline: none;\n     }\n  .osdSavedQueryManagement__list[tabindex='0']:focus:focus-visible {\n    outline-style: auto;\n     }\n\n.osdSavedQueryListItem {\n  margin-top: 0;\n  color: #159D8D; }\n\n.osdSavedQueryListItem-selected button {\n  font-weight: 700; }\n\n.osdSavedQueryListItem__label {\n  display: flex;\n  align-items: center; }\n\n.osdSavedQueryListItem__labelText {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important;\n  margin-right: 4px; }\n\n.osdQueryBar__wrap {\n  max-width: 100%;\n  z-index: 2000; }\n\n.dqlQueryBar__languageSwitcherButton {\n  border-right: none !important; }\n\n.osdQueryBar__textareaWrap {\n  overflow: visible !important;\n  display: flex;\n  flex: 1 1 100%;\n  position: relative; }\n\n.osdQueryBar__textarea {\n  z-index: 2000;\n  resize: none !important;\n  height: 40px;\n  padding: 8px;\n  padding-top: 11px;\n  transform: translateY(-1px) translateX(-1px); }\n  .osdQueryBar__textarea:not(:focus):not(:invalid) {\n    scrollbar-width: thin;\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%); }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-thumb {\n      background-color: rgba(141, 152, 163, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-corner, .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-track {\n      background-color: transparent; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid):focus {\n      outline: none;\n       }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)[tabindex='0']:focus:focus-visible {\n      outline-style: auto;\n       }\n  .osdQueryBar__textarea:not(:focus) {\n    white-space: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden; }\n  .osdQueryBar__textarea:focus {\n    overflow-x: auto;\n    overflow-y: auto;\n    white-space: normal; }\n\n@media only screen and (max-width: 574px) {\n  .osdQueryBar--withDatePicker > :first-child {\n    order: 1;\n    margin-top: -8px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .osdQueryBar--withDatePicker > :first-child {\n    order: 1;\n    margin-top: -8px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n@media only screen and (min-width: 1200px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n.shardFailureModal {\n  min-height: 75vh;\n  width: 768px; }\n\n.shardFailureModal__desc {\n  max-width: 686px; }\n\n.shardFailureModal__descTitle {\n  width: 20% !important;\n  margin-top: 8px; }\n\n.shardFailureModal__descValue {\n  width: 80% !important;\n  margin-top: 8px; }\n\n.shardFailureModal__keyValueTitle {\n  padding-right: 8px; }\n\n@media only screen and (max-width: 574px) {\n  .shardFailureModal__keyValueTitle {\n    display: block;\n    width: 100%; }\n  .shardFailureModal__descTitle {\n    display: block;\n    width: 100% !important; }\n  .shardFailureModal__descValue {\n    display: block;\n    width: 100% !important; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .shardFailureModal__keyValueTitle {\n    display: block;\n    width: 100%; }\n  .shardFailureModal__descTitle {\n    display: block;\n    width: 100% !important; }\n  .shardFailureModal__descValue {\n    display: block;\n    width: 100% !important; } }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(62);var content=__webpack_require__(155);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.globalQueryBar {\n  padding: 0 8px 8px 8px; }\n\n.globalQueryBar:first-child {\n  padding-top: 8px; }\n\n.globalQueryBar:not(:empty) {\n  padding-bottom: 8px; }\n\n.globalFilterGroup__filterBar {\n  margin-top: 4px; }\n\n.globalFilterBar__addButton {\n  min-height: 28px; }\n\n.globalFilterGroup__branch {\n  padding: 8px 12px 0 0;\n  background-repeat: no-repeat;\n  background-position: 12px -8px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='28px' height='28px' viewBox='0 0 28 28' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='rgb%28214, 217, 221%29'%3E%3Crect x='14' y='27' width='14' height='1'%3E%3C/rect%3E%3C/g%3E%3C/svg%3E\"); }\n\n.globalFilterGroup__wrapper {\n  line-height: 1;\n  overflow: hidden;\n  transition: height 250ms cubic-bezier(0.694, 0.0482, 0.335, 1); }\n\n.globalFilterGroup__filterFlexItem {\n  overflow: hidden;\n  padding-bottom: 2px; }\n\n.globalFilterBar__flexItem {\n  max-width: calc(100% - 4px); }\n\n@media only screen and (max-width: 574px) {\n  .globalFilterGroup__wrapper-isVisible {\n    margin-top: -16px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .globalFilterGroup__wrapper-isVisible {\n    margin-top: -16px; } }\n\n.globalFilterItem {\n  line-height: 16px;\n  border: none;\n  color: #2A3947;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  white-space: normal;\n   }\n  .globalFilterItem .euiBadge__childButton {\n    flex-shrink: 1;\n     }\n  .globalFilterItem:not(.globalFilterItem-isDisabled) {\n    background-color: #f2f4f6;\n    background-repeat: no-repeat;\n    background-size: 0% 100%;\n    box-shadow: 0 1px 1px -1px rgba(173, 180, 186, 0.2), 0 3px 2px -2px rgba(173, 180, 186, 0.2), inset 0 0 0 1px rgba(19, 67, 91, 0.1);\n    transition: box-shadow 150ms ease-in, background-image 150ms ease-in, background-size 150ms ease-in, background-color 150ms ease-in;\n    box-shadow: 0 1px 1px -1px rgba(173, 180, 186, 0.2), 0 3px 2px -2px rgba(173, 180, 186, 0.2), inset 0 0 0 1px #c9ced2; }\n    @supports (-moz-appearance: none) {\n      .globalFilterItem:not(.globalFilterItem-isDisabled) {\n        transition-property: box-shadow, background-image, background-size; } }\n  .globalFilterItem:focus-within {\n    animation: none !important; }\n\n.globalFilterItem-isDisabled {\n  color: #5A6875;\n  background-color: rgba(214, 217, 221, 0.5);\n  text-decoration: line-through;\n  font-weight: 400;\n  font-style: italic; }\n\n.globalFilterItem-isError,\n.globalFilterItem-isWarning {\n  text-decoration: none; }\n  .globalFilterItem-isError .globalFilterLabel__value,\n  .globalFilterItem-isWarning .globalFilterLabel__value {\n    font-weight: 700; }\n\n.globalFilterItem-isError .globalFilterLabel__value {\n  color: #b4261e; }\n\n.globalFilterItem-isWarning .globalFilterLabel__value {\n  color: #76580f; }\n\n.globalFilterItem-isPinned {\n  position: relative; }\n  .globalFilterItem-isPinned::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    width: 4px;\n    background-color: #c9ced2;\n    border-top-left-radius: 2px;\n    border-bottom-left-radius: 2px; }\n\n.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled) {\n  box-shadow: 0 1px 1px -1px rgba(173, 180, 186, 0.2), 0 3px 2px -2px rgba(173, 180, 186, 0.2), inset 0 0 0 1px #e9bebc; }\n  .globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled)::before {\n    background-color: #d06862; }\n\n.globalFilterItem__editorForm {\n  padding: 12px; }\n\n.globalFilterItem__popover,\n.globalFilterItem__popoverAnchor {\n  display: block; }\n\n.osdTypeahead.osdTypeahead--small {\n  max-height: 20vh; }\n\n.osdTypeahead__popover--top {\n  box-shadow: 0 0 12px -1px rgba(173, 180, 186, 0.2), 0 0 4px -1px rgba(173, 180, 186, 0.2), 0 0 2px 0 rgba(173, 180, 186, 0.2);\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px; }\n\n.osdTypeahead__popover--bottom {\n  box-shadow: 0 12px 24px 0 rgba(82, 100, 115, 0.1), 0 6px 12px 0 rgba(82, 100, 115, 0.1), 0 4px 4px 0 rgba(82, 100, 115, 0.1), 0 2px 2px 0 rgba(82, 100, 115, 0.1);\n  border-color: #d2d8dc;\n  border-top-color: #dadfe3;\n  border-bottom-color: #b0b9c0;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px; }\n\n.osdTypeahead {\n  max-height: 60vh; }\n  .osdTypeahead .osdTypeahead__popover {\n    max-height: inherit;\n    scrollbar-width: thin;\n    border: 1px solid;\n    border-color: #D6D9DD;\n    color: #2A3947;\n    background-color: #FCFEFF;\n    position: relative;\n    z-index: 2000;\n    width: 100%;\n    overflow-y: auto; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-thumb {\n      background-color: rgba(90, 104, 117, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-corner, .osdTypeahead .osdTypeahead__popover::-webkit-scrollbar-track {\n      background-color: transparent; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item {\n      height: 32px;\n      white-space: nowrap;\n      font-size: 12px;\n      vertical-align: middle;\n      padding: 0;\n      border-bottom: none;\n      line-height: normal; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:hover {\n      cursor: pointer; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:last-child {\n      border-bottom: none;\n      border-radius: 0 0 4px 4px; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item:first-child {\n      border-bottom: none;\n      border-radius: 4px 4px 0 0; }\n    .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active {\n      background-color: #E3E5E8; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__callout {\n        background: #FCFEFF; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__text {\n        color: #0A1219; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem__type {\n        color: #0A1219; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--field .osdSuggestionItem__type {\n        background-color: #fbedcc; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--value .osdSuggestionItem__type {\n        background-color: #cae4e3; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--operator .osdSuggestionItem__type {\n        background-color: #cbe5e5; }\n      .osdTypeahead .osdTypeahead__popover .osdTypeahead__item.active .osdSuggestionItem--conjunction .osdSuggestionItem__type {\n        background-color: #e7e2f1; }\n\n.osdSuggestionItem {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  font-size: 12px;\n  white-space: nowrap; }\n  .osdSuggestionItem.osdSuggestionItem--field .osdSuggestionItem__type {\n    background-color: #fbf5e6;\n    color: #b68006; }\n  .osdSuggestionItem.osdSuggestionItem--value .osdSuggestionItem__type {\n    background-color: #e3f1f1;\n    color: #017D73; }\n  .osdSuggestionItem.osdSuggestionItem--operator .osdSuggestionItem__type {\n    background-color: #e4f2f2;\n    color: #07827E; }\n  .osdSuggestionItem.osdSuggestionItem--conjunction .osdSuggestionItem__type {\n    background-color: #f1f0f8;\n    color: #9170B8; }\n  .osdSuggestionItem.osdSuggestionItem--recentSearch {\n     }\n    .osdSuggestionItem.osdSuggestionItem--recentSearch .osdSuggestionItem__type {\n      background-color: #D6D9DD;\n      color: #ADB4BA; }\n    .osdSuggestionItem.osdSuggestionItem--recentSearch .SuggestionItem__text {\n      width: auto; }\n\n.osdSuggestionItem__text,\n.osdSuggestionItem__type,\n.osdSuggestionItem__description {\n  flex-grow: 1;\n  flex-basis: 0%;\n  display: flex;\n  flex-direction: column; }\n\n.osdSuggestionItem__type {\n  flex: 0 0 auto;\n  width: 32px;\n  height: 32px;\n  text-align: center;\n  overflow: hidden;\n  padding: 4px;\n  justify-content: center;\n  align-items: center; }\n\n.osdSuggestionItem__text {\n  flex-grow: 0;\n    flex-basis: auto;\n    font-family: 'Source Code Pro', Consolas, Menlo, Courier, monospace;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 4px 8px;\n  color: #2A3947; }\n\n.osdSuggestionItem__description {\n  color: #5A6875;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 32px; }\n  .osdSuggestionItem__description:empty {\n    flex-grow: 0;\n    margin-left: 0; }\n\n.osdSuggestionItem__callout {\n  font-family: 'Source Code Pro', Consolas, Menlo, Courier, monospace;\n  background: #E3E5E8;\n  color: #0A1219;\n  padding: 0 4px;\n  display: inline-block; }\n\n.osdSuggestionItem--value .osdSuggestionItem__text {\n  flex-basis: 50%;\n  flex-grow: 1; }\n\n.osdSavedQueryManagement__popover {\n  max-width: 400px; }\n\n.osdSavedQueryManagement__listWrapper {\n  max-height: 416px;\n  overflow-y: hidden; }\n\n.osdSavedQueryManagement__pagination {\n  justify-content: center;\n  padding: 6px 12px 12px; }\n\n.osdSavedQueryManagement__text {\n  padding: 12px 12px 6px 12px; }\n\n.osdSavedQueryManagement__list {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: inherit;\n  padding: 6px 4px !important; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar-thumb {\n    background-color: rgba(90, 104, 117, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .osdSavedQueryManagement__list::-webkit-scrollbar-corner, .osdSavedQueryManagement__list::-webkit-scrollbar-track {\n    background-color: transparent; }\n  .osdSavedQueryManagement__list:focus {\n    outline: none;\n     }\n  .osdSavedQueryManagement__list[tabindex='0']:focus:focus-visible {\n    outline-style: auto;\n     }\n\n.osdSavedQueryListItem {\n  margin-top: 0;\n  color: #077774; }\n\n.osdSavedQueryListItem-selected button {\n  font-weight: 700; }\n\n.osdSavedQueryListItem__label {\n  display: flex;\n  align-items: center; }\n\n.osdSavedQueryListItem__labelText {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important;\n  margin-right: 4px; }\n\n.osdQueryBar__wrap {\n  max-width: 100%;\n  z-index: 2000; }\n\n.dqlQueryBar__languageSwitcherButton {\n  border-right: none !important; }\n\n.osdQueryBar__textareaWrap {\n  overflow: visible !important;\n  display: flex;\n  flex: 1 1 100%;\n  position: relative; }\n\n.osdQueryBar__textarea {\n  z-index: 2000;\n  resize: none !important;\n  height: 40px;\n  padding: 8px;\n  padding-top: 11px;\n  transform: translateY(-1px) translateX(-1px); }\n  .osdQueryBar__textarea:not(:focus):not(:invalid) {\n    scrollbar-width: thin;\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%); }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-thumb {\n      background-color: rgba(90, 104, 117, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-corner, .osdQueryBar__textarea:not(:focus):not(:invalid)::-webkit-scrollbar-track {\n      background-color: transparent; }\n    .osdQueryBar__textarea:not(:focus):not(:invalid):focus {\n      outline: none;\n       }\n    .osdQueryBar__textarea:not(:focus):not(:invalid)[tabindex='0']:focus:focus-visible {\n      outline-style: auto;\n       }\n  .osdQueryBar__textarea:not(:focus) {\n    white-space: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden; }\n  .osdQueryBar__textarea:focus {\n    overflow-x: auto;\n    overflow-y: auto;\n    white-space: normal; }\n\n@media only screen and (max-width: 574px) {\n  .osdQueryBar--withDatePicker > :first-child {\n    order: 1;\n    margin-top: -8px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .osdQueryBar--withDatePicker > :first-child {\n    order: 1;\n    margin-top: -8px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n@media only screen and (min-width: 1200px) {\n  .osdQueryBar__datePickerWrapper {\n    max-width: 40vw;\n    flex-grow: 0 !important;\n    flex-basis: auto !important; }\n    .osdQueryBar__datePickerWrapper.osdQueryBar__datePickerWrapper-isHidden {\n      width: 0;\n      overflow: hidden;\n      max-width: 0; } }\n\n.shardFailureModal {\n  min-height: 75vh;\n  width: 768px; }\n\n.shardFailureModal__desc {\n  max-width: 686px; }\n\n.shardFailureModal__descTitle {\n  width: 20% !important;\n  margin-top: 8px; }\n\n.shardFailureModal__descValue {\n  width: 80% !important;\n  margin-top: 8px; }\n\n.shardFailureModal__keyValueTitle {\n  padding-right: 8px; }\n\n@media only screen and (max-width: 574px) {\n  .shardFailureModal__keyValueTitle {\n    display: block;\n    width: 100%; }\n  .shardFailureModal__descTitle {\n    display: block;\n    width: 100% !important; }\n  .shardFailureModal__descValue {\n    display: block;\n    width: 100% !important; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .shardFailureModal__keyValueTitle {\n    display: block;\n    width: 100%; }\n  .shardFailureModal__descTitle {\n    display: block;\n    width: 100% !important; }\n  .shardFailureModal__descValue {\n    display: block;\n    width: 100% !important; } }\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},,function(module,exports){module.exports=__osdSharedDeps__.StyledComponents},function(module,exports){module.exports=__osdSharedDeps__.ElasticEuiLibServices}]);